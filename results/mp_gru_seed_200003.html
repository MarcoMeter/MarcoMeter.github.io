<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;500&display=swap" rel="stylesheet"/>
    <script src="template/cdn.plot.ly_plotly-2.6.3.min.js"></script>
    <style>
     /* Style the body */
      html, body {
        height: 100%;
        margin: 0;
        background-color: #000;
        color: white;
        font-family: "Montserrat", sans-serif;
        min-width: 1737px;
      }

      /* Set the width and hight of the video*/
      video {
        width: 600px;
        height: 400px;
      }

      /* Style the timeline text*/
      #selector_header {
        font-weight: 200;
      }

      /* Buttons should be displayed in a row */
      buttonrow {
        display: inline;
      }

      /* Style the figures */
      #figures {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        flex-flow: row nowrap;
      }

      /* Style the tab */
      .tab {
        overflow: hidden;
        background-color: #54595f;
      }

      /* Style the buttons inside the tab */
      .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
        color: white;
      }

      /* Change background color of buttons on hover */
      .tab button:hover {
        background-color: #909090;
      }

      /* Create an active/current tablink class */
      .tab button.active {
        background-color: #838383;
      }

      /* Style the tab content */
      .tabcontent {
        display: none;
        padding: 6px 12px;
        border-top: none;
        background-color: #000;
      }

      .mediatabcontent {
        display: none;
        padding: 0 px 0 px;
        border-top: none;
        background-color: #000;
        width: 100%;
        height: 100%;
      }

      /* Style the close button */
      .topright {
        float: right;
        cursor: pointer;
        font-size: 28px;
      }

      .topright:hover {
        color: red;
      }

      /* Style of the dropdown button */
      .dropbtn {
        background-color: #17202A;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
      }
      
      .dropdown {
        position: relative;
        display: inline-block;
      }
      
      /* Style of the dropdown content */
      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        background-color: #A6ACAF;
        z-index: 1;
      }
      
      .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }

      .gotostepcontainer {
          margin-bottom: 10px;
      }
      
      #score-container label, #score-container input {
        display: inline-block;
      }

      /* Style of the dropdown at hover */
      .dropdown-content a:hover {background-color: #ddd;}
      
      .dropdown:hover .dropdown-content {display: block;}
      
      .dropdown:hover .dropbtn {background-color: #161515;}
    </style>
  </head>
  <body>
    <!--- Define tabs -->
    <div class="tab">
      <button class="tablinks" onclick="location.href='../index.html'">Back</button>
      <button class="tablinks" onclick="openTab(event, 'Environment')">Environment</button>
      <button class="tablinks" onclick="openTab(event, 'Sampler')">Sampler</button>
      <button class="tablinks" onclick="openTab(event, 'Hyperparameters')">Hyperparameters</button>
      <button class="tablinks" onclick="openTab(event, 'Model')">Model</button>
      <button class="tablinks" onclick="openTab(event, 'Media')" id="defaultOpen">Media</button>
    </div>

    <!--- Define tab content -->
    <div id="Environment" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>type</b>: MemoryGym<br><b>name</b>: MysteryPath-v0<br><b>frame_skip</b>: 1<br><b>last_action_to_obs</b>: False<br><b>last_reward_to_obs</b>: False<br><b>obs_stacks</b>: 1<br><b>grayscale</b>: False<br><b>resize_vis_obs</b>: [84, 84]<br><b>positional_encoding</b>: False<br><b>reset_params</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>start-seed</b>: 200003<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>num-seeds</b>: 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>agent_scale</b>: 0.25<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>cardinal_origin_choice</b>: [0, 1, 2, 3]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>show_origin</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>show_goal</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>visual_feedback</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_goal</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_fall_off</b>: 0.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_path_progress</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>seed</b>: 200003<br><b>reward_normalization</b>: 0<br>
    </div>

    <div id="Model" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>load_model</b>: False<br><b>model_path</b>: <br><b>checkpoint_interval</b>: 500<br><b>activation</b>: relu<br><b>vis_encoder</b>: cnn<br><b>vec_encoder</b>: linear<br><b>num_vec_encoder_units</b>: 128<br><b>hidden_layer</b>: default<br><b>num_hidden_layers</b>: 1<br><b>num_hidden_units</b>: 512<br><b>recurrence</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>layer_type</b>: gru<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>sequence_length</b>: -1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>hidden_state_size</b>: 512<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>hidden_state_init</b>: zero<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reset_hidden_state</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>residual</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>num_layers</b>: 1<br>
    </div>

    <div id="Sampler" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>n_workers</b>: 32<br><b>worker_steps</b>: 512<br>
    </div>

    <div id="Hyperparameters" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>algorithm</b>: PPO<br><b>resume_at</b>: 0<br><b>gamma</b>: 0.995<br><b>lamda</b>: 0.95<br><b>updates</b>: 25000<br><b>epochs</b>: 3<br><b>refresh_buffer_epoch</b>: -1<br><b>n_mini_batches</b>: 8<br><b>advantage_normalization</b>: no<br><b>value_coefficient</b>: 0.5<br><b>max_grad_norm</b>: 0.25<br><b>share_parameters</b>: True<br><b>learning_rate_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.000275<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 1e-05<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 10000<br><b>beta_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.001<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 1e-06<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 10000<br><b>clip_range_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 10000<br><b>obs_reconstruction_schedule</b>: {'initial': 0.0}<br>
    </div>

    <div id="Media" class="mediatabcontent">
      <br>
      <center>
        <div id="figures" style="display: flex; flex-direction: column;">
          <div style="display: flex; flex-direction: row;">
            <div style="display: flex; flex-direction: column;">
              <div style="display: flex; flex-direction: row;">
                <label for="video_speed">Frame Rate: </label>
                <input type="text" id="video_speed" size="3" value="6" onkeydown="set_video_speed(event)">
              </div>

              <div style="display: flex; flex-direction: row;">
                <label for="show_ground_truth">Show Ground Truth Estimation</label>
                <input type="checkbox" id="show_ground_truth" onclick="show_ground_truth()">
              </div>

              <div style="display: flex; flex-direction: row;">
                <label for="show_decoder_video">Show Decoder Video</label>
                <input type="checkbox" id="show_decoder_video" onclick="show_decoder_video()">
              </div>

            <div style="display: flex; flex-direction: row;">
              <label for="show_agent_video">Show Agent Video</label>
              <input type="checkbox" id="show_agent_video" onclick="show_agent_video()">
            </div>
          </div>
          
            <div>
              <video id="video_player">
                <source src="" type="video/webm" />
              </video>
            </div>
            <div id="action_distr"></div>
          </div>
        </div>

        <br>
        <!-- Set buttons to control the figures -->
        <div class="gotostepcontainer">
          <label for="gotostep_text">Step:</label>
          <input type="text" id="gotostep_text" size="3" value="0" onkeydown="go_to_step(event)">
          <button id="return_button" type="return_button" onclick="return_to_step()">Return to step 0</button>
        </div>
        <buttonrow>
          <button id="play_pause_button" onclick="play_pause()" style="width:53px">Play</button>
          <button id="reset_button" onclick="reset()">Reset</button>
          <button id="back_button" onclick="back()">Back</button>
          <button id="next_button" onclick="next()">Next</button>
          <button id="stats_button" onclick="statistic()">Attention Scores</button>
        </buttonrow>
        <br>
        <!-- Set slider to control the figures -->
        <input id="time_selector" type="range" min="0" max="100" step="1" value="0" style="width: 300px;"/>

        <!-- Set transformer plot -->
        <div id="score-container">
          <label for="top_n_scores">Number of Top Attention Scores:</label>
          <input type="text" id="top_n_scores" size="3" value="-1" onkeydown="top_scores()">
        </div>
        <div id="transformer"></div>

        <!-- Set value plot and entropy plot -->
        <div id="figures">
          <div id="value_func"></div>
          <div id="entropy_func"></div>
          <!-- Dropdown button with some options-->
          <div class="dropdown" id="options">
            <button class="dropbtn">Options</button>
            <div class="dropdown-content" id="dropdown_content">
              <a href ="#" onclick="marker('value')">value_marker_toggle</a>
              <a href ="#" onclick="marker('entropy')">entropy_marker_toggle</a>
              <a href="#" id="all" onclick="set_action_space('all')">All</a>
            </div>
          </div>
        </div>
      </center>
    </div>

    <script>
        // Set active tab
        document.getElementById("defaultOpen").click();

        // Set video player
        const video_player = document.getElementById("video_player");
        const video_speed = document.getElementById("video_speed");
        const video_path = ['videos/video_seed_200003_119.webm', '', '', '', 'videos/video_seed_200003_120.webm', ''];
        var render_id = 0; var render_gt_id = 1; var render_decoder_id = 2; var render_decoder_gt_id = 3; var  render_agent_id = 4; var render_agent_gt_id = 5;
        var video_id = 0;
        // Hide video player if there is no ground truth video
        if (video_path[render_gt_id].length == 0 && video_path[render_decoder_gt_id].length == 0 && video_path[render_agent_gt_id].length == 0){
          document.querySelector('label[for="show_ground_truth"]').style.display = 'none';
          document.getElementById("show_ground_truth").style.display = 'none';
        } 
        if (video_path[render_decoder_id].length == 0){
          document.querySelector('label[for="show_decoder_video"]').style.display = 'none';
          document.getElementById("show_decoder_video").style.display = 'none';
        }
        if (video_path[render_agent_id].length == 0){
          document.querySelector('label[for="show_agent_video"]').style.display = 'none';
          document.getElementById("show_agent_video").style.display = 'none';
        }

        video_player.querySelector("source").src = video_path[0];
        video_player.load();
        var video_length = 0;

        // Play and pause button
        const play_pause_button = document.getElementById("play_pause_button");

        // Set step input
        const gotostep_text = document.getElementById('gotostep_text');
        var past_steps = [0];
        var step = 0;

        // Set number of scores input
        const top_n_scores = document.getElementById('top_n_scores');

        // Const stats button
        const stats_button = document.getElementById("stats_button");

        // Set time selector
        const time_selector = document.getElementById('time_selector');
        var tS_step_size = 1.0;

        // Set values for the plots
        var y_values = [[1.2982332706451416], [1.3039045333862305], [1.3090332746505737], [1.3035225868225098], [1.314154028892517], [1.3152755498886108], [1.3260178565979004], [1.2379895448684692], [1.2372452020645142], [1.2365472316741943], [1.1741142272949219], [1.1688249111175537], [1.1828757524490356], [1.1879377365112305], [1.1894686222076416], [1.1938632726669312], [1.2155452966690063], [1.2130260467529297], [1.1464613676071167], [1.139607310295105], [1.135663628578186], [1.127907633781433], [1.1111631393432617], [1.0806506872177124], [1.0809392929077148], [1.0811892747879028], [1.0834019184112549], [1.0536620616912842], [1.0334522724151611], [1.0485990047454834], [1.043208360671997], [1.043299674987793], [1.0607649087905884], [0.9075602293014526], [0.8893974423408508], [0.8828320503234863], [0.8983787894248962], [0.901573896408081], [0.9062923789024353], [0.9108010530471802], [0.899039089679718], [0.9102044701576233], [0.9118459224700928], [0.9416530132293701], [0.9555288553237915], [0.9529260993003845], [0.9627089500427246], [0.9692594408988953], [0.9618347883224487], [0.9607533812522888], [0.9850706458091736], [0.9841532707214355], [0.8939284086227417], [0.8797165155410767], [0.9062308073043823], [0.9199177026748657], [0.9132447242736816], [0.98288893699646], [0.9642397165298462], [0.9533170461654663], [0.9579651355743408], [0.990399181842804], [0.9583728313446045], [0.9571876525878906], [0.9709523320198059], [0.9978262782096863], [0.9832389950752258], [0.9736819863319397], [0.9979965686798096], [1.0106145143508911], [0.987640380859375], [1.0294430255889893], [1.046054720878601], [1.0234123468399048], [1.0487127304077148], [1.043278694152832], [1.060124158859253], [1.0707544088363647], [1.0755724906921387], [1.0726648569107056], [1.0199987888336182], [1.0020737648010254], [0.9724478721618652], [1.007800579071045], [1.0127695798873901], [0.8662605285644531], [0.855783224105835], [0.8510029911994934], [0.8532223701477051], [0.8662707805633545], [0.8539787530899048], [0.8467633724212646], [0.8660138249397278], [0.8587077260017395], [0.8567501306533813], [0.8592090010643005], [0.8590127229690552], [0.8793619871139526], [0.8948109745979309], [0.921072781085968], [0.9268841743469238], [0.9168322086334229], [0.9432792067527771], [0.9546806216239929], [0.9469260573387146], [0.941211462020874], [0.9494242072105408], [0.9297158122062683], [0.9501164555549622], [0.9454104900360107], [0.9444669485092163], [0.9463964104652405], [0.9348533153533936], [0.9583185315132141], [0.9220278859138489], [0.9345113039016724], [0.9266464114189148], [0.8876275420188904], [0.9325358271598816], [0.9277034997940063], [0.9374657273292542], [0.9057489633560181], [0.9045738577842712], [0.8994280099868774], [1.0656837224960327], [1.029942512512207], [1.0182545185089111], [1.009641170501709], [1.009482741355896], [0.9683242440223694], [0.9831443428993225], [0.9615006446838379], [0.9651042222976685], [0.9274567365646362]];
        var y_entropy = [[6.678538193227723e-05, 4.880680037899765e-08], [0.009748437441885471, 3.747355481475978e-10], [0.005078312940895557, 0.005928554106503725], [0.446450799703598, 0.5205135941505432], [5.93964614381548e-07, 0.003087021177634597], [1.2482129108093432e-08, 0.00014702040061820298], [2.349550385360999e-07, 0.0017342664068564773], [0.6229397058486938, 1.138625248131575e-05], [0.2975381910800934, 4.3242050651315367e-07], [0.02939225174486637, 0.0011291999835520983], [0.0015343810664489865, 1.4971928976592608e-06], [2.0527963897620793e-06, 0.0001328892685705796], [1.4190027286531404e-07, 2.2902482669451274e-05], [6.680222952581971e-08, 7.913732588349376e-06], [3.5576078971644165e-06, 0.003251595888286829], [4.233529864450247e-07, 0.0006536068394780159], [1.8994682022821507e-06, 0.0030698212794959545], [2.842737671926443e-07, 7.327178536797874e-06], [0.22253559529781342, 6.264784246923227e-08], [0.0014745240332558751, 0.04063990339636803], [0.009783759713172913, 0.0011085749138146639], [0.029433250427246094, 0.004310015123337507], [4.772551619680598e-06, 0.00026734688435681164], [1.888366227831284e-06, 0.002544848481193185], [1.7848634570327704e-06, 7.082669617375359e-05], [0.0005984250456094742, 0.0002864270645659417], [4.179264578851871e-05, 4.611370130191972e-08], [0.007423349656164646, 0.6800716519355774], [0.025361202657222748, 0.015565436333417892], [0.24689917266368866, 2.5932706648745807e-07], [0.3814610242843628, 9.542172483634204e-05], [8.481149507133523e-07, 0.0023740725591778755], [3.0377172777207306e-08, 1.3770774785371032e-05], [0.0015780822141095996, 0.506091296672821], [0.0022762673906981945, 0.015005814842879772], [0.0006382663268595934, 0.032206688076257706], [1.0863527677429374e-06, 0.6577257513999939], [2.629297446432588e-09, 0.000307530106510967], [5.276163950185264e-09, 0.0017115256050601602], [1.434258223298457e-07, 0.21780505776405334], [9.957305735497357e-08, 0.462881863117218], [1.1458921107987408e-05, 0.2247544229030609], [2.2872725821798667e-05, 0.43406084179878235], [0.006573530845344067, 8.92030311661074e-06], [3.2522925721423235e-06, 0.05084531754255295], [1.1525039589344033e-08, 0.00090377451851964], [8.348382429801404e-09, 0.13100095093250275], [1.404293016094016e-06, 0.002805469324812293], [0.0018891728250309825, 0.00039727764669805765], [6.892860824336822e-07, 0.043649084866046906], [0.003460858017206192, 0.06588935852050781], [3.357818911808863e-07, 0.03233138099312782], [0.000961946090683341, 1.0947889705903435e-07], [0.004772461485117674, 1.0164844077564794e-08], [0.07698965072631836, 2.1809345995826845e-11], [1.891960437205853e-07, 8.814164175419137e-05], [0.648820698261261, 0.00013685657177120447], [0.0032339775934815407, 2.0047199456030285e-09], [5.68768314224144e-07, 0.05254792422056198], [1.3693907874312572e-07, 0.008587449789047241], [3.792711211758615e-08, 0.002734870882704854], [2.4001010956453683e-07, 0.027948446571826935], [7.344685415411334e-10, 0.0007749127689749002], [9.887198615388115e-09, 0.015510362572968006], [3.3494380602405727e-09, 9.468000644119456e-05], [0.0018028286285698414, 0.003149228636175394], [4.074889147887006e-06, 0.6098445653915405], [9.745455287202276e-08, 0.010580111294984818], [0.00034653578768484294, 0.014318193309009075], [0.001212477800436318, 0.007735868915915489], [2.1745238498738217e-08, 0.0687485858798027], [7.502060128672383e-08, 0.01949974335730076], [3.0318890509306584e-08, 0.3574957549571991], [1.0517386073161106e-08, 0.26291710138320923], [0.00034825250622816384, 0.0003408509655855596], [8.385658389897799e-09, 0.3424736559391022], [1.3733996162557105e-08, 0.006544072646647692], [1.6589739004757575e-07, 0.02070651575922966], [2.306768465132336e-06, 0.021231694146990776], [0.00019159539078827947, 0.0004841620975639671], [2.31005355999514e-06, 0.00014268621453084052], [4.539117981039453e-06, 0.013684599660336971], [0.11915335059165955, 0.0001908230478875339], [0.2353893369436264, 0.00023749693355057389], [0.44336044788360596, 0.3589000403881073], [0.162584125995636, 9.664252502261661e-06], [2.237603894172935e-06, 0.6231990456581116], [6.721148224642093e-07, 0.2941571772098541], [4.4891214656672673e-07, 0.1787223070859909], [1.4793697289405827e-07, 0.29124176502227783], [4.125223718176585e-09, 0.03749246895313263], [9.86547288306383e-09, 0.09134811908006668], [1.6049575890519918e-08, 0.0031901407055556774], [0.0031121389474719763, 0.0008227101061493158], [5.784977020084625e-06, 0.4136418104171753], [5.664923605763761e-07, 0.03777836263179779], [0.00027766538551077247, 0.022033944725990295], [0.001417814870364964, 0.009447215124964714], [1.247936580739406e-07, 0.0010977511992678046], [2.952021702640195e-07, 0.00020765344379469752], [8.505609372377876e-08, 0.05452663078904152], [8.989621846922091e-08, 0.6590337753295898], [2.0124189177295193e-05, 0.10976512730121613], [6.45071995819535e-09, 0.23581641912460327], [6.738581959098155e-08, 0.0031371675431728363], [0.0009326571598649025, 0.366266667842865], [0.1148470938205719, 0.05224822089076042], [0.02033006213605404, 0.00268685189075768], [1.3332920616448973e-06, 0.0014974582009017467], [0.001296231523156166, 7.823793566785753e-05], [0.00047549334703944623, 0.0003284853883087635], [2.9815466859872686e-06, 0.6246504783630371], [0.3980756998062134, 0.02299393340945244], [0.0027672338765114546, 0.6214321851730347], [0.32822373509407043, 0.4249700605869293], [0.00030406672158278525, 0.05663878843188286], [0.660866916179657, 0.6776126623153687], [0.15308299660682678, 0.005017473828047514], [0.39199361205101013, 0.014483877457678318], [0.6933028697967529, 0.00020145044254604727], [0.41977450251579285, 2.8673939596046694e-06], [0.13697847723960876, 0.00019114778842777014], [0.5977348685264587, 0.049937859177589417], [9.643290104577318e-05, 0.16780568659305573], [0.00019391230307519436, 0.001407235162332654], [3.2148777791007888e-06, 1.4884422853356227e-05], [2.535466046538204e-05, 1.7019385268213227e-05], [0.00023695816344115883, 5.028311534260865e-06], [0.00030164976487867534, 4.904592060483992e-06], [5.899592360947281e-05, 5.741779318668705e-07], [0.0010356585262343287, 2.939578052973957e-06], [0.003830170491710305, 1.418347983417334e-05], [0.0008717500022612512, 1.0133813702850603e-05], [0.0008861086098477244, 0.0023826169781386852]];
        var y_attention_weights = [];
        var y_action = [[[5.088116722617997e-06, 1.5600948225270059e-15, 0.9999948740005493], [3.19700928057276e-12, 1.0, 2.457733794258843e-09]], [[0.9988252520561218, 0.00028281062259338796, 0.0008919968386180699], [1.330857407784436e-12, 1.0, 1.3519166688902295e-11]], [[0.0006037171697244048, 0.9993963241577148, 2.8039207067287464e-10], [0.0007132682367227972, 0.9992832541465759, 3.486260993668111e-06]], [[0.1640644669532776, 0.8359273672103882, 8.145567335304804e-06], [0.21499386429786682, 1.0331840485378052e-06, 0.7850050330162048]], [[3.4572401830246235e-08, 1.0, 1.1600988995396494e-13], [0.9996786117553711, 0.00024094975378829986, 8.044172136578709e-05]], [[5.872102804005408e-10, 1.0, 1.897479332132416e-14], [0.999988317489624, 1.1107917089248076e-05, 6.19771469700936e-07]], [[1.293538076652112e-08, 1.0, 1.9992440049385746e-13], [0.9998207688331604, 0.00017778454639483243, 1.4785878192924429e-06]], [[0.31484493613243103, 0.6851538419723511, 1.2105884934499045e-06], [7.273046094269375e-07, 0.9999992847442627, 8.213445035210043e-09]], [[0.9121541380882263, 0.0878448560833931, 1.02553394754068e-06], [1.4248636936997627e-08, 1.0, 9.472088002837609e-09]], [[0.004608305171132088, 0.9953916072845459, 1.405720837510671e-07], [0.00011176375119248405, 0.9998881816864014, 3.993914532429699e-08]], [[6.030053918948397e-05, 8.57058257679455e-05, 0.9998539686203003], [0.9999998807907104, 9.08695696466566e-08, 1.159050633248171e-09]], [[1.1180495818052805e-07, 0.9999998807907104, 1.4586643004577127e-08], [0.9999892711639404, 1.1182440751156264e-08, 1.0674140867195092e-05]], [[7.58427098901393e-09, 1.0, 3.6338419252823773e-12], [0.9999984502792358, 5.783611527476751e-07, 9.493371067037515e-07]], [[3.3896774276342967e-09, 1.0, 2.8625754544542303e-11], [0.9999995231628418, 3.837032025444387e-08, 5.003104206480202e-07]], [[2.0321650140431302e-07, 0.9999997615814209, 2.4312054591746346e-08], [0.9996353387832642, 0.00036467332392930984, 4.125609021077281e-10]], [[2.311608859884018e-08, 1.0, 8.076090352027165e-10], [0.99993896484375, 6.105745706008747e-05, 4.82778483856805e-09]], [[1.1730901405826444e-07, 0.9999998807907104, 1.3410698107563235e-09], [0.9996582269668579, 0.00034177221823483706, 1.3036182799908147e-08]], [[1.3126058462376022e-08, 1.0, 2.316175695682432e-09], [0.9999995231628418, 3.843853733087599e-07, 7.123581013956937e-08]], [[0.9416527152061462, 0.05833209306001663, 1.5141977200983092e-05], [3.1925233567875466e-09, 1.0, 7.586458371233729e-12]], [[0.0001472894218750298, 0.9998507499694824, 1.958843085958506e-06], [0.006785006728023291, 0.9932149648666382, 1.2173564933881664e-10]], [[0.001274656387977302, 0.9987244009971619, 9.52850200519606e-07], [0.00010953417222481221, 0.9998904466629028, 2.115289277071497e-09]], [[0.004604540299624205, 0.9953906536102295, 4.797983365278924e-06], [0.0005010340246371925, 0.9994988441467285, 1.1481410666647207e-07]], [[1.5350809690062306e-07, 0.9999997615814209, 1.5048874502099352e-07], [0.9999771118164062, 2.2878013623994775e-05, 1.7332326979896395e-14]], [[8.13171183722261e-08, 0.9999998807907104, 3.2531140448099904e-08], [0.9997231364250183, 0.0002768385747913271, 1.1159421477169307e-11]], [[5.914930212291836e-10, 0.9999998807907104, 1.1065171889867997e-07], [0.9999946355819702, 5.364739990909584e-06, 4.662112222730624e-16]], [[4.265753159415908e-05, 0.999947190284729, 1.0108155038324185e-05], [0.999975323677063, 2.4657823814777657e-05, 1.0268988437367454e-10]], [[2.562783585347006e-08, 0.9999970197677612, 3.0284297736216104e-06], [1.0, 2.3176913721556502e-09, 1.1552307504700265e-12]], [[0.0005078961257822812, 0.9991511106491089, 0.00034098498872481287], [0.5806797742843628, 0.4193201959133148, 2.596038717328497e-09]], [[0.0036832131445407867, 0.9962142109870911, 0.00010255099186906591], [0.002184573793783784, 0.9978153705596924, 4.516035878587843e-10]], [[0.932604968547821, 0.06739027798175812, 4.831565092899837e-06], [1.4332041331499568e-08, 1.0, 1.9436471529465926e-11]], [[0.12722501158714294, 0.8727405667304993, 3.44429281540215e-05], [7.432358415826457e-06, 0.9999926090240479, 8.978687238148098e-10]], [[3.248879565376228e-08, 1.0, 1.604249355580123e-08], [0.9997442364692688, 0.00025540514616295695, 3.840688691525429e-07]], [[8.78770722856359e-10, 1.0, 5.660539814655863e-10], [0.9999991655349731, 8.925903784984257e-07, 2.1770279801103243e-08]], [[0.00011244697088841349, 3.9829716115491465e-05, 0.9998476505279541], [0.8018977046012878, 0.196701779961586, 0.0014005469856783748]], [[0.00024432223290205, 0.9997556805610657, 8.213135949119987e-09], [0.0020844959653913975, 0.997911274433136, 4.128427463001572e-06]], [[5.9526602854020894e-05, 0.9999405145645142, 1.0891711837990314e-10], [0.00513636227697134, 0.9948632121086121, 5.128774773766054e-07]], [[6.568150467956002e-08, 0.9999998807907104, 3.121765216121397e-12], [0.6322941780090332, 0.36770567297935486, 1.5402700626054866e-07]], [[1.1443893055407273e-10, 1.0, 3.3700280521915815e-13], [0.9999732971191406, 2.665744614205323e-05, 3.057252673244193e-09]], [[2.373738983152407e-10, 1.0, 5.538165412377616e-13], [0.9998224377632141, 0.00017764908261597157, 2.4949566856946603e-09]], [[7.671272506115656e-09, 1.0, 3.0972592112571418e-12], [0.9432944655418396, 0.056705597788095474, 8.40043323790951e-09]], [[5.219412901880105e-09, 1.0, 1.2497838050920529e-12], [0.8255441188812256, 0.1744559109210968, 4.094923511388515e-09]], [[7.442192213602539e-07, 0.9999992847442627, 1.6059917284927394e-10], [0.05919777229428291, 0.940802276134491, 1.2808732963165426e-09]], [[1.5686113101764931e-06, 0.9999984502792358, 1.5615385720590957e-11], [0.15664251148700714, 0.843357503414154, 3.227558664775643e-08]], [[0.0008097632671706378, 0.9991902709007263, 1.2281083268395054e-12], [5.505755211743235e-07, 0.9999994039535522, 1.5565518873827955e-09]], [[2.113034440753836e-07, 0.9999997615814209, 2.0461654592907053e-10], [0.9911237955093384, 9.385717021359596e-06, 0.008866896852850914]], [[5.397627345082867e-10, 1.0, 2.2531588682490888e-13], [0.9999164342880249, 7.080414070514962e-05, 1.2756545402226038e-05]], [[3.851166052726285e-10, 1.0, 7.778773657921966e-16], [0.02878318540751934, 0.9711697697639465, 4.7035668103490025e-05]], [[8.633836046101351e-08, 0.9999998807907104, 8.816728678520333e-15], [0.0002955149975605309, 0.999695897102356, 8.547748620912898e-06]], [[0.0001983259862754494, 0.9998016953468323, 8.867100630138847e-12], [2.7010062240151456e-06, 0.9999655485153198, 3.169232149957679e-05]], [[4.030867728488374e-08, 1.0, 1.3014163358082698e-10], [0.9935007691383362, 0.0027916664257645607, 0.0037076324224472046]], [[0.0003911883686669171, 0.9996088147163391, 7.370384302873845e-09], [0.005688227713108063, 0.9894320964813232, 0.004879687912762165]], [[1.8843749671759724e-08, 1.0, 2.4838344922506472e-11], [0.0051260958425700665, 0.9948585033416748, 1.543715006846469e-05]], [[9.362592390971258e-05, 0.9999064207077026, 6.89701976086532e-11], [7.958672783303644e-12, 1.0, 5.759715371311813e-09]], [[0.9994767308235168, 0.00013225781731307507, 0.0003910210507456213], [8.152634123348435e-11, 1.0, 3.8137545899097347e-10]], [[0.9852262139320374, 0.014767508953809738, 6.321983619272942e-06], [2.5541279703202024e-13, 1.0, 5.088352699259002e-13]], [[9.701577319276566e-09, 1.0, 4.747706672247887e-10], [6.5933609221247025e-06, 0.9999932050704956, 1.8105693300185521e-07]], [[0.35165366530418396, 0.6483136415481567, 3.271542300353758e-05], [1.0960980944219045e-05, 0.9999890327453613, 4.1301206010757596e-08]], [[5.858554197324395e-10, 0.0003624709788709879, 0.9996374845504761], [1.0, 1.5870455991051635e-11, 6.88075360577578e-11]], [[2.9516625588144052e-08, 1.0, 2.899466444716836e-09], [0.9907784461975098, 0.009199433960020542, 2.206138196925167e-05]], [[7.299678639327567e-09, 1.0, 6.862846228805619e-12], [0.9989054203033447, 0.0010896498570218682, 4.918026661471231e-06]], [[1.8861934236724665e-09, 1.0, 1.313189140761395e-12], [0.9997023940086365, 0.00029336794978007674, 4.124135557503905e-06]], [[1.3021824507575275e-08, 1.0, 1.5854398349723908e-10], [0.9956585168838501, 0.004341510124504566, 2.3285345207568753e-08]], [[2.995562131680174e-11, 1.0, 2.9835845165998576e-13], [0.9999263286590576, 7.371608808171004e-05, 2.8110547223292315e-09]], [[4.5964945738496965e-10, 1.0, 1.517354628445891e-13], [0.9978245496749878, 0.002175469184294343, 3.788840174934194e-08]], [[1.4089471256362174e-10, 1.0, 5.939083426442782e-12], [0.9999926090240479, 7.4014337769767735e-06, 4.592475733034007e-09]], [[0.00018821205594576895, 0.9998118281364441, 2.0630939179255847e-09], [0.0003517489822115749, 0.9996482133865356, 6.928243312387394e-09]], [[2.6930567287308804e-07, 0.9999997615814209, 4.138840659084764e-11], [0.2987997829914093, 0.7012001872062683, 3.5285882660218704e-08]], [[5.0682160690485034e-09, 1.0, 2.670744181365592e-11], [0.9986029267311096, 0.0013971340376883745, 8.138675511304427e-09]], [[3.0379576855921187e-05, 0.9999696016311646, 8.96985430376418e-10], [0.0019823811016976833, 0.9980176687240601, 4.3912304903415134e-08]], [[0.000120997239719145, 0.999879002571106, 5.554492421566692e-10], [0.0009728500735946, 0.9990260601043701, 1.1065160379075678e-06]], [[1.048078179799461e-09, 1.0, 2.814380022433949e-12], [0.01285635121166706, 0.9871436953544617, 1.527662718547873e-10]], [[3.870948450668266e-09, 1.0, 1.5149926669080771e-12], [0.002841648878529668, 0.997158408164978, 2.4049635172218586e-08]], [[1.4917006518899711e-09, 1.0, 8.426283081659422e-14], [0.11530716717243195, 0.8846909999847412, 1.8767632354865782e-06]], [[4.857014790360381e-10, 1.0, 3.854792353374936e-12], [0.9263777136802673, 0.07362154126167297, 6.164722776702547e-07]], [[3.0563816835638136e-05, 0.999969482421875, 1.6774159838917058e-10], [2.9414999517030083e-05, 0.9999703168869019, 2.904400844272459e-07]], [[3.841203743970567e-10, 1.0, 2.1555112295762457e-12], [0.8928782343864441, 0.10682929307222366, 0.0002924595901276916]], [[3.594305963972033e-10, 1.0, 2.6851854073584036e-10], [0.9992247819900513, 0.0007129164296202362, 6.229037535376847e-05]], [[7.645329702654635e-09, 1.0, 1.1163993063334487e-09], [0.9971721768379211, 0.0023474390618503094, 0.0004803422780241817]], [[1.454506133313771e-07, 0.9999998807907104, 8.060176970303701e-10], [0.0031382543966174126, 0.9968612194061279, 6.001315568937571e-07]], [[1.5721960153314285e-05, 0.9999841451644897, 1.2373598679005227e-07], [4.2267234675819054e-05, 0.9999566078186035, 1.0988376288878499e-06]], [[1.46765131603388e-07, 0.9999998807907104, 3.261726652659114e-11], [1.1526012713147793e-05, 0.9999884366989136, 9.819718371772979e-09]], [[2.8559000497807574e-07, 0.9999997615814209, 1.2975953644911442e-08], [0.0018803463317453861, 0.9981194138526917, 2.7886588327419304e-07]], [[0.00019690886256285012, 0.9747008681297302, 0.025102242827415466], [1.5828503819648176e-05, 0.9999841451644897, 6.591839074587824e-09]], [[2.877676161006093e-05, 0.9370015859603882, 0.06296956539154053], [2.0109411707380787e-05, 0.9999798536300659, 2.1356661231153318e-11]], [[3.4998036426259205e-05, 0.1620006114244461, 0.8379643559455872], [0.11600624769926071, 0.8839932680130005, 5.524143489310518e-07]], [[3.75468323099426e-09, 0.9616749882698059, 0.03832508623600006], [0.9999994039535522, 6.084652568461024e-07, 8.74462585676028e-11]], [[1.3960328715256765e-07, 0.9999998807907104, 1.6850870698803533e-09], [0.6849594712257385, 0.31502944231033325, 1.107079424400581e-05]], [[3.939934245522636e-08, 1.0, 1.5049966481384125e-11], [0.9136168360710144, 0.08637657016515732, 6.522686362586683e-06]], [[2.5669592673693842e-08, 1.0, 1.0278916606765165e-11], [0.9565823078155518, 0.04341106116771698, 6.601681889151223e-06]], [[7.878695917895584e-09, 1.0, 3.8688042353074437e-11], [0.91482013463974, 0.08517982810735703, 2.0159165003974522e-08]], [[1.8316052841083064e-10, 1.0, 6.649386987203632e-13], [0.9938402771949768, 0.006159793585538864, 5.0814432661638875e-09]], [[4.5847792229380957e-10, 1.0, 2.328054199071672e-13], [0.9816998839378357, 0.018300050869584084, 2.965655276909729e-08]], [[7.271355184634842e-10, 1.0, 3.096327361173934e-11], [0.999643087387085, 0.00035686054616235197, 1.669377169832842e-08]], [[0.0003470980445854366, 0.9996528625488281, 9.329897743270976e-09], [7.873599679442123e-05, 0.9999212026596069, 1.4481205123928476e-09]], [[3.9166144460978103e-07, 0.9999996423721313, 3.128921011175123e-10], [0.1448335349559784, 0.8551664352416992, 1.2127639337222718e-08]], [[3.103865253706317e-08, 1.0, 1.4699106376525606e-09], [0.9937839508056641, 0.006216050125658512, 6.869992130731362e-09]], [[2.3812568542780355e-05, 0.9999761581420898, 1.8669684465066894e-08], [0.0032796128652989864, 0.9967203736305237, 1.698287377394081e-08]], [[0.0001439715560991317, 0.9998559951782227, 1.5193958091686e-08], [0.0012259098002687097, 0.9987738728523254, 2.100316578435013e-07]], [[6.6237042517514055e-09, 1.0, 1.9280204602983853e-12], [0.00010838307935046032, 0.9998916387557983, 3.9789279510094033e-11]], [[1.6470140806745803e-08, 1.0, 1.0499373722869243e-12], [1.7373096852679737e-05, 0.9999825954437256, 3.505196799480359e-09]], [[4.421268240406562e-09, 1.0, 1.6526111533930743e-13], [0.009676683694124222, 0.9903222918510437, 1.0994490367011167e-06]], [[4.5609964693937854e-09, 1.0, 9.983597282214873e-11], [0.3701243996620178, 0.6298747062683105, 8.144826324496535e-07]], [[1.4162387742544524e-06, 0.9999985694885254, 5.096398414394798e-09], [0.022945214062929153, 0.9770117402076721, 4.309122959966771e-05]], [[2.5874943854198307e-10, 1.0, 3.0512026932827396e-11], [0.936809778213501, 0.06317287683486938, 1.7350139387417585e-05]], [[6.136949837198813e-10, 1.0, 2.758622885679074e-09], [0.9996756315231323, 0.00021481113799382, 0.00010949371790047735]], [[4.7620465920772403e-05, 0.9999157190322876, 3.664855830720626e-05], [0.1117570698261261, 0.8859267234802246, 0.002316286088898778]], [[7.805001783767196e-11, 0.9755604267120361, 0.02443956956267357], [0.9908093214035034, 0.009190622717142105, 2.7155491397201637e-13]], [[5.0195580115541816e-05, 0.9970596432685852, 0.002890147501602769], [0.00029427235131151974, 0.9997057318687439, 5.508509447194054e-12]], [[7.567108184503013e-08, 0.9999998807907104, 4.8320036860616256e-09], [0.0001523124083178118, 0.9998471736907959, 4.174538048573595e-07]], [[0.0001284042518818751, 0.9998704195022583, 1.1718967698470806e-06], [5.995067112962715e-06, 0.9999940395355225, 2.4406324072856478e-08]], [[1.2345981303951703e-05, 0.9999593496322632, 2.8199874577694573e-05], [2.865318128897343e-05, 0.9999713897705078, 8.425244502063833e-09]], [[1.8451769889793468e-08, 0.9999998807907104, 1.7021156395458092e-07], [0.3154415190219879, 0.6844260096549988, 0.0001324545155512169]], [[2.2864817594836495e-08, 0.13623806834220886, 0.8637619614601135], [0.9965517520904541, 0.003448277711868286, 1.7635507276736462e-08]], [[1.7090810899844655e-07, 0.0003037890128325671, 0.9996960163116455], [0.6874306201934814, 0.3125411868095398, 2.8229074814589694e-05]], [[1.5682222453961003e-07, 0.10143349319696426, 0.8985663056373596], [0.8486939668655396, 0.15130598843097687, 1.4815569215897995e-07]], [[3.940266779522972e-08, 0.9999737739562988, 2.6280236852471717e-05], [0.010138642974197865, 0.989861249923706, 6.306444788606314e-08]], [[3.509288433178881e-07, 0.37363412976264954, 0.6263655424118042], [0.5879030227661133, 0.4120969772338867, 1.6994781970591788e-10]], [[3.569528006508449e-11, 0.035413388162851334, 0.9645866751670837], [0.9994045495986938, 0.0005954274674877524, 5.7389688196184205e-15]], [[6.046146836524713e-07, 0.8670343160629272, 0.1329650729894638], [0.002009094227105379, 0.9979909658432007, 4.369682567173516e-12]], [[4.208704922348261e-05, 0.4881182014942169, 0.511839747428894], [1.6758298443164676e-05, 0.9999831914901733, 1.2191476669344559e-13]], [[2.7917796614929102e-05, 0.8518382906913757, 0.14813373982906342], [1.8495556730613316e-07, 0.9999997615814209, 2.2919405004380227e-15]], [[1.5234647321449302e-08, 0.9693546295166016, 0.03064534440636635], [1.5825726222828962e-05, 0.9999841451644897, 9.307198024430252e-16]], [[4.176025072410994e-07, 0.7148751020431519, 0.2851245105266571], [0.008699800819158554, 0.9913001656532288, 9.363316788579823e-10]], [[1.3401978908155615e-13, 0.9999924898147583, 7.527688467234839e-06], [0.9600436687469482, 0.03995639085769653, 1.1217975853794471e-10]], [[0.9999839067459106, 1.610093386261724e-05, 5.376435584171675e-14], [9.467607924307231e-07, 0.9998577833175659, 0.0001412306446582079]], [[0.9999997615814209, 2.090182249503414e-07, 3.528039947860162e-14], [1.2225956247391423e-08, 0.9999990463256836, 9.91613319456519e-07]], [[0.9999982118606567, 1.7703671346680494e-06, 8.808237914377938e-16], [2.279051969367174e-08, 0.9999988079071045, 1.1450747479102574e-06]], [[0.9999799728393555, 2.0054505512234755e-05, 2.8324407055912992e-11], [1.7825941256432998e-07, 0.9999997615814209, 1.4329914677091438e-07]], [[0.9999738931655884, 2.6097319278051145e-05, 7.381229655267774e-11], [2.0900844788229733e-07, 0.9999996423721313, 1.051711393529331e-07]], [[0.9999958276748657, 2.1625173758366145e-06, 2.020738520513987e-06], [3.256050717936887e-08, 1.0, 6.043960887325284e-10]], [[0.9998984336853027, 0.00010159311932511628, 5.066739389159025e-11], [1.5603262681906926e-07, 0.9999998807907104, 2.8433216670009642e-08]], [[0.9995613694190979, 0.0004386669606901705, 2.934581397329161e-11], [7.6516261060533e-07, 0.9999991655349731, 1.5660212682178098e-07]], [[0.9999160766601562, 8.391997835133225e-05, 1.0358346180794342e-08], [6.094036848480755e-07, 0.9999994039535522, 2.630378936885336e-08]], [[8.538280235370621e-05, 5.152610782488409e-08, 0.9999145269393921], [0.999757707118988, 0.0001927614357555285, 4.9593123549129814e-05]]]; // action probs
        var action =  [[2, 1], [0, 1], [1, 1], [1, 0], [1, 0], [1, 0], [1, 0], [1, 1], [0, 1], [1, 1], [2, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [0, 1], [1, 0], [1, 1], [1, 1], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 1], [1, 1], [0, 1], [1, 1], [1, 0], [1, 0], [2, 1], [1, 1], [1, 1], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 1], [1, 1], [1, 1], [1, 0], [1, 0], [1, 1], [1, 1], [1, 1], [1, 0], [1, 1], [1, 1], [1, 1], [0, 1], [0, 1], [1, 1], [0, 1], [2, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 1], [1, 1], [1, 0], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [1, 0], [1, 1], [1, 0], [1, 0], [1, 0], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 1], [1, 1], [1, 0], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [1, 0], [1, 0], [1, 1], [1, 0], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [1, 0], [2, 0], [2, 0], [1, 1], [1, 0], [2, 0], [1, 1], [2, 1], [1, 1], [1, 1], [2, 1], [1, 0], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [2, 0]];
        var action_names = [['no-op', 'left', 'right'], ['no-op', 'up', 'down']];
        var x_values = [...Array(y_values.length).keys()];

        var y_entropy_plot = [];
        var y_values_plot = [];

        // Set marker for plots
        var entropy_marker = false;
        var value_marker = false;

        // Set the to be shown statistic
        var statistic_type = 'general'
        // Only used for the transformer plot to show the correct statistic with tab switching
        var statistic_plot_id = 0;
        // Hide statistic type button if there is no attention weights
        if(y_attention_weights.length == 0) stats_button.style.display = 'none';

        // Set the to be shown action_space(s) for the entropy plot
        var entr_selected_action_space = null;

        var is_multi_discrete = action[0].length != 1;
        var is_discrete = action[0].length == 1;

        // Reformat the data for the plots
        // Each function y - value should be stored in a separate array
        for(var j = 0; j < y_values[0].length; j++)
            for(var i = 0; i < y_values.length; i++)
                y_values_plot.push(y_values[i][j]);

        if(is_discrete) { // If action_space is discrete
          for(var j = 0; j < y_entropy[0].length; j++)
              for(var i = 0; i < y_values.length; i++)
                  y_entropy_plot.push(y_entropy[i][j]);
        }
        else { // If action_space is multi discrete
          for(var j = 0; j < y_entropy[0].length; j++) {
            var y_entropy_vals = [];
            for(var i = 0; i < y_entropy.length; i++) {
                y_entropy_vals.push(y_entropy[i][j]);
            }
            y_entropy_plot.push(y_entropy_vals);
          }
        }

        // Set action_names for distr. plot if it does not exist
        if(action_names == null){
          action_names = [];
          for(var i = 0; i < y_action[0].length; i++){
            for(var j = 0; j < y_action[0][0].length; j++)
              if(is_discrete){ // if action space is discrete
                action_names.push("action_" + String(j));
            }
            else { // if action space is multi_discrete
              var action_branch_names = []; // Names of the branches of the action space
              for(var j = 0; j < y_action[0][i].length; j++){
                action_branch_names.push("action_" + String(j));
              }
              action_names.push(action_branch_names);
            }     
          }
        }
        else{
          if(action[0].length == 1 && Array.isArray(action_names[0])){ // If action space is discrete and action_names is multi_discrete
            action_names = action_names[0]; // Set action_names to the first branch of the action space
          }
        }

        // Modify dropdown menu
        if(is_discrete){ // if action space is discrete
          document.getElementById("all").outerHTML=""; // remove dropdown option 'all'
        }
        else { // If action space is multi_discrete
          // Create dropdown menu for the entropy function
          var dropdown_content = document.getElementById("dropdown_content"); 
          for(var i = 0; i < action[0].length; i++){
            var entropy_dropdown_option = document.createElement("a");
            entropy_dropdown_option.innerHTML = "action_space_" + String(i);
            entropy_dropdown_option.setAttribute("href", "#");
            entropy_dropdown_option.setAttribute("onclick", "set_action_space(" + String(i) + ")");
            dropdown_content.appendChild(entropy_dropdown_option);
          }
        }

        window.addEventListener('load', () => {
          // Set video length to length - 0.9999 because the last frame is two seconds long
          video_length = video_player.duration - 0.9999;
          time_selector.setAttribute('max', video_length); // Set max value of time selector to video length

          video_player.addEventListener('timeupdate', timeListener); // Update time selector and plots when video is playing
          video_player.addEventListener('dblclick', function(e) {open_fullscreen(video_player);}); // Open video in fullscreen when video is double clicked
          video_player.playbackRate = 6; // Set video playback rate to frame rate
          reset(); // Reset video to start
        }, false);
      
      // Update video time if time selector is changed
      time_selector.addEventListener('input', () => {
          video_player.currentTime = time_selector.value
          pause();
          update();
      })

      // Add event manager for tab
      window.addEventListener('keydown', function(event) {
          if (event.key === 'Tab') {
              if (statistic_type == "transformer") {
                statistic_plot_id = (statistic_plot_id + 1) % 3;
                // Set action plot if statistic_plot_id is 0
                if(statistic_plot_id == 0){
                  // Update action plot
                  if(is_discrete) { // If action_space is discrete
                    set_bar_action_plot(y_action[step][0], action[step][0], action_names);
                  }
                  else { // If action_space is multi discrete
                      set_stacked_bar_action_plot(y_action[step], action[step], action_names);
                  }
                }
                // Set value plot if statistic_plot_id is 1
                if (statistic_plot_id == 1) {
                  set_scatter_line_plot('action_distr', "Value Function", y_values_plot, step, value_marker);
                }

              // Set entropy plot if statistic_plot_id is 2
              if (statistic_plot_id == 2) {
                  if(is_discrete) { // If action_space is discrete
                      set_scatter_line_plot('action_distr', "Entropy Function", y_entropy_plot, step, entropy_marker);
                  }
                  else { // If action_space is multi discrete
                      set_scatter_lines_plot('action_distr', "Entropy Function", y_entropy_plot, step, entropy_marker);
                  }
              }
          }
      }
    });

    // Show ground truth if checkbox is checked
    function show_ground_truth() {
        // Get the checkbox element by its ID
        var checkbox = document.getElementById("show_ground_truth");
        
        // Check if the checkbox is checked
        if (checkbox.checked) { // Show the ground truth
          if (video_id == render_id) video_id = render_gt_id;
          if (video_id == render_decoder_id) video_id = render_decoder_gt_id;
          if (video_id == render_agent_id) video_id = render_agent_gt_id;
          set_video(video_path[video_id]);
        } else {
          if (video_id == render_gt_id) video_id = render_id;
          if (video_id == render_decoder_gt_id) video_id = render_decoder_id;
          if (video_id == render_agent_gt_id) video_id = render_agent_id;
          set_video(video_path[video_id]);
        }
      }

    // Show decoder video if checkbox is checked
    function show_decoder_video() {
      var checkbox = document.getElementById("show_decoder_video");
      document.getElementById("show_agent_video").checked = false;

      if (checkbox.checked) { 
          if (video_id == render_id) video_id = render_decoder_id;
          if (video_id == render_gt_id) video_id = render_decoder_gt_id;
          if (video_id == render_agent_id) video_id = render_decoder_id;
          if (video_id == render_agent_gt_id) video_id = render_decoder_gt_id;
          set_video(video_path[video_id]);
        } else { // Hide decoder video
          if (video_id == render_decoder_id) video_id = render_id;
          if (video_id == render_decoder_gt_id) video_id = render_gt_id;
          set_video(video_path[video_id]);
        }
    }

    // Show agent video if checkbox is checked
    function show_agent_video() {
      var checkbox = document.getElementById("show_agent_video");
      document.getElementById("show_decoder_video").checked  = false;

      if (checkbox.checked) { 
          if (video_id == render_id) video_id = render_agent_id;
          if (video_id == render_gt_id) video_id = render_agent_gt_id;
          if (video_id == render_decoder_id) video_id = render_agent_id;
          if (video_id == render_decoder_gt_id) video_id = render_agent_gt_id;
          set_video(video_path[video_id]);
        } else { // Hide agent video
          if (video_id == render_agent_id) video_id = render_id;
          if (video_id == render_agent_gt_id) video_id = render_gt_id;
          set_video(video_path[video_id]);
        }
    }

    // Set the video to the given path
    function set_video(path) {
        // Get video data to make the switch seamless
        var current_time = video_player.currentTime;
        var play_back_rate = video_player.playbackRate;
        var is_paused = video_player.paused;
        video_player.querySelector("source").src = path;
        // Reload video
        video_player.load();
        video_player.currentTime = current_time;
        video_player.playbackRate = play_back_rate;
        if(is_paused) pause();
        else play();
    }


      /**
      * Update time selector and plots when video is playing
      */
      function timeListener() {
        if(!video_player.paused) {
          update();
        } 
      }

      /**
      * Toggles button and video between playing and paused
      */
      function play_pause() {
        if(video_player.paused)
          play();
        else 
          pause();
      }

      /**
       * Returns to the previous frame step
       */
       function return_to_step() {
        video_player.currentTime = past_steps.pop();
        pause();
        update();
        gotostep_text.value = step;
        return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
       * Updates the plots and time selector
       */
       function go_to_step(event) {
        if (event.keyCode === 13) {
          past_steps.push(step);
          video_player.currentTime = Number(gotostep_text.value);
          pause();
          update();
          gotostep_text.value = step;
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
        }
      }

      function set_video_speed(event) {
        if (event.keyCode === 13) {
          video_player.playbackRate = Number(video_speed.value);
        }
      }

      /**
       * Updates the plots and time selector
       */
       function top_scores() {
        if (event.keyCode === 13) update()
      }

      /**
      * Pauses video
      */
      function pause() {
          play_pause_button.innerHTML = "Play";
          video_player.pause();
      }

      /**
      * Plays the video
      */
      function play() {
          play_pause_button.innerHTML = "Pause";
          video_player.play();
      }

      /**
      * Resets the video and plots to the start
      */
      function reset() {
          video_player.currentTime = 0;
          past_steps.push(step);
          pause();
          update();
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
      * Goes to the previous frame
      */
      function back() {
          video_player.currentTime = video_player.currentTime - tS_step_size
          pause();
          update();
          past_steps.push(step + 1);
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
      * Goes to the next frame
      */
      function next() {
          video_player.currentTime = video_player.currentTime + tS_step_size;
          pause();
          update();
          past_steps.push(step - 1);
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
       * Switches between general and transformer statistics
       */
       function statistic() {
        if (stats_button.innerHTML == "General") {
          statistic_type = "general";
          stats_button.innerHTML = "Transformer";
        }
        else if (stats_button.innerHTML == "Attention Scores") {
          statistic_type = "transformer";
          stats_button.innerHTML = "General";
        }
        update();
      }
      /**
      * Opens the video in fullscreen
      */
      function open_fullscreen(vid_elem) {
          if (vid_elem.requestFullscreen) {
              vid_elem.requestFullscreen();
          } else if (vid_elem.webkitRequestFullscreen) { /* Safari */
              vid_elem.webkitRequestFullscreen();
          } else if (vid_elem.msRequestFullscreen) { /* IE11 */
              vid_elem.msRequestFullscreen();
          }
          vid_elem.pause();
      }

      // Selects the action space for the entropy plot
      function set_action_space(spaces){
        if (spaces == 'all')
          entr_selected_action_space = null;
        else
          entr_selected_action_space = Number(spaces);
        update();
      }

      function marker(marker_id){
        if(marker_id == "entropy")
          entropy_marker = !entropy_marker;
        else if(marker_id == "value")
          value_marker = !value_marker;
        update();
      }

      /**
      * Updates the plots and time selector
      */
      function update()  {
        if(video_player.currentTime == Math.round(video_player.currentTime)) // If time t of video is a natural number then step is t - 1
              video_player.currentTime += 0.0001 // Add a small number to make sure that the step and the current time are the same
        if(video_player.currentTime > video_length) {
           video_player.currentTime = video_length;
           pause();
        } // Video can't go past the end
        time_selector.value = video_player.currentTime; // Update time selector
        step = Math.floor(video_player.currentTime); // Get step of video for plots

        // Update plots
        if (statistic_type == "general")
          render_general_statistics();
        else if (statistic_type == "transformer")
          render_transformer_statistics();

        if(statistic_type == "general") {
          // Reset plot id
          statistic_plot_id = 0;
          // Update action plot
          if(is_discrete) { // If action_space is discrete
            set_bar_action_plot(y_action[step][0], action[step][0], action_names);
          }
          else { // If action_space is multi discrete
              set_stacked_bar_action_plot(y_action[step], action[step], action_names);
          }
        }
      }

      /**
      * Renders the general statistics
      */
      function render_general_statistics() {
        // Disables the transformer statistics and enables the general statistics
          document.getElementById('transformer').style.display = 'none';
          document.getElementById('top_n_scores').style.display = 'none';
          document.querySelector('label[for="top_n_scores"]').style.display = 'none';
          document.getElementById('value_func').style.display = 'block';
          document.getElementById('entropy_func').style.display = 'block';
          document.getElementById('options').style.display = 'block';
        // Updates the plots
          set_scatter_line_plot('value_func', "Value Function", y_values_plot, step, value_marker);
          if(is_discrete) { // If action_space is discrete
              set_scatter_line_plot('entropy_func', "Entropy Function", y_entropy_plot, step, entropy_marker);
          }
          else { // If action_space is multi discrete
              set_scatter_lines_plot('entropy_func', "Entropy Function", y_entropy_plot, step, entropy_marker);
          }
        }
      
      /*
      * Renders the transformer statistics
      */
      function render_transformer_statistics() {
        // Disables the general statistics and enables the transformer statistics
        document.getElementById('transformer').style.display = 'block';
        document.getElementById('top_n_scores').style.display = 'block';
        document.querySelector('label[for="top_n_scores"]').style.display = 'block';
        document.getElementById('value_func').style.display = 'none';
        document.getElementById('entropy_func').style.display = 'none';
        document.getElementById('options').style.display = 'none';
        // Updates the plots
        var top_n = Number(top_n_scores.value);
        if (top_n == -1) top_n = step;
        visualizeAttentionScores(y_attention_weights[step], top_n);
        }


      /**
       * Renders attention scores
      */
      async function visualizeAttentionScores(attentionScores, n_values) {
        const numHeads = attentionScores.length;
        
        let data = [];
        let layout = {
          grid: {
              rows: numHeads, 
              columns: 1, 
              pattern: 'independent',
              subplots: [...Array(numHeads).keys()].map(i => `xy${i + 1}`),
              ygap: 0.4 // adjust this value according to your preference
          },
          plot_bgcolor: '#000',
          paper_bgcolor: '#000',
          font: {
              family: 'Montserrat',
              size: 12,
              color: '#fff'
          },
          margin: {
              t: 0,  // reduce top margin
          },
      }

        // Flatten the array to find the max value across all arrays
        let flatScores = attentionScores.flat();
        let maxScore = Math.max(...flatScores);

        // Iterate through each attention head
        for (let headIdx = 0; headIdx < numHeads; headIdx++) {
            // Get attention scores for the current head
            let headScores = attentionScores[headIdx];
            
            // This array will keep up to the 10 highest scores
            let topScores = [];

            for (let i = 0; i < headScores.length; i++) {
                // Insert current score into the top scores array
                topScores.push({score: headScores[i], index: i});
                
                // Sort the top scores array
                topScores.sort((a, b) => b.score - a.score);

                // If there are more than 10 scores, remove the smallest
                if (topScores.length > n_values) {
                    topScores.pop();
                }
            }

            // Sort the topScores array by index
            topScores.sort((a, b) => a.index - b.index);

            // Now topScores contains the top 10 scores sorted by their indices.
            // You can extract the scores and their indices into separate arrays:
            let filteredHeadScores = topScores.map(x => x.score);
            let filteredTicks = topScores.map(x => x.index);


            const sequenceLength = filteredHeadScores.length;

            layout.height = 400;
            layout.width = window.innerWidth;

            const headScoresPlot = {
                z: [filteredHeadScores],
                type: 'heatmap',
                showscale: true,  
                colorscale: 'Hot',
                zmin: 0,
                zmax: maxScore,
                xaxis: `x${headIdx + 1}`,
                yaxis: `y${headIdx + 1}`,
            };

            data.push(headScoresPlot);

            layout[`xaxis${headIdx + 1}`] = {
                tickmode: 'array',
                tickvals: Array.from({length: sequenceLength}, (_, i) => i),
                ticktext: filteredTicks
            };

            layout[`yaxis${headIdx + 1}`] = {
                title: `Block ${headIdx + 1}`,
                ticks: 'outside',
                tick0: 0,
                dtick: 1,
                ticklen: 8,
                tickwidth: 4,
                tickcolor: '#000'
            };
        }

        const config = {responsive: true};

        Plotly.newPlot('transformer', data, layout, config).then(function() {
          var myPlot = document.getElementById('transformer');
          myPlot.on('plotly_click', function(data){
            // Jump to the step that was clicked
              past_steps.push(step);
              video_player.currentTime = Number(data.points[0].xaxis.ticktext[data.points[0].x]);
              pause();
              update();
              return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
          });
      });
    }

      /** 
      * Sets a stacked bar plot for the multi discrete action distribution
      * @param {array} y_values - The action distribution
      * @param {array} action - The action
      * @param {array} action_names - The names of the actions
      */
      function set_stacked_bar_action_plot(y_values, action, action_names) {
        var bar_plot_data_action = [];
        // Set data for each action
        for(var j = 0; j < action_names[0].length; j++) {
            var color = ""
            for(var i = 0; i < action_names.length; i++) {
                if(action[i] == j) // If action sampled in the current frame
                    color = '#FF0000'; // Color it red
                else
                    color = '#FAEBD7'; // Color it white
                var trace = {
                    x: [["action_space_", String(i)].join("")],
                    y: [y_values[i][j]],
                    text: [y_values[i][j], action_names[i][j]].map(String).join("<br>"), // Add action name and prob to the bar
                    marker: {
                        color: color,
                        line: {
                            color: '#000000',
                            width: 1
                          }
                    },
                    type: 'bar'
                };
                bar_plot_data_action.push(trace);
            }
        }

        // Set layout for the plot
        var bar_plot_layout_action = {
            autosize: true,
            width: 600,
            height: 360,
            margin: {
                l: 28,
                r: 0,
                b: 30,
                t: 22,
                pad: 4
              },
            plot_bgcolor: '#000',
            paper_bgcolor: '#000',
            font: {
                family: 'Montserrat',
                size: 12,
                color: '#fff'
            },
            title: {
                text: 'Action Distribution',
                font: {
                    family: 'Montserrat',
                    size: 15,
                    color: '#fff'
                }
            },
            barmode: 'stack',
            showlegend: false
      };

      // Plot the data
      Plotly.newPlot('action_distr', bar_plot_data_action, bar_plot_layout_action);
      }

      /**
      * Sets a bar plot for the discrete action distribution
      */
      function set_bar_action_plot(y_values, action, action_names) {

          var color_value = new Array(y_values.length).fill('#FAEBD7'); // Set color for all actions to white
          color_value[action] = '#FF0000'; // Except the selected action should be red
          // Set data for the plot
          var bar_plot_data_action = [
              {
                  x: action_names,
                  y: y_values,
                  type: 'bar',
                  marker: {
                      color: color_value
                  },
                  textposition: 'auto',
                  text: y_values.map(String), // Add prob to the bar plot
                  textfont: {
                      family: 'Montserrat',
                      size: 12,
                  },
                  textangle: 0,
                  textposition: 'bottom center',
              }
          ];

          // Set layout for the plot
          var bar_plot_layout_action = {
            autosize: true,
            width: 600,
            height: 360,
            margin: {
                l: 28,
                r: 0,
                b: 30,
                t: 22,
                pad: 4
              },
            yaxis: {
              automargin: true,
            },
            plot_bgcolor: '#000',
            paper_bgcolor: '#000',
            font: {
                family: 'Montserrat',
                size: 12,
                color: '#fff'
            },
            title: {
                text: 'Action Distribution',
                font: {
                    family: 'Montserrat',
                    size: 15,
                    color: '#fff'
                }
            }
      };
          
          // Plot the action distribution
          Plotly.newPlot('action_distr', bar_plot_data_action, bar_plot_layout_action);
      }


      /**
      * Sets a scatter plot for the emtropy function if multi discrete actions are used
      * @param {string} id - The id of the plot
      * @param {string} title - The title of the plot
      * @param {array} y_values - The entropy function y values
      * @param {int} step - The step of the video
      * @param {boolean} marker - If the marker should be shown
      */
      function set_scatter_lines_plot(id, title, y_values, step, marker) {
        line_scatter_plot_data_value = [];

        // Set colors and data for the plot
        var colors = ['#FAEBD780', '#7CFC0080', '#FFBF0080', '#FF7F5080', '#DE316380', '#9FE2BF80', '#40E0D080', '#6495ED80', '#CCCCFF80']
        for(var i = 0; i < y_values.length; i++) {
          var x_values_marker = x_values.slice(0, step + 1);
          var y_values_marker = y_values[i].slice(0, step + 1);
            var trace = [
            {
                x: x_values_marker,
                y: y_values_marker,
                mode: 'line',
                line: {
                    color: colors[i]
                },
                name: 'action_space_' + String(i),
                showlegend: true,
            },
            {
                x: x_values,
                y: y_values[i],
                mode: 'markers',
                name: 'action_space_' + String(i) + "_marker",
                marker: {
                    color: colors[i]
                },
                showlegend: true,
            }
        ];
            // Add data to the plot
            line_scatter_plot_data_value.push(trace[0]);
            if(marker)
              line_scatter_plot_data_value.push(trace[1]); 
        }

        // Select the selected action_space for the entropy plot
        if(entr_selected_action_space != null && marker)
          line_scatter_plot_data_value = [line_scatter_plot_data_value[entr_selected_action_space * 2], line_scatter_plot_data_value[entr_selected_action_space * 2 + 1]];
        else if(entr_selected_action_space != null && !marker)
          line_scatter_plot_data_value = [line_scatter_plot_data_value[entr_selected_action_space]];

        // Set layout for the plot
        var line__scatter_plot_layout_value = {
            autosize: true,
            width: 600,
            height: 360,
            margin: {
                l: 50,
                r: 0,
                b: 30,
                t: 25,
                pad: 4
                },
            yaxis: {
                automargin: true
            },
            plot_bgcolor: '#000',
            paper_bgcolor: '#000',
            font: {
                family: 'Montserrat',
                size: 12,
                color: '#fff'
            },
            title: {
                text: title,
                font: {
                    family: 'Montserrat',
                    size: 15,
                    color: '#fff'
                }
            },
            showlegend: true,
        };

        // Plot the data
        Plotly.newPlot(id, line_scatter_plot_data_value, line__scatter_plot_layout_value);
        // Add event handler for clicking on a marker
        document.getElementById(id).on('plotly_click', function(data){
            past_steps.push(step);
            video_player.currentTime = Number(data.points[0].x);
            pause();
            update();
            return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
          });
      }


      /**
      * Sets a scatter plot for the value function
      * @param {string} id - The id of the plot
      * @param {string} title - The title of the plot
      * @param {array} y_values - The value function y values
      * @param {int} step - The step of the video
      * @param {boolean} marker - If the marker should be shown
      */
      function set_scatter_line_plot(id, title, y_values, step, marker) {
          // Set data for layout for the plot
          var line__scatter_plot_layout_value = {
              autosize: true,
              width: 600,
              height: 360,
              margin: {
                  l: 50,
                  r: 0,
                  b: 30,
                  t: 25,
                  pad: 4
                  },
              yaxis: {
                  automargin: true
              },
              plot_bgcolor: '#000',
              paper_bgcolor: '#000',
              font: {
                  family: 'Montserrat',
                  size: 12,
                  color: '#fff'
              },
              title: {
                  text: title,
                  font: {
                      family: 'Montserrat',
                      size: 15,
                      color: '#fff'
                  }
              },
              showlegend: false,
          };

          // Set data for the plot
          var x_values_marker = x_values.slice(0, step + 1);
          var y_values_marker = y_values.slice(0, step + 1);

          var line_scatter_plot_data_value = [
              {
                  x: x_values_marker,
                  y: y_values_marker,
                  mode: 'line',
                  line: {
                      color: '#FAEBD7'
                  },
                  name: 'function',
              },
              {
                  x: x_values,
                  y: y_values,
                  mode: 'markers',
                  marker: {
                      color: '#7CFC0080'
                  },
                  name: 'marker',
              }
          ];

          if(!marker)
            line_scatter_plot_data_value = [line_scatter_plot_data_value[0]];

          // Plot the value function
          Plotly.newPlot(id, line_scatter_plot_data_value, line__scatter_plot_layout_value);

          // Add event handler for clicking on a marker
          document.getElementById(id).on('plotly_click', function(data){
            past_steps.push(step);
            video_player.currentTime = Number(data.points[0].x);
            pause();
            update();
            return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
          });
      }
    
    /**
    * Opens the specific tab based on the probided id
    * @param {string} id - The id of the tab
    */
    function openTab(evt, id) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        mediatabcontent = document.getElementsByClassName("mediatabcontent");
        // Hide all elements with class="tabcontent" and "mediacontent" by default
        for (i = 0; i < mediatabcontent.length; i++) {
            mediatabcontent[i].style.display = "none";
        }
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        // Show the specific tab content
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(id).style.display = "block";
        evt.currentTarget.className += " active";
      }
    </script>
  </body>
</html>