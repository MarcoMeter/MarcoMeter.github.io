<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;500&display=swap" rel="stylesheet"/>
    <script src="template/cdn.plot.ly_plotly-2.6.3.min.js"></script>
    <style>
     /* Style the body */
      html, body {
        height: 100%;
        margin: 0;
        background-color: #000;
        color: white;
        font-family: "Montserrat", sans-serif;
        min-width: 1737px;
      }

      /* Set the width and hight of the video*/
      video {
        width: 600px;
        height: 400px;
      }

      /* Style the timeline text*/
      #selector_header {
        font-weight: 200;
      }

      /* Buttons should be displayed in a row */
      buttonrow {
        display: inline;
      }

      /* Style the figures */
      #figures {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        flex-flow: row nowrap;
      }

      /* Style the tab */
      .tab {
        overflow: hidden;
        background-color: #54595f;
      }

      /* Style the buttons inside the tab */
      .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
        color: white;
      }

      /* Change background color of buttons on hover */
      .tab button:hover {
        background-color: #909090;
      }

      /* Create an active/current tablink class */
      .tab button.active {
        background-color: #838383;
      }

      /* Style the tab content */
      .tabcontent {
        display: none;
        padding: 6px 12px;
        border-top: none;
        background-color: #000;
      }

      .mediatabcontent {
        display: none;
        padding: 0 px 0 px;
        border-top: none;
        background-color: #000;
        width: 100%;
        height: 100%;
      }

      /* Style the close button */
      .topright {
        float: right;
        cursor: pointer;
        font-size: 28px;
      }

      .topright:hover {
        color: red;
      }

      /* Style of the dropdown button */
      .dropbtn {
        background-color: #17202A;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
      }
      
      .dropdown {
        position: absolute;
        display: inline-block;
      }
      
      /* Style of the dropdown content */
      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        background-color: #A6ACAF;
        z-index: 1;
      }
      
      .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }

      .gotostepcontainer {
          margin-bottom: 10px;
      }
      
      #score-container label, #score-container input {
        display: inline-block;
      }

      /* Style of the dropdown at hover */
      .dropdown-content a:hover {background-color: #ddd;}
      
      .dropdown:hover .dropdown-content {display: block;}
      
      .dropdown:hover .dropbtn {background-color: #161515;}
    </style>
  </head>
  <body>
    <!--- Define tabs -->
    <div class="tab">
      <button class="tablinks" onclick="location.href='../index.html'">Back</button>
      <button class="tablinks" onclick="openTab(event, 'Environment')">Environment</button>
      <button class="tablinks" onclick="openTab(event, 'Sampler')">Sampler</button>
      <button class="tablinks" onclick="openTab(event, 'Hyperparameters')">Hyperparameters</button>
      <button class="tablinks" onclick="openTab(event, 'Model')">Model</button>
      <button class="tablinks" onclick="openTab(event, 'Media')" id="defaultOpen">Media</button>
    </div>

    <!--- Define tab content -->
    <div id="Environment" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>type</b>: MemoryGym<br><b>name</b>: Endless-MysteryPath-v0<br><b>frame_skip</b>: 1<br><b>last_action_to_obs</b>: False<br><b>last_reward_to_obs</b>: False<br><b>obs_stacks</b>: 1<br><b>grayscale</b>: False<br><b>resize_vis_obs</b>: [84, 84]<br><b>positional_encoding</b>: False<br><b>reset_params</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>start-seed</b>: 200001<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>num-seeds</b>: 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_steps</b>: -1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>agent_scale</b>: 0.25<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>agent_speed</b>: 3.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>show_origin</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>show_past_path</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>show_background</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>show_stamina</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>visual_feedback</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>camera_offset_scale</b>: 5.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>stamina_level</b>: 20<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_fall_off</b>: 0.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_path_progress</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_step</b>: 0.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>seed</b>: 200001<br><b>reward_normalization</b>: 0<br><b>positional_endocing</b>: False<br>
    </div>

    <div id="Model" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>load_model</b>: False<br><b>model_path</b>: ./checkpoints/mg_17r/20220112-065616_2/mg_17r-208.pt<br><b>checkpoint_interval</b>: 500<br><b>activation</b>: relu<br><b>vis_encoder</b>: cnn<br><b>vec_encoder</b>: linear<br><b>num_vec_encoder_units</b>: 128<br><b>hidden_layer</b>: default<br><b>num_hidden_layers</b>: 1<br><b>num_hidden_units</b>: 512<br><b>vec_encoder_layer</b>: linear<br><b>recurrence</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>layer_type</b>: gru<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>sequence_length</b>: -1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>hidden_state_size</b>: 512<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>hidden_state_init</b>: zero<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reset_hidden_state</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>residual</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>num_layers</b>: 1<br>
    </div>

    <div id="Sampler" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>n_workers</b>: 32<br><b>worker_steps</b>: 512<br>
    </div>

    <div id="Hyperparameters" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>algorithm</b>: PPO<br><b>resume_at</b>: 0<br><b>gamma</b>: 0.995<br><b>lamda</b>: 0.95<br><b>updates</b>: 50000<br><b>epochs</b>: 3<br><b>n_mini_batches</b>: 8<br><b>advantage_normalization</b>: no<br><b>value_coefficient</b>: 0.5<br><b>max_grad_norm</b>: 0.25<br><b>learning_rate_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.000275<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 1e-05<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 10000<br><b>beta_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.0001<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 1e-06<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 10000<br><b>clip_range_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 10000<br><b>obs_reconstruction_schedule</b>: {'initial': 0.0}<br><b>ground_truth_estimator_schedule</b>: {'initial': 0.0}<br><b>refresh_buffer_epoch</b>: -1<br><b>share_parameters</b>: True<br>
    </div>

    <div id="Media" class="mediatabcontent">
      <br>
      <center>
        <div id="figures" style="display: flex; flex-direction: column;">
          <div style="display: flex; flex-direction: row;">
            <div style="display: flex; flex-direction: column;">
              <div style="display: flex; flex-direction: row;">
                <label for="video_speed">Frame Rate: </label>
                <input type="text" id="video_speed" size="3" value="6" onkeydown="set_video_speed(event)">
              </div>

              <div style="display: flex; flex-direction: row;">
                <label for="show_ground_truth">Show Ground Truth Estimation</label>
                <input type="checkbox" id="show_ground_truth" onclick="show_ground_truth()">
              </div>

              <div style="display: flex; flex-direction: row;">
                <label for="show_decoder_video">Show Decoder Video</label>
                <input type="checkbox" id="show_decoder_video" onclick="show_decoder_video()">
              </div>

            <div style="display: flex; flex-direction: row;">
              <label for="show_agent_video">Show Agent Video</label>
              <input type="checkbox" id="show_agent_video" onclick="show_agent_video()">
            </div>
          </div>
          
            <div>
              <video id="video_player">
                <source src="" type="video/webm" />
              </video>
            </div>
            <div id="action_distr"></div>
          </div>
        </div>

        <br>
        <!-- Set buttons to control the figures -->
        <div class="gotostepcontainer">
          <label for="gotostep_text">Step:</label>
          <input type="text" id="gotostep_text" size="3" value="0" onkeydown="go_to_step(event)">
          <button id="return_button" type="return_button" onclick="return_to_step()">Return to step 0</button>
        </div>
        <buttonrow>
          <button id="play_pause_button" onclick="play_pause()" style="width:53px">Play</button>
          <button id="reset_button" onclick="reset()">Reset</button>
          <button id="back_button" onclick="back()">Back</button>
          <button id="next_button" onclick="next()">Next</button>
          <button id="stats_button" onclick="statistic()">Attention Scores</button>
        </buttonrow>
        <br>
        <!-- Set slider to control the figures -->
        <input id="time_selector" type="range" min="0" max="100" step="1" value="0" style="width: 300px;"/>

        <!-- Set transformer plot -->
        <div id="score-container">
          <label for="top_n_scores">Number of Top Attention Scores:</label>
          <input type="text" id="top_n_scores" size="3" value="-1" onkeydown="top_scores()">
        </div>
        <div id="transformer"></div>

        <!-- Set value plot and entropy plot -->
        <div id="figures">
          <div id="value_func"></div>
          <div id="entropy_func"></div>
          <!-- Dropdown button with some options-->
          <div class="dropdown" id="options">
            <button class="dropbtn">Options</button>
            <div class="dropdown-content" id="dropdown_content">
              <a href ="#" onclick="marker('value')">value_marker_toggle</a>
              <a href ="#" onclick="marker('entropy')">entropy_marker_toggle</a>
              <a href="#" id="all" onclick="set_action_space('all')">All</a>
            </div>
          </div>
        </div>
      </center>
    </div>

    <script>
        // Set active tab
        document.getElementById("defaultOpen").click();

        // Set video player
        const video_player = document.getElementById("video_player");
        const video_speed = document.getElementById("video_speed");
        const video_path = ['videos/video_seed_200001_31.webm', '', '', '', 'videos/video_seed_200001_32.webm', ''];
        var render_id = 0; var render_gt_id = 1; var render_decoder_id = 2; var render_decoder_gt_id = 3; var  render_agent_id = 4; var render_agent_gt_id = 5;
        var video_id = 0;
        // Hide video player if there is no ground truth video
        if (video_path[render_gt_id].length == 0 && video_path[render_decoder_gt_id].length == 0 && video_path[render_agent_gt_id].length == 0){
          document.querySelector('label[for="show_ground_truth"]').style.display = 'none';
          document.getElementById("show_ground_truth").style.display = 'none';
        } 
        if (video_path[render_decoder_id].length == 0){
          document.querySelector('label[for="show_decoder_video"]').style.display = 'none';
          document.getElementById("show_decoder_video").style.display = 'none';
        }
        if (video_path[render_agent_id].length == 0){
          document.querySelector('label[for="show_agent_video"]').style.display = 'none';
          document.getElementById("show_agent_video").style.display = 'none';
        }

        video_player.querySelector("source").src = video_path[0];
        video_player.load();
        var video_length = 0;

        // Play and pause button
        const play_pause_button = document.getElementById("play_pause_button");

        // Set step input
        const gotostep_text = document.getElementById('gotostep_text');
        var past_steps = [0];
        var step = 0;

        // Set number of scores input
        const top_n_scores = document.getElementById('top_n_scores');

        // Const stats button
        const stats_button = document.getElementById("stats_button");

        // Set time selector
        const time_selector = document.getElementById('time_selector');
        var tS_step_size = 1.0;

        // Set values for the plots
        var y_values = [[1.2867457866668701], [1.2908401489257812], [1.2590503692626953], [1.2627248764038086], [1.2708135843276978], [1.3186979293823242], [1.318608045578003], [1.326741337776184], [1.3312026262283325], [1.2394987344741821], [1.2434486150741577], [1.2798538208007812], [1.2800920009613037], [1.2906278371810913], [1.2981740236282349], [1.3096699714660645], [1.316565990447998], [1.3225677013397217], [1.3344645500183105], [1.226235270500183], [1.2363829612731934], [1.2731435298919678], [1.2802921533584595], [1.2874557971954346], [1.291832447052002], [1.2985382080078125], [1.3042246103286743], [1.3078815937042236], [1.3193238973617554], [1.3142058849334717], [1.3336749076843262], [1.342503309249878], [1.34969162940979], [1.2571091651916504], [1.26114821434021], [1.2660279273986816], [1.1753305196762085], [1.1801106929779053], [1.1832350492477417], [1.1939009428024292], [1.0974550247192383], [1.1033062934875488], [1.1082528829574585], [1.1166447401046753], [1.0074857473373413], [1.0178494453430176], [1.0280039310455322], [1.0290753841400146], [1.0423356294631958], [1.0422823429107666], [1.0408393144607544], [1.043921709060669], [1.0448393821716309], [1.050136923789978], [1.0652053356170654], [1.0643956661224365], [1.073994755744934], [1.0752185583114624], [1.083048701286316], [1.0929689407348633], [1.098626732826233], [1.0993183851242065], [1.1039925813674927], [1.1145024299621582], [1.008203387260437], [1.0140961408615112], [1.0153937339782715], [0.9376115798950195], [0.9409209489822388], [0.952519416809082], [0.9477468729019165], [0.852035403251648], [0.8567205667495728], [0.8664884567260742], [0.8679327964782715], [0.7730047702789307], [0.7807101011276245], [0.7804462909698486], [0.7846465110778809], [0.7946566343307495], [0.8004082441329956], [0.8057107925415039], [0.8090599775314331], [0.819381833076477], [0.8183531761169434], [0.821526050567627], [0.8188060522079468], [0.8302390575408936], [0.836883544921875], [0.8488346338272095], [0.8550527095794678], [0.8587299585342407], [0.8609447479248047], [0.8646726608276367], [0.8566668033599854], [0.8674319982528687], [0.8700402975082397], [0.874253511428833], [0.8809366226196289], [0.8846510648727417], [0.8886474370956421], [0.8897805213928223], [0.8950408697128296], [0.8930729627609253], [0.9110450744628906], [0.9049365520477295], [0.920212984085083], [0.7966631650924683], [0.8046634197235107], [0.811150312423706], [0.7217806577682495], [0.7207155227661133], [0.728233814239502], [0.7274395227432251], [0.6614809036254883], [0.6747878789901733], [0.6898665428161621], [0.6767103672027588], [0.6112737655639648], [0.6281424760818481], [0.6354585886001587], [0.6295801401138306], [0.5781456232070923], [0.5809653997421265], [0.5902687311172485], [0.5905721187591553], [0.5515843629837036], [0.5511345267295837], [0.5686178207397461], [0.5712791681289673], [0.5353884696960449], [0.5426174402236938], [0.5489287376403809], [0.5425677299499512], [0.4993990957736969], [0.5005751848220825], [0.5033847093582153], [0.5045411586761475], [0.45691776275634766], [0.45921069383621216], [0.45881158113479614], [0.4630286991596222], [0.4056110382080078], [0.4134514331817627], [0.41604387760162354], [0.420019268989563], [0.3535903990268707], [0.34069281816482544], [0.35137268900871277], [0.3548068702220917], [0.3552752733230591], [0.3596368730068207], [0.36269670724868774], [0.3681725859642029], [0.3672197461128235], [0.3678092658519745], [0.36736828088760376], [0.367009699344635], [0.36977699398994446], [0.3759859800338745], [0.3749403655529022], [0.3781740069389343], [0.3790263831615448], [0.38078954815864563], [0.3782476782798767], [0.37956029176712036], [0.3815692067146301], [0.38292157649993896], [0.38382548093795776], [0.38444221019744873], [0.38746675848960876], [0.39174461364746094], [0.3913249969482422], [0.39286327362060547], [0.39335954189300537], [0.39791274070739746], [0.3993328809738159], [0.4016593098640442], [0.4037086069583893], [0.4063189625740051], [0.4093274772167206], [0.4106675982475281], [0.4187820851802826], [0.41768696904182434], [0.4184964895248413], [0.41961756348609924], [0.4257447421550751], [0.42363202571868896], [0.4245094954967499], [0.42476487159729004], [0.4307337701320648], [0.4316122829914093], [0.43035680055618286], [0.43105828762054443], [0.43234604597091675], [0.4303993284702301], [0.4384511709213257], [0.4450432062149048], [0.44248101115226746], [0.4421745836734772], [0.450092077255249], [0.4550624489784241], [0.45536932349205017], [0.45726850628852844], [0.4612201750278473], [0.46356478333473206], [0.4646841287612915], [0.47020941972732544], [0.47169172763824463], [0.47351205348968506], [0.4727049767971039], [0.48342037200927734], [0.4817039370536804], [0.48937487602233887], [0.48226791620254517], [0.4913099408149719], [0.5028438568115234], [0.517080545425415], [0.5058032274246216], [0.49941861629486084], [0.41709136962890625], [0.4227221608161926], [0.42847925424575806], [0.4336017966270447], [0.42896828055381775], [0.4340527355670929], [0.43935978412628174], [0.4437125027179718], [0.4455854892730713], [0.44781363010406494], [0.4475021958351135], [0.44801801443099976], [0.45518597960472107], [0.45452719926834106], [0.4565533697605133], [0.463503897190094], [0.465958833694458], [0.4741708040237427], [0.4655799865722656], [0.4673127830028534], [0.46826013922691345], [0.46784383058547974], [0.46860259771347046], [0.46644023060798645], [0.47553879022598267], [0.4817197620868683], [0.48631787300109863], [0.4818258583545685], [0.4834856390953064], [0.4867345690727234], [0.48814332485198975], [0.48436665534973145], [0.49139824509620667], [0.4981595575809479], [0.5032014846801758], [0.5033456683158875], [0.5064898729324341], [0.5068435072898865], [0.5111764669418335], [0.502338707447052], [0.5099954605102539], [0.5107452869415283], [0.5180121660232544], [0.5130130648612976], [0.5197306871414185], [0.5210511088371277], [0.5271176099777222], [0.518460750579834], [0.5281582474708557], [0.5334463119506836], [0.5402935743331909], [0.5273090600967407], [0.538749098777771], [0.5436801314353943], [0.5500224828720093], [0.534477710723877], [0.5442409515380859], [0.5494524240493774], [0.5540981888771057], [0.5431349277496338], [0.5532715320587158], [0.5569354891777039], [0.5579837560653687], [0.5609949827194214], [0.5653058290481567], [0.5730416774749756], [0.5675327777862549], [0.5739248394966125], [0.5685479640960693], [0.5755437016487122], [0.5740859508514404], [0.48759913444519043], [0.4147334396839142], [0.4224907457828522], [0.41398298740386963], [0.4066844880580902], [0.3333141505718231], [0.3334839642047882], [0.3219522535800934], [0.3227338194847107], [0.31536996364593506], [0.28140711784362793], [0.2908000946044922], [0.283303439617157], [0.28538790345191956], [0.2844242751598358], [0.26674166321754456], [0.27455374598503113], [0.2728954255580902], [0.26734459400177], [0.271572083234787], [0.2422679364681244], [0.2462950497865677], [0.25048547983169556], [0.25038042664527893], [0.25182589888572693], [0.2108486443758011], [0.2133541852235794], [0.22164180874824524], [0.21672379970550537], [0.21860361099243164], [0.22184401750564575], [0.21767155826091766], [0.20443323254585266], [0.21181370317935944], [0.20212306082248688], [0.19481247663497925], [0.19360733032226562], [0.1953282356262207], [0.19443804025650024], [0.1951409876346588], [0.19522614777088165], [0.1958387941122055], [0.16060346364974976], [0.17196300625801086], [0.1790848672389984], [0.17328330874443054], [0.1747189164161682], [0.1741153597831726], [0.17423295974731445], [0.14931011199951172], [0.1387784630060196], [0.15860165655612946], [0.15718358755111694], [0.18004927039146423], [0.16928647458553314], [0.16942152380943298], [0.1604071408510208], [0.17332524061203003], [0.15959951281547546], [0.17438775300979614], [0.16063636541366577], [0.1754547655582428], [0.1630195677280426], [0.1671024113893509], [0.16481858491897583], [0.16804787516593933], [0.16790638864040375], [0.1427331268787384], [0.15416911244392395], [0.15033790469169617], [0.14176616072654724], [0.13206684589385986], [0.12546129524707794], [0.14365901052951813], [0.12798567116260529], [0.15018153190612793], [0.1392536461353302], [0.15538233518600464], [0.14169210195541382], [0.15607121586799622], [0.140700563788414], [0.15917366743087769], [0.1438734233379364], [0.1509551703929901], [0.16468670964241028], [0.1544896364212036], [0.15918132662773132], [0.16723138093948364], [0.1593463122844696], [0.1379544883966446], [0.14890152215957642], [0.145925372838974], [0.13340222835540771], [0.1498994529247284], [0.1307012438774109], [0.1465209275484085], [0.13459527492523193], [0.14624348282814026], [0.13619087636470795], [0.1503181904554367], [0.13806460797786713], [0.15577128529548645], [0.14327844977378845], [0.16038638353347778], [0.1494138389825821], [0.16293755173683167], [0.1516624093055725], [0.13576364517211914], [0.14677658677101135], [0.14363422989845276], [0.1301177442073822], [0.14785635471343994], [0.1272282600402832], [0.1453780233860016], [0.13194239139556885], [0.1448400616645813], [0.13400651514530182], [0.148443803191185], [0.13587462902069092], [0.15382757782936096], [0.14066143333911896], [0.15755262970924377], [0.1470877230167389], [0.15337496995925903], [0.1582990288734436], [0.15360760688781738], [0.13679838180541992], [0.145677387714386], [0.14109882712364197], [0.12839607894420624], [0.14463774859905243], [0.1251438856124878], [0.142465740442276], [0.129450723528862], [0.14218585193157196], [0.13220170140266418], [0.1466384083032608], [0.13355565071105957], [0.15214793384075165], [0.13827456533908844], [0.15471884608268738], [0.14571228623390198], [0.1512378752231598], [0.15080079436302185], [0.1354365348815918], [0.14473430812358856], [0.14069423079490662], [0.12677842378616333], [0.14440731704235077], [0.12630531191825867], [0.14315387606620789], [0.13016726076602936], [0.1430874764919281], [0.1331312656402588], [0.14744243025779724], [0.13408680260181427], [0.15259936451911926], [0.138834148645401], [0.14447233080863953], [0.15660113096237183], [0.1489429622888565], [0.1525823175907135], [-0.004033982753753662], [0.0013740956783294678], [0.0006301999092102051], [-0.00353357195854187], [0.002223759889602661], [0.0017159879207611084], [0.002388983964920044], [0.00026232004165649414], [0.0038438141345977783], [0.0031922757625579834], [-0.0028872787952423096]];
        var y_entropy = [[0.004211066756397486], [2.073076757369563e-06], [0.053286850452423096], [3.087133109147544e-06], [3.7317511214496335e-06], [0.015134054236114025], [2.5712033675517887e-05], [6.255971296553753e-09], [1.3478040905567923e-08], [0.015869399532675743], [8.908641029847786e-05], [0.49993839859962463], [1.3266147291801644e-08], [3.4542743665433306e-11], [9.074242225681761e-12], [2.4675694021425443e-07], [3.334225695539317e-08], [1.711932817727302e-08], [9.646498710935703e-08], [0.001607480924576521], [3.9042276966938516e-07], [0.60111403465271], [9.334333306298959e-10], [3.693606184795861e-12], [4.975289928307869e-13], [2.626706141484192e-08], [4.566604872024982e-09], [4.1443204423785573e-10], [6.922635381600983e-11], [2.3483522681999602e-08], [5.213841518525442e-07], [2.9964718351038755e-07], [9.716946806292981e-06], [0.013195379637181759], [0.00030384244746528566], [5.1580955187091604e-05], [4.252788585290546e-06], [1.372858264403476e-06], [1.7611506564207957e-06], [4.6058062252996024e-07], [2.2106066808191827e-06], [8.190618973458186e-05], [4.737133167509455e-06], [4.3975754238090303e-07], [0.9437969923019409], [2.2312465663607527e-14], [5.368783869691006e-16], [6.43235602535054e-16], [7.323928685742942e-10], [2.936833068400979e-11], [2.8224091900425075e-12], [2.8749075602768626e-12], [1.7190227019625581e-09], [2.0744790774074318e-08], [7.621842712524085e-09], [1.3459443835017737e-06], [1.6949505152297206e-05], [1.0191336059506284e-06], [1.8994826689322508e-07], [2.7687219628091952e-08], [1.6443369332819202e-08], [1.22642052069466e-09], [0.5818495750427246], [1.0891191237760722e-07], [1.620091838461235e-09], [3.2831166674185397e-09], [3.8515404754413396e-10], [3.508517210093487e-08], [5.961483477007201e-12], [5.664547390177299e-12], [3.59250660903615e-14], [1.5210888104633113e-12], [6.311518283919418e-14], [8.975916027220807e-16], [2.0009492555309204e-19], [0.6919916868209839], [3.4632195657254006e-13], [5.615785072209112e-13], [2.445529130763735e-13], [7.298139315103924e-10], [2.1664427196643743e-11], [3.5131660493063765e-13], [1.4951653467838028e-13], [2.0817875423517762e-08], [7.346877737290924e-07], [2.1058008670138406e-08], [2.337509386052261e-08], [2.766928162145632e-07], [2.1547075235162083e-08], [1.2738768928599598e-09], [4.728338831583301e-10], [4.789206364819165e-09], [1.0099307701239013e-07], [1.7158113507775852e-07], [8.688385948196764e-12], [4.560564773048448e-11], [1.117855696897152e-09], [9.160605607405614e-10], [0.03122849576175213], [2.2065273697080556e-07], [2.153094413870349e-07], [1.3163599987819907e-08], [6.833330012945282e-10], [0.0003606489335652441], [0.0011506465962156653], [3.924137015332008e-09], [1.478515443756323e-12], [4.1780967057061587e-20], [1.4375547050140691e-18], [1.2147137713280996e-14], [2.8682484509101967e-20], [1.8460340724634065e-23], [4.03900801733394e-25], [1.40262849257412e-17], [1.3023539370412987e-24], [5.7474849403007855e-27], [3.321625848038811e-24], [8.861482934837935e-16], [2.503489524249529e-19], [7.314281039029103e-17], [1.6797335161728598e-22], [4.3899504476030415e-08], [3.992856826423585e-12], [6.113314299227568e-08], [4.0000713207874994e-18], [6.2373160290007945e-06], [8.204968822422831e-12], [3.0414766261088744e-09], [2.1524782282088262e-13], [0.00034857980790548027], [3.8935210611157345e-09], [1.0933308480787218e-08], [1.3546986449286536e-11], [0.01221416611224413], [3.312322149895408e-08], [1.6590954388107093e-08], [6.593636747709297e-09], [0.026026852428913116], [1.0609416989382225e-07], [4.672226694424353e-08], [1.0237111069955063e-07], [0.031617723405361176], [3.640166141849477e-07], [1.6515264178451616e-07], [5.777371256954211e-07], [0.04431615397334099], [0.827103853225708], [5.250466074357973e-06], [9.90010029511268e-09], [1.398392734941467e-09], [0.010136013850569725], [0.002529322635382414], [0.0008348294068127871], [0.00047242024447768927], [0.0035610420163720846], [0.0059778522700071335], [2.7381847758078948e-05], [3.953248597099446e-05], [3.5493295058586227e-07], [2.1672330596800293e-09], [9.787213173240161e-08], [7.13115184680646e-07], [2.037965168710798e-05], [3.0340577723109163e-05], [2.9393620479822857e-06], [2.7103078537038527e-06], [6.482037520072481e-07], [2.2188551156432368e-06], [1.8031711306321085e-06], [0.01266096904873848], [7.576547432108782e-06], [1.0354590813221876e-05], [2.9838802220183425e-06], [0.0006805745069868863], [0.0005722939968109131], [0.00036063656443729997], [4.9563364882487804e-05], [3.608102360885823e-06], [5.218388196226442e-06], [1.359084308205638e-05], [0.0009077634895220399], [0.025275269523262978], [0.0003159107291139662], [0.002860134933143854], [0.06699588894844055], [0.024452803656458855], [0.01395147480070591], [0.05227728560566902], [0.04618557170033455], [0.01809145137667656], [0.032935548573732376], [0.3906601667404175], [0.24084261059761047], [0.6627683043479919], [0.5977980494499207], [3.361633673648612e-07], [3.032039967365563e-05], [5.392012099036947e-05], [3.224427246095729e-06], [5.381618393585086e-06], [9.414268424734473e-05], [9.075232082977891e-05], [4.320535663282499e-05], [1.3405849131231662e-05], [0.0002074541407637298], [0.0001282842713408172], [9.422591915608791e-07], [2.7513142413226888e-06], [0.0008451266912743449], [0.0006964471540413797], [6.303610007307725e-07], [2.2799065391154727e-06], [0.002142304787412286], [0.0022957397159188986], [1.4427311612053018e-07], [0.00035223423037678003], [0.001291022403165698], [0.023928001523017883], [4.787611374013068e-07], [0.00010281350841978565], [1.0923469066619873], [7.958494308013542e-08], [1.6717055517645463e-09], [2.337919025041657e-10], [0.00018006101890932769], [0.0002447294828016311], [2.9981871193740517e-05], [1.4322168681246694e-05], [9.976923138310667e-06], [2.1087420464027673e-05], [2.39017231251637e-06], [6.588092674064683e-06], [1.906649458760512e-06], [1.1801787991316814e-08], [5.386371526583389e-07], [6.719913926644949e-06], [7.57442758185789e-05], [4.523236202658154e-05], [2.794293777697021e-06], [1.7131061440522899e-06], [9.594698440196225e-07], [3.944662694266299e-06], [2.0333447992015863e-06], [0.027708038687705994], [4.186155638308264e-05], [5.618431532639079e-05], [1.7237924112123437e-05], [0.00022952212020754814], [0.0012296977220103145], [0.0017261969624087214], [0.00029427240951918066], [1.3349048458621837e-05], [1.3964179288450396e-06], [4.247824108460918e-06], [0.0002260080073028803], [0.0007293719099834561], [1.4382722838490736e-05], [9.132767445407808e-05], [0.0006153197609819472], [5.9765872720163316e-05], [7.447809184668586e-05], [6.79413351463154e-05], [4.632761192624457e-05], [3.4155968023696914e-05], [1.5939500372041948e-05], [7.003534119576216e-05], [0.003969476092606783], [1.3778621905657928e-05], [0.00025323667796328664], [0.00029929622542113066], [0.008289500139653683], [0.00023686146596446633], [0.0009390768245793879], [0.0015077320858836174], [0.012884660623967648], [0.00022896456357557327], [6.539923560922034e-06], [1.9398021322558634e-06], [0.004877287894487381], [0.0007109852158464491], [9.74803879216779e-06], [8.017116215341957e-07], [0.0018365621799603105], [0.0004637025995180011], [5.051328116678633e-06], [1.1248586417877959e-07], [0.004519635811448097], [0.0002789180143736303], [0.04849395528435707], [0.6853511929512024], [1.459746272303164e-06], [5.497402533194418e-10], [1.0553734275386972e-10], [5.766278080021614e-12], [3.975746949436143e-06], [0.001128713134676218], [2.8361668228171766e-05], [0.004620285239070654], [0.00018453529628459364], [0.2842154800891876], [0.061008844524621964], [0.01570783369243145], [0.04681431129574776], [4.184371937299147e-05], [0.4627997577190399], [0.11633536964654922], [0.011763224378228188], [0.03911469131708145], [2.2180382075021043e-05], [0.2988918721675873], [0.0899387001991272], [0.06698749214410782], [0.020445944741368294], [2.7705800675903447e-06], [0.2530563175678253], [0.3600461184978485], [0.01967284269630909], [0.007973205298185349], [1.1770553101086989e-05], [0.5515318512916565], [0.9323457479476929], [1.0234391689300537], [0.42416316270828247], [0.3236945867538452], [0.8232372403144836], [0.3026275038719177], [0.6748551726341248], [0.5394617319107056], [0.6767386198043823], [0.6609463691711426], [0.6653584837913513], [0.705818235874176], [0.845477283000946], [0.04539954289793968], [2.133243287971709e-05], [1.6302760741382372e-06], [0.29628702998161316], [0.121431864798069], [0.008805875666439533], [0.8030564188957214], [0.44481122493743896], [0.18188712000846863], [0.004835825879126787], [0.048452917486429214], [0.4160956144332886], [0.04373425990343094], [0.7763614654541016], [0.663171648979187], [0.3971409499645233], [0.4509968161582947], [0.25914090871810913], [0.6872095465660095], [0.2565537691116333], [0.49292558431625366], [0.7140631079673767], [0.6589681506156921], [0.41181737184524536], [0.06562606245279312], [0.0021187465172261], [1.1263548003626056e-05], [2.947023631350021e-06], [0.7443926930427551], [0.01079663634300232], [0.0837462991476059], [0.00023312172561418265], [0.03381888195872307], [0.5900177955627441], [0.1100408062338829], [0.29559069871902466], [0.23070839047431946], [0.18850086629390717], [0.3295358121395111], [0.16417336463928223], [0.5215862989425659], [0.20806831121444702], [0.06660543382167816], [0.6261026263237], [0.7284438014030457], [0.16950030624866486], [0.269557923078537], [0.007330605294555426], [6.047599163139239e-05], [7.142602498788619e-06], [0.6932587623596191], [0.0674242153763771], [0.32419851422309875], [0.11822672188282013], [0.3414554297924042], [0.1222715899348259], [0.345551997423172], [0.10353420674800873], [0.4414520561695099], [0.11787667870521545], [0.6501908302307129], [0.139701247215271], [0.5578129291534424], [0.18854781985282898], [0.7120739221572876], [0.00693574408069253], [0.00016983289970085025], [1.0419465070299339e-05], [0.5600348711013794], [0.07205162197351456], [0.2424493283033371], [0.12989568710327148], [0.2680473029613495], [0.13188157975673676], [0.29451408982276917], [0.11156603693962097], [0.393085241317749], [0.1234666183590889], [0.629667341709137], [0.14237749576568604], [0.5909333825111389], [0.9699994921684265], [0.2805064022541046], [0.037297043949365616], [0.0013986692065373063], [3.223892053938471e-05], [4.214115506329108e-06], [0.644200325012207], [0.07283662259578705], [0.23316867649555206], [0.14284083247184753], [0.2229992300271988], [0.1343846470117569], [0.24527432024478912], [0.1218125969171524], [0.34961017966270447], [0.13369350135326385], [0.6145187020301819], [0.15112611651420593], [0.6281207203865051], [1.070157527923584], [0.524329423904419], [0.0032446496188640594], [5.4462765547214076e-05], [1.7971442503039725e-05], [0.43769049644470215], [0.07374756038188934], [0.1724032461643219], [0.1448380947113037], [0.17895565927028656], [0.1495887041091919], [0.19902296364307404], [0.12984170019626617], [0.30059871077537537], [0.14176195859909058], [0.5658453106880188], [0.3139251470565796], [0.06912220269441605], [0.8690168857574463], [0.6177493929862976], [1.0488133430480957], [0.004533518571406603], [0.001188998925499618], [0.0007529894355684519], [0.5532106757164001], [0.20044437050819397], [0.09744289517402649], [0.0321008563041687], [0.5717042684555054], [0.29391205310821533], [0.07740676403045654]];
        var y_attention_weights = [];
        var y_action = [[[8.565731695853174e-05, 0.000373715884052217, 2.0516230936351576e-09, 0.9995406866073608]], [[3.623501854121969e-08, 8.947493057576139e-08, 5.287783232110765e-12, 0.9999998807907104]], [[0.009153434075415134, 0.9907270669937134, 3.100620688201161e-06, 0.00011646172788459808]], [[2.0002261180707137e-07, 0.9999997615814209, 5.363684496551002e-11, 2.2378448052973177e-11]], [[2.4003855969567667e-07, 0.9999997615814209, 3.737993914398885e-09, 1.763904126927951e-11]], [[0.0021122547332197428, 0.9978870749473572, 1.7373663752096036e-07, 6.364969635797024e-07]], [[2.781013819230793e-08, 1.760040959197795e-06, 0.9999982118606567, 1.3316363528352582e-13]], [[1.662493476217719e-10, 1.0953089824017326e-10, 1.0, 1.1703639732428116e-14]], [[3.2527824878059164e-10, 2.9012961477725696e-10, 1.0, 1.4233490823684428e-14]], [[6.76206673233537e-06, 0.9977732300758362, 0.002219980815425515, 1.3966459282491184e-13]], [[7.777792347951618e-07, 0.9999932050704956, 5.93900995227159e-06, 3.601429931728885e-15]], [[0.17585377395153046, 0.8189212083816528, 0.003599792718887329, 0.0016251909546554089]], [[1.5762223470883185e-10, 4.5115297608866456e-10, 1.0, 7.680849237681081e-16]], [[1.2503274240613371e-12, 7.967469728680648e-15, 1.0, 4.4118679851673655e-16]], [[3.1443825408011827e-13, 2.092047765847382e-16, 1.0, 4.134334198928146e-16]], [[6.696607268708021e-09, 6.392763207685448e-09, 1.0, 3.658816305485146e-12]], [[1.4939272041658569e-09, 1.2959890105523897e-10, 1.0, 1.1778762644062968e-12]], [[7.573902061075444e-10, 5.086465623693748e-11, 1.0, 2.652349368782725e-13]], [[3.2822375928276415e-09, 1.5962883237463643e-09, 1.0, 4.785794156803025e-13]], [[9.482229188506608e-07, 0.9998350143432617, 0.00016400081221945584, 1.903284218326539e-14]], [[1.747331879187186e-08, 1.0, 4.0521568323015345e-09, 2.7417658174068915e-15]], [[0.28397634625434875, 0.7154825329780579, 0.0005389361758716404, 2.1567077510553645e-06]], [[3.8805549051890154e-11, 9.891408167799626e-14, 1.0, 6.333951866824153e-15]], [[1.2402559990305762e-13, 3.3242585564770817e-18, 1.0, 2.1180167372190147e-16]], [[1.5466848721917836e-14, 2.9415563633454284e-20, 1.0, 1.5608104065487581e-16]], [[1.2720701159096848e-09, 7.899825758828083e-12, 1.0, 3.4067494376725793e-13]], [[2.0401257072588663e-10, 3.3883713976973207e-13, 1.0, 1.621753810887236e-13]], [[1.6677425065947382e-11, 3.0109878281533824e-15, 1.0, 1.4055729948274798e-14]], [[2.589293579893792e-12, 1.1109595462425738e-16, 1.0, 4.257072396419287e-15]], [[1.1352806472686439e-09, 9.604162083676204e-13, 1.0, 2.7915304616488168e-12]], [[2.632558704362964e-08, 3.1499776120824663e-09, 1.0, 1.057999087644701e-11]], [[1.493591739176736e-08, 1.4992422858739474e-09, 1.0, 1.7505339625772942e-12]], [[4.353438498583273e-07, 1.821729682660589e-07, 0.9999994039535522, 1.8163465176357363e-09]], [[1.3602034414361697e-05, 0.001777147059328854, 0.9982092380523682, 9.212403479237464e-23]], [[2.566034709161613e-05, 0.9999738931655884, 4.35064634984883e-07, 1.6021784051377386e-14]], [[3.828908120340202e-06, 0.9999961853027344, 3.9556374842319997e-10, 1.3783006853895774e-13]], [[2.817641302499396e-07, 0.9999997615814209, 8.902911741159869e-11, 4.650886273327437e-11]], [[8.41357277181487e-08, 0.9999998807907104, 2.2653849282572303e-12, 9.336634243517494e-11]], [[1.0989767673663664e-07, 0.9999998807907104, 2.874950494682893e-12, 4.004162019316526e-12]], [[2.639376361912582e-08, 1.0, 3.430311996911392e-14, 1.6082740608019952e-13]], [[9.941934386858975e-09, 0.9999998807907104, 5.651778212643378e-14, 1.2772376578595868e-07]], [[8.226180625570123e-08, 0.9999936819076538, 9.221243153821959e-14, 6.2019489632803015e-06]], [[8.145929086822434e-08, 0.9999996423721313, 3.574000633204538e-14, 1.893186976076322e-07]], [[2.5127622649279147e-08, 1.0, 9.565619645121246e-14, 1.4261495630274457e-12]], [[0.12691614031791687, 0.3023967742919922, 2.665821966729709e-06, 0.5706844925880432]], [[6.121838511447442e-16, 6.812733841994895e-21, 1.0, 2.2638287276157387e-17]], [[1.2052401200798775e-17, 4.840739631957892e-24, 1.0, 1.6447173331394527e-18]], [[4.308265582134957e-18, 4.308168097752448e-25, 1.0, 1.2090252985629202e-17]], [[2.410383004303185e-11, 5.516755888917979e-12, 1.0, 2.2101329996010183e-15]], [[9.269906890707613e-13, 1.2389697286781937e-13, 1.0, 5.946129599822316e-17]], [[9.304763312926664e-14, 8.554432432667067e-16, 1.0, 2.011802015094102e-17]], [[9.416654332379884e-14, 1.7643104691732978e-16, 1.0, 1.2863050807333277e-15]], [[7.204836727225938e-11, 1.1917630510921429e-12, 1.0, 1.247768164833185e-13]], [[9.121644550802444e-10, 6.253047385440524e-11, 1.0, 1.1461012694446993e-11]], [[3.17329523769061e-10, 3.9578370962523035e-12, 1.0, 2.3604370194552082e-11]], [[3.1840092784563012e-09, 3.70465949584009e-11, 0.9999998807907104, 7.840143467774396e-08]], [[8.074853212747257e-07, 0.9999988079071045, 3.115351887572615e-07, 4.104523456684682e-14]], [[3.469421372415127e-08, 1.0, 2.4127922770844634e-08, 1.4836156459721757e-14]], [[1.0224592728036441e-08, 1.0, 6.47668030318016e-11, 1.2423454626153685e-11]], [[1.3489817041190122e-09, 1.0, 5.138760077183502e-12, 7.111969162459236e-14]], [[7.834037862863852e-10, 1.0, 3.049273886775866e-13, 3.00378645567978e-13]], [[5.1741989165465796e-11, 1.0, 1.7799194335066225e-16, 2.946265193620734e-14]], [[1.6855034701279692e-08, 0.2685878276824951, 3.0604067891015774e-11, 0.7314121723175049]], [[5.354902285481522e-12, 5.731747965143086e-09, 4.4663289214231464e-15, 1.0]], [[1.0659095811939648e-13, 1.0, 1.9908299008383178e-25, 6.911255595598575e-11]], [[6.190082897216537e-15, 1.0, 1.2928060515195935e-26, 1.4490959820978588e-10]], [[5.3071119301970125e-16, 1.0, 1.715802513362833e-26, 1.5472272768546347e-11]], [[2.9560410126232327e-15, 1.0, 9.385063436866235e-32, 1.7394965468042756e-09]], [[2.4774030229205617e-16, 1.0, 1.9155500941706049e-31, 2.037011916566564e-13]], [[8.278467907311534e-17, 1.0, 9.282258424872687e-35, 1.9339601263750755e-13]], [[3.840561996996673e-16, 1.0, 1.5994419774972445e-36, 6.371243656997326e-16]], [[2.2903644748712867e-18, 1.0, 1.3606337797091137e-27, 4.9650967338206106e-14]], [[2.270043064139211e-20, 1.0, 4.825033794306111e-31, 1.8607990362196894e-15]], [[1.555274681245006e-19, 1.0, 1.3005439100605028e-31, 2.3260075633891048e-17]], [[3.590880300281841e-21, 1.0, 1.7435184185038752e-36, 6.362068032427854e-22]], [[0.018545381724834442, 0.6868939995765686, 2.200161816290347e-06, 0.29455843567848206]], [[1.4259950015374284e-15, 1.7023919843618297e-18, 1.0, 9.205305043073243e-15]], [[1.3329251918150532e-16, 8.665290449925497e-21, 1.0, 1.7577121195718783e-14]], [[3.0590075420664373e-17, 1.0869946906126308e-21, 1.0, 7.482889802852988e-15]], [[3.491065672222432e-13, 2.96851675185561e-11, 1.0, 6.768097333389924e-15]], [[5.236627883436259e-15, 7.704057660914976e-13, 1.0, 1.1388941634474285e-16]], [[2.086669053692758e-15, 8.561847147329094e-15, 1.0, 9.346727331542936e-17]], [[1.4717886731604297e-15, 2.6165305138476855e-15, 1.0, 3.1940834229439376e-16]], [[1.6420391522192768e-12, 1.0021988794406411e-09, 1.0, 2.2976247098481506e-13]], [[1.1202695889001024e-11, 4.3311430886205926e-08, 1.0, 2.4912916781610894e-12]], [[3.791469742331355e-12, 1.0097607194836655e-09, 1.0, 1.5660559871469304e-12]], [[9.361167223331801e-12, 5.933359914500613e-10, 1.0, 4.913630058389629e-10]], [[6.143256042756562e-12, 1.0, 1.5370876127462907e-08, 1.16225215575915e-16]], [[3.4061888373867685e-14, 1.0, 1.0417583462540847e-09, 3.5859596425708934e-17]], [[2.1179149471521608e-13, 1.0, 5.326575985842297e-11, 2.6434757161020173e-13]], [[1.0380332525613753e-13, 1.0, 1.809761542015398e-11, 7.924919401269825e-13]], [[4.721384958342179e-13, 1.0, 5.324178944943192e-11, 1.5570567057920925e-10]], [[8.935414257463248e-13, 1.0, 6.787140294228777e-11, 5.210580411585397e-09]], [[3.734990086851943e-15, 8.798126671649698e-09, 3.8698394488889676e-10, 1.0]], [[3.125391764074023e-17, 1.0, 5.503477780662861e-21, 3.0131856753636e-13]], [[3.412684991139613e-18, 1.0, 2.043151663032142e-21, 1.6821817376555526e-12]], [[6.4567497635944635e-18, 1.0, 4.2414659299904664e-21, 4.700678041258399e-11]], [[3.7829198663800786e-18, 1.0, 5.446108281538334e-21, 3.8187460138505713e-11]], [[1.2794604785371089e-12, 0.0049527473747730255, 8.458200357785016e-17, 0.9950473308563232]], [[1.9511732588786343e-14, 1.0, 5.338197509965653e-16, 1.210396760598087e-08]], [[1.106055453118076e-14, 1.0, 1.659041247575758e-17, 1.1794096366202211e-08]], [[3.563350811196349e-17, 1.0, 2.7379125744705425e-20, 6.209302516602122e-10]], [[2.1978304680819703e-17, 1.0, 5.737553738144029e-21, 2.812728522316732e-11]], [[9.696756947201977e-16, 0.9999681711196899, 7.607799888112096e-14, 3.1784660677658394e-05]], [[4.081267658898047e-13, 0.00011420316150179133, 5.987761397818758e-10, 0.9998857975006104]], [[3.125320640305629e-13, 5.467764435662659e-11, 1.1459926063661641e-10, 1.0]], [[1.666096188963906e-14, 8.471586125329594e-17, 3.0420575048784385e-14, 1.0]], [[2.3090958577016383e-24, 1.0, 2.6639048276357276e-31, 8.587559504204129e-22]], [[4.2676377063411634e-24, 1.0, 1.5710430276988436e-31, 3.202031014594402e-20]], [[1.7476201846164406e-21, 1.0, 1.5503959396243905e-31, 3.410710246319653e-16]], [[1.3528305086127394e-25, 1.0, 8.180811745225657e-30, 5.865417867243024e-22]], [[5.045971719125083e-32, 1.0, 2.613588446534977e-37, 3.274357253294161e-25]], [[1.0127154741464075e-28, 1.0, 1.7505275452666122e-38, 6.591681664683931e-27]], [[3.289378056105734e-19, 1.0, 1.6757478401422346e-35, 5.560155202648907e-22]], [[5.88948259954249e-27, 1.0, 4.9472893595780715e-28, 1.5404074570299053e-26]], [[6.216589498719142e-29, 1.0, 2.2410261422014235e-31, 2.57351094834563e-29]], [[5.696495251688353e-26, 1.0, 9.804348419779115e-29, 6.283776768535306e-29]], [[2.3133803204662378e-17, 1.0, 4.8635830716208294e-23, 3.8102625753148273e-26]], [[6.382167450986417e-23, 1.0, 4.629834093829432e-21, 6.207156450352601e-22]], [[5.111273599044924e-19, 1.0, 4.277355794273108e-22, 1.2516168076237602e-18]], [[2.5130676776601092e-24, 1.0, 2.4570904529522723e-25, 3.0989759712121957e-25]], [[2.188056180685294e-09, 1.0, 1.1867096762457462e-15, 1.0649738903245609e-11]], [[3.4030763577466203e-19, 1.0, 3.1953637692205755e-23, 1.3473178464822738e-13]], [[8.443594402222226e-14, 1.0, 1.0441699912591764e-19, 3.1212941120628557e-09]], [[7.253365845718504e-20, 1.0, 9.335697718179851e-21, 8.060317691768062e-21]], [[4.0114372268362786e-07, 0.9999996423721313, 2.7671667041095915e-11, 4.68212268955881e-09]], [[2.4074362485927844e-16, 1.0, 1.6995110176858841e-18, 2.836965959460841e-13]], [[4.920600602323355e-13, 1.0, 3.928697628043055e-17, 1.3313894431377093e-10]], [[6.484478938913662e-15, 1.0, 7.246186869259248e-17, 1.8454573173986684e-17]], [[3.053386535611935e-05, 0.999969482421875, 1.1150803835846546e-08, 2.3229326018281427e-08]], [[8.564726212316812e-14, 1.0, 2.1047824099009828e-17, 1.7310688993354972e-10]], [[3.192226214268623e-12, 1.0, 1.761014750002315e-17, 5.068890307491358e-10]], [[4.0027402507976373e-13, 1.0, 7.000225865552018e-14, 3.1460482837668197e-18]], [[0.0016453333664685488, 0.998353123664856, 1.3379481060837861e-06, 2.825573801601422e-07]], [[7.188114253126043e-12, 1.0, 1.4838392626702508e-14, 1.627700862982806e-09]], [[9.215091190117874e-11, 1.0, 8.522646462530165e-15, 6.853330680733905e-10]], [[2.599187531870939e-10, 1.0, 3.562328904083145e-11, 9.963408212953551e-16]], [[0.003982133697718382, 0.9960144758224487, 2.6806173991644755e-06, 6.943314474483486e-07]], [[1.4937669157166766e-10, 1.0, 8.838053986576222e-13, 5.393955948562734e-09]], [[1.0675456074693557e-09, 1.0, 2.621938582046679e-13, 1.200628707564988e-09]], [[5.098903965716772e-09, 1.0, 2.2558153955909432e-10, 2.309900521183482e-14]], [[0.005016200244426727, 0.9949801564216614, 2.521437863833853e-06, 1.23548284136632e-06]], [[1.143137695613916e-09, 1.0, 5.391170582874638e-12, 1.915156033760468e-08]], [[5.7261093644456196e-09, 1.0, 1.7361461660675426e-12, 2.8691595765906186e-09]], [[3.280636917679658e-08, 1.0, 5.824961069045287e-10, 3.7283674411692225e-13]], [[0.007507547736167908, 0.9924841523170471, 3.334065013405052e-06, 4.97870769322617e-06]], [[0.1460050642490387, 0.6943697929382324, 7.13884062975012e-08, 0.1596250683069229]], [[3.3544887401149026e-07, 7.154187908753329e-09, 0.9999996423721313, 6.105602690098522e-09]], [[1.0771108310825284e-10, 1.4516103366535825e-14, 1.0, 3.407112092457254e-10]], [[1.8023140271883342e-11, 4.232718081603358e-15, 1.0, 3.9768400378337176e-11]], [[2.4886820028768852e-05, 0.0012862654402852058, 0.9986888766288757, 2.8078611435944367e-08]], [[1.0825633580680005e-06, 0.00027301142108626664, 0.999725878238678, 7.207647811924289e-10]], [[8.488876233059273e-07, 7.865563384257257e-05, 0.9999204874038696, 3.372343515550824e-10]], [[4.865902951678436e-07, 4.1959712689276785e-05, 0.9999575614929199, 3.186844121927379e-10]], [[5.151161076355493e-06, 0.00039483426371589303, 0.9995997548103333, 2.529093023895257e-07]], [[5.391103968577227e-06, 0.0007161354296840727, 0.9992781281471252, 3.2171971042771474e-07]], [[5.00583723805903e-07, 1.2262822792763473e-06, 0.9999982118606567, 9.398686273698331e-08]], [[6.122983222667244e-07, 3.8070203345341724e-07, 0.9999973773956299, 1.7144283219749923e-06]], [[1.9988830146644432e-08, 1.0, 2.2723146281267148e-11, 4.295181560681066e-13]], [[8.890169850284124e-11, 1.0, 4.157361521012204e-12, 2.520386514510281e-14]], [[2.0235593201078927e-09, 1.0, 1.088040546548541e-09, 1.7302479449199382e-09]], [[1.6251725520888272e-09, 1.0, 4.2679229039777056e-09, 3.482043808844537e-08]], [[3.3732583393231153e-09, 0.9999985694885254, 1.24335306495027e-08, 1.3828882856614655e-06]], [[1.126759241465436e-09, 0.9999978542327881, 3.113468594051483e-09, 2.1741971067967825e-06]], [[6.6714927852984385e-12, 1.791169239595547e-07, 8.421032759997615e-09, 0.9999997615814209]], [[8.71574901140093e-09, 0.9999998807907104, 3.3026714501248333e-13, 1.6306420036471536e-07]], [[6.154380338685428e-10, 1.0, 1.575128238560583e-14, 3.7123754736967385e-08]], [[2.834223744585529e-09, 0.9999998807907104, 2.6205771290498982e-14, 1.368664328538216e-07]], [[4.1850301002455126e-09, 0.9999998807907104, 3.1414612258100563e-14, 1.0733469935075846e-07]], [[1.8798757537297206e-06, 0.9982832670211792, 1.2577611207317124e-13, 0.0017148848855867982]], [[1.0557705820701813e-08, 0.9999995231628418, 4.0063587755483077e-13, 5.095042752145673e-07]], [[1.2625413603473135e-08, 0.9999992847442627, 1.4131216813026426e-12, 6.79340416809282e-07]], [[6.776564198673896e-09, 0.9999997615814209, 1.004294412389195e-12, 1.841967218751961e-07]], [[1.7474994784549835e-09, 6.355792720569298e-05, 1.5643524875486037e-07, 0.9999362230300903]], [[9.820200208565666e-10, 3.5741169995162636e-05, 1.4024902156961616e-05, 0.9999502897262573]], [[3.3669936283509116e-10, 4.086706212547142e-06, 2.6514569981372915e-05, 0.9999693632125854]], [[9.664258109054469e-12, 1.6893710608201218e-07, 3.4260767733940156e-06, 0.9999964237213135]], [[1.8999809014985658e-07, 0.9999997615814209, 2.7345320452454303e-11, 3.9102793891743204e-08]], [[2.9876014195906464e-07, 0.9999996423721313, 1.0158390795211858e-10, 1.3858085345930249e-08]], [[7.490889402106404e-07, 0.9999991655349731, 2.128908299647847e-10, 1.3038558677180845e-07]], [[9.79111428023316e-06, 0.9999154806137085, 1.0841717107412663e-10, 7.47747253626585e-05]], [[4.364524284028448e-05, 0.9961878657341003, 6.688587184111583e-12, 0.003768477588891983]], [[1.6374831830034964e-05, 0.9999741315841675, 4.712771839443519e-12, 9.486294402449857e-06]], [[0.00028510444099083543, 0.9996938705444336, 9.712153303809146e-10, 2.1069521608296782e-05]], [[0.0004910379648208618, 0.9880126714706421, 6.470463054242259e-10, 0.011496313847601414]], [[0.00014617280976381153, 0.9964015483856201, 2.4767643491685476e-09, 0.003452283563092351]], [[0.0001493902236688882, 0.9981589913368225, 5.2635598102313e-09, 0.0016916245222091675]], [[0.0002364699903409928, 0.991036057472229, 4.639136186312953e-09, 0.00872739776968956]], [[6.954174023121595e-05, 0.9921669960021973, 2.1124559046459268e-10, 0.007763514760881662]], [[8.264415373560041e-05, 0.9974580407142639, 2.5952401117024237e-08, 0.00245934771373868]], [[7.712301157880574e-05, 0.9947999715805054, 5.433541172550349e-09, 0.005122979637235403]], [[4.373799674795009e-05, 0.8679497241973877, 7.84402320874733e-09, 0.13200655579566956]], [[1.3790638149657752e-05, 0.06506234407424927, 8.720284910834764e-12, 0.9349238276481628]], [[1.5061869817145634e-05, 0.37703296542167664, 1.1380039133257469e-08, 0.6229519248008728]], [[1.3130874094713363e-06, 0.28517988324165344, 4.582532575625464e-09, 0.7148187756538391]], [[1.824751905132871e-08, 1.0, 5.082075316131807e-10, 5.028076479479671e-12]], [[6.512157142424257e-07, 0.9999979734420776, 1.4212888572728843e-06, 2.9044391891552834e-11]], [[1.542619543215551e-06, 0.9999961853027344, 2.266753654112108e-06, 2.867854564936323e-11]], [[8.274177787370718e-08, 0.9999997615814209, 1.1750337591820426e-07, 5.181987217800499e-12]], [[3.0178179599715804e-07, 0.9999996423721313, 2.1095097224588244e-08, 4.720784527179056e-11]], [[6.387340363289695e-06, 0.999992847442627, 7.5083289630129e-07, 7.106993465955114e-11]], [[4.58075055576046e-06, 0.9999933242797852, 2.1250848476483952e-06, 2.3919480285350403e-10]], [[2.374651330683264e-06, 0.9999969005584717, 6.749572207809251e-07, 3.4618429650690175e-11]], [[8.648164566693595e-07, 0.9999991655349731, 2.0752674245727576e-08, 5.420205950734669e-10]], [[1.6966170733212493e-05, 0.9999828338623047, 2.589033556432696e-07, 9.091794157811695e-12]], [[9.737533218867611e-06, 0.9999898672103882, 4.0070733575703343e-07, 8.126934541996533e-11]], [[3.198254105996057e-08, 1.0, 2.2142758737686563e-08, 6.872824791920307e-13]], [[1.72262318187677e-07, 0.9999998807907104, 3.4330565057416607e-09, 6.606650643226075e-11]], [[8.093033829936758e-05, 0.9999189376831055, 9.584523752437235e-08, 1.1949656542054043e-10]], [[6.526982906507328e-05, 0.9999345541000366, 1.3145023558536195e-07, 1.8857821970641453e-09]], [[3.167680517890403e-08, 1.0, 4.327556979433211e-09, 1.272704055858831e-12]], [[1.4280638538366475e-07, 0.9999998807907104, 1.2100729307462643e-09, 1.8650211930371086e-10]], [[0.00022825953783467412, 0.999771773815155, 9.799050459946557e-09, 2.3851376429462334e-09]], [[0.0002461518160998821, 0.9997536540031433, 1.8228934806074903e-08, 2.48252206347388e-07]], [[7.2741608292403725e-09, 1.0, 3.404039550236604e-10, 2.208839534889595e-11]], [[2.5260836991947144e-05, 0.9999701976776123, 7.263702173077036e-08, 4.360485036158934e-06]], [[0.00012958348088432103, 0.9998703002929688, 6.313728428963827e-10, 8.607955948036761e-08]], [[0.0019299010746181011, 0.996769905090332, 6.873231939152902e-08, 0.0013000948820263147]], [[2.0542538781143094e-09, 1.0, 4.241295370466247e-10, 2.44493811862867e-08]], [[7.5950069913233165e-06, 9.86723398301026e-13, 3.481506212210661e-07, 0.9999920129776001]], [[0.3157600164413452, 0.298543244600296, 8.432259335222625e-08, 0.3856965899467468]], [[3.368197054598454e-09, 7.731927945120454e-12, 1.0, 6.463885537932867e-10]], [[3.146255825314803e-12, 5.286580116253364e-17, 1.0, 6.783904688001385e-11]], [[4.5277467213868106e-13, 9.98120133115071e-18, 1.0, 8.673564470818018e-12]], [[1.4548257922797347e-06, 1.2973599041288253e-05, 0.9999855756759644, 1.181610453926396e-08]], [[3.723199881733308e-07, 2.0231127564329654e-05, 0.9999793767929077, 2.5467106201659817e-09]], [[2.6174492973041197e-07, 1.8205644209956517e-06, 0.9999979734420776, 2.329488824059922e-09]], [[1.627309842433533e-07, 7.652486146980664e-07, 0.9999990463256836, 2.4073782967093393e-09]], [[1.4003803983086982e-07, 3.6700765804198454e-07, 0.9999994039535522, 1.159557569962999e-07]], [[1.6791862833542837e-07, 1.1102242751803715e-06, 0.9999985694885254, 1.1351048101460037e-07]], [[7.152173964186659e-08, 2.4208544502357654e-08, 0.9999998807907104, 4.673765729990009e-08]], [[5.2431804675734384e-08, 8.95127527655859e-09, 0.9999995231628418, 3.4016935046565777e-07]], [[1.1237450792123127e-07, 0.9999998807907104, 5.701511263112025e-09, 1.0589801605065396e-11]], [[4.1165948427845933e-10, 1.0, 1.2642301094878405e-10, 8.689390353089355e-13]], [[2.2703934288159644e-09, 1.0, 1.983043951270247e-08, 7.580351457647794e-09]], [[2.7535276281298593e-09, 0.9999995231628418, 1.9658749295103917e-07, 2.047233920166036e-07]], [[4.1983261311884235e-09, 0.9999942779541016, 3.288118364253023e-07, 5.358290309231961e-06]], [[5.121048030076736e-10, 0.9999966621398926, 2.5715719331742548e-08, 3.2813240977702662e-06]], [[6.356738052604172e-12, 1.3523784048175003e-07, 3.836820994251866e-08, 0.9999998807907104]], [[4.2405527977962265e-09, 0.9999998807907104, 1.365088326665126e-13, 1.0129308947171012e-07]], [[7.154937753384161e-10, 1.0, 4.875493861715083e-14, 5.6593794539594455e-08]], [[2.202127591388603e-09, 0.9999997615814209, 6.389942015187083e-14, 2.5707035433697456e-07]], [[2.272082744170234e-09, 0.9999998807907104, 3.511592262090378e-14, 1.2508421320944763e-07]], [[1.4628407143391087e-06, 0.9957050681114197, 3.5194438509356107e-12, 0.004293519072234631]], [[1.0103726744148389e-08, 0.9999969005584717, 7.467678385386645e-12, 3.0566852728952654e-06]], [[1.629471668707083e-08, 0.9999958276748657, 4.9631708465280866e-11, 4.16500779465423e-06]], [[7.449807437609479e-09, 0.9999988079071045, 2.8999191936662783e-11, 1.1829353070424986e-06]], [[1.077740896526791e-09, 1.4425262634176761e-05, 4.034581706946483e-06, 0.9999815225601196]], [[3.589382402413577e-10, 2.801194341373048e-06, 0.00011862259998451918, 0.9998785257339478]], [[1.637353447270229e-10, 6.058722874513478e-07, 0.0001782533508958295, 0.999821126461029]], [[5.236642716677231e-12, 2.5888430954523756e-08, 2.532904727559071e-05, 0.9999746084213257]], [[1.3514606678199925e-07, 0.9999991655349731, 3.302768614155127e-10, 7.250897056110261e-07]], [[6.349359438218016e-08, 0.9999998807907104, 4.684595489301557e-10, 1.8780776045446146e-08]], [[1.7839717258993915e-07, 0.9999997615814209, 3.861639341629086e-10, 9.047197124800732e-08]], [[1.5781938600412104e-06, 0.9999815225601196, 5.797617247393916e-11, 1.6962718291324563e-05]], [[3.1823878998693544e-06, 0.9999324083328247, 3.4695454842470497e-11, 6.441564619308338e-05]], [[9.02450608464278e-07, 0.9999990463256836, 1.4550262904255984e-11, 5.175257911105291e-08]], [[7.019752501946641e-06, 0.9999929666519165, 1.0885435886009986e-09, 5.0649070715280686e-08]], [[8.95725952432258e-06, 0.9999454021453857, 4.737307768287735e-10, 4.568945223581977e-05]], [[4.051078576594591e-06, 0.9999955892562866, 2.0290164215452933e-08, 3.220818314275675e-07]], [[4.946043645759346e-06, 0.9999945163726807, 1.0013054385638043e-08, 6.020442810950044e-07]], [[2.7326570943841944e-06, 0.9999951124191284, 6.444960121143595e-09, 2.1489925075002247e-06]], [[2.861594339265139e-07, 0.9999966621398926, 9.49603312649927e-11, 3.0448691177298315e-06]], [[1.9656060885608895e-06, 0.9999977350234985, 1.6129847324464208e-07, 2.2342580052736594e-07]], [[7.793406666678493e-07, 0.999998927116394, 1.1758930718031024e-08, 2.50661230438709e-07]], [[1.174250385815867e-07, 0.9999947547912598, 4.247484586272776e-09, 5.1612232709885575e-06]], [[1.8246122124310205e-07, 0.9995434880256653, 5.0870245515977075e-11, 0.00045630274689756334]], [[3.788241542679316e-07, 0.9999991655349731, 7.027019410799085e-09, 4.879689186054748e-07]], [[2.1301754316027655e-07, 0.9999785423278809, 1.9986599042454145e-09, 2.1233101506368257e-05]], [[5.899843813494954e-08, 0.999974250793457, 9.220413876853684e-10, 2.5796436602831818e-05]], [[2.528186193728743e-08, 0.9989445805549622, 5.292913243110098e-12, 0.001055475091561675]], [[3.4854843988796347e-07, 0.999980092048645, 5.548258297238817e-09, 1.9531036741682328e-05]], [[8.725372424578381e-08, 0.9999089241027832, 1.344453770535381e-09, 9.098075679503381e-05]], [[3.040258178543809e-08, 0.9998458623886108, 2.846548829982254e-10, 0.00015416803944390267]], [[9.74682379251135e-09, 0.9982458353042603, 1.3943928477144762e-12, 0.0017542270943522453]], [[2.9235818033157557e-07, 0.9999809265136719, 1.3744811955263003e-09, 1.889005579869263e-05]], [[1.8832819748126894e-08, 0.9999996423721313, 5.174078526737347e-11, 3.879355006120022e-07]], [[4.346827411905174e-11, 0.9999998807907104, 2.573449483025958e-12, 1.2176867869584385e-07]], [[1.6805700164823634e-09, 0.9994233846664429, 3.1683588586940703e-13, 0.0005766189424321055]], [[8.097628665382217e-07, 0.9999333620071411, 1.3224511485887547e-09, 6.574259896297008e-05]], [[5.645199507853249e-08, 0.9999994039535522, 9.200491063454663e-11, 5.798473807772098e-07]], [[3.643525411933801e-11, 1.0, 1.8632595466527846e-12, 4.748834570023064e-08]], [[1.5999316316239742e-09, 0.9998078942298889, 3.3309775293935417e-13, 0.00019216704822611064]], [[8.560099331589299e-07, 0.9999586343765259, 1.2882691580173855e-09, 4.057983824168332e-05]], [[8.76401102800628e-08, 0.9999996423721313, 1.1896772456054805e-09, 2.028367731554681e-07]], [[9.015369700771103e-11, 1.0, 2.7808727542932843e-10, 5.482243548016186e-09]], [[1.1709568070727983e-06, 0.999473512172699, 1.5324927744586603e-06, 0.0005237627774477005]], [[5.470524797601684e-07, 0.9999762773513794, 2.3128055545384996e-05, 2.445005975459935e-08]], [[1.6741748254389677e-07, 0.9916043877601624, 0.008395511656999588, 9.111988941157279e-10]], [[3.4654709679671214e-07, 0.4376121163368225, 0.5623873472213745, 2.2776238495225698e-07]], [[6.985441558526873e-08, 5.1151774195469166e-14, 0.9999998807907104, 1.7274423669277894e-08]], [[1.036279655836081e-11, 1.0, 1.1415938507008949e-11, 3.6567868142573464e-23]], [[1.4169768873875666e-12, 1.0, 2.5035720024879637e-12, 3.807037181918363e-26]], [[1.9576716278873335e-13, 1.0, 1.0964474101666046e-15, 2.8227356792800546e-26]], [[2.6235068162350217e-07, 0.9999997615814209, 7.58234881131914e-12, 1.0848014821689955e-24]], [[0.0001117876308853738, 0.9998881816864014, 6.320341385673833e-12, 4.244221040489977e-17]], [[2.0172749373159604e-06, 0.9999979734420776, 1.0092377454584689e-11, 9.898502915765828e-14]], [[0.0005420014495030046, 0.9994578957557678, 1.551899373453125e-07, 3.403677296606733e-12]], [[1.5208783224807121e-05, 0.9999847412109375, 3.208371879281913e-08, 1.0534949995699705e-10]], [[0.9177566766738892, 0.08224322646856308, 5.5344525407008405e-08, 9.600941375254024e-09]], [[0.011102551594376564, 0.9888973832130432, 6.1166836040627e-09, 5.040033279612999e-09]], [[0.0022076533641666174, 0.9977923631668091, 5.647995138247097e-08, 4.119173335759285e-10]], [[0.008040986955165863, 0.991957426071167, 1.5447845953531214e-06, 1.6518655332475873e-09]], [[3.0629239518020768e-06, 0.9999969005584717, 4.989948898526109e-09, 1.3576528681662203e-13]], [[0.8255969285964966, 0.1744030863046646, 1.2563252660413582e-08, 1.9113450822061395e-09]], [[0.024844149127602577, 0.9751558899879456, 1.284538808654645e-09, 4.146658849624174e-10]], [[0.0015788670862093568, 0.9984211921691895, 7.156000236818727e-09, 1.6782033662038343e-12]], [[0.006476954091340303, 0.9935218691825867, 1.2397993032209342e-06, 3.833428800087413e-13]], [[1.5104880048966152e-06, 0.9999984502792358, 1.3642901253163586e-09, 7.109519426708747e-17]], [[0.9115745425224304, 0.0884244367480278, 9.795016921998467e-07, 5.840838923631964e-11]], [[0.017946599051356316, 0.982053279876709, 1.4032805495389766e-07, 1.0574584827574562e-12]], [[0.01244360115379095, 0.9875537157058716, 2.6940842872136272e-06, 5.895336996353251e-11]], [[0.002988967811688781, 0.9970042109489441, 6.745664450136246e-06, 4.634929245961317e-11]], [[1.7615141700844106e-07, 0.9999998807907104, 1.5316080625993322e-09, 9.718571486665124e-18]], [[0.9305946230888367, 0.069273442029953, 0.0001319107977906242, 7.540258695204471e-11]], [[0.11637681722640991, 0.8835868835449219, 3.627865226007998e-05, 2.3314286699133158e-12]], [[0.0028542468789964914, 0.9971379041671753, 7.814478522050194e-06, 1.1396400818366044e-16]], [[0.0009901821613311768, 0.9989990592002869, 1.0765138540591579e-05, 8.071965405115344e-13]], [[5.746916826865345e-07, 0.9999992847442627, 1.637708635371382e-07, 2.1696987171935318e-16]], [[0.7625444531440735, 0.0004711703513748944, 0.23698437213897705, 2.347267658020513e-10]], [[0.4973194897174835, 0.41070249676704407, 0.09197796881198883, 1.7336519372856962e-11]], [[0.1211824119091034, 0.1463979333639145, 0.0827459990978241, 0.6496736407279968]], [[0.8894902467727661, 0.05431041494011879, 0.0561993271112442, 1.4112880308836395e-10]], [[0.9098184704780579, 0.00550887593999505, 0.08467267453670502, 6.536705621229544e-10]], [[0.0746193528175354, 0.03257780149579048, 0.15803641080856323, 0.73476642370224]], [[0.9147794246673584, 0.002501106122508645, 0.08271948248147964, 5.708143735461135e-09]], [[0.6089922189712524, 0.0007847154047340155, 0.3902231454849243, 2.3372539459387554e-08]], [[0.7765833139419556, 0.0013539157807826996, 0.22206273674964905, 1.761184265092197e-08]], [[0.6147008538246155, 0.0015577779849991202, 0.3837413787841797, 3.9271967011700326e-08]], [[0.6424997448921204, 0.001367917750030756, 0.3561322093009949, 7.381994748811849e-08]], [[0.6733996868133545, 0.006944600027054548, 0.3196555972099304, 8.559281639008987e-08]], [[0.7371939420700073, 0.051373258233070374, 0.21143269538879395, 1.0761777957668528e-07]], [[0.32914698123931885, 0.6065504550933838, 0.06430251896381378, 5.145764703229361e-08]], [[0.000493194384034723, 0.9926185011863708, 0.0068883434869349, 2.2528283305820818e-15]], [[7.675579354327056e-07, 0.9999985694885254, 6.735411375302647e-07, 3.454126836443215e-14]], [[1.3353096406376608e-08, 0.9999998807907104, 8.52822097385797e-08, 1.775617837895357e-18]], [[0.9293192625045776, 0.01875135861337185, 0.051929473876953125, 7.746448482670587e-10]], [[0.02061924897134304, 0.9762711524963379, 0.0031095976009964943, 5.431190566729249e-11]], [[0.000262092100456357, 0.0002911846968345344, 0.00042456024675630033, 0.9990221261978149]], [[0.27018120884895325, 0.6646444201469421, 0.06517437845468521, 6.867541202382199e-09]], [[0.04682254046201706, 0.8809517025947571, 0.07222576439380646, 4.747004113576925e-13]], [[0.023693280294537544, 0.9631333351135254, 0.013173375278711319, 4.30361773995358e-10]], [[1.184819484478794e-05, 0.9994366765022278, 0.0005515448283404112, 3.881885589883394e-14]], [[0.0083848861977458, 8.35296816603659e-07, 0.9916143417358398, 1.649276604176464e-09]], [[0.0009087188518606126, 0.0018280473304912448, 0.8622153401374817, 0.13504789769649506]], [[8.054097270360216e-05, 4.279545009922003e-06, 0.99268639087677, 0.007228720001876354]], [[0.2037750780582428, 0.08487743884325027, 5.47649287909735e-05, 0.7112927436828613]], [[0.0006046728231012821, 1.341807319477084e-06, 0.3688589930534363, 0.6305350065231323]], [[0.00023249926744028926, 1.4655449831479928e-06, 0.13456639647483826, 0.865199625492096]], [[0.16677024960517883, 1.7558530089445412e-05, 0.8332074284553528, 4.762970092997421e-06]], [[9.1940863057971e-05, 1.077510660252301e-06, 0.07176687568426132, 0.9281401038169861]], [[0.5586880445480347, 9.173685975838453e-05, 0.441211998462677, 8.176284609362483e-06]], [[0.00016227446030825377, 2.54264068644261e-06, 0.07050850242376328, 0.9293266534805298]], [[0.8082934021949768, 0.0006197813781909645, 0.1910811811685562, 5.655648692481918e-06]], [[0.6018153429031372, 0.008656823076307774, 0.3895203173160553, 7.513918262702646e-06]], [[0.7879718542098999, 0.08381323516368866, 0.1282101273536682, 4.799769158125855e-06]], [[0.10799390822649002, 0.8786158561706543, 0.0133898314088583, 2.760626784947817e-07]], [[0.010399202816188335, 0.9886151552200317, 0.0009856594260782003, 2.35249331126397e-08]], [[7.583773822261719e-06, 0.9997784495353699, 0.00021392710914369673, 4.4167038868456535e-14]], [[2.534320344693697e-07, 0.9999992847442627, 4.4151386191515485e-07, 2.970794183571046e-13]], [[1.6463324925553025e-08, 0.9999998807907104, 1.7014372133417055e-07, 8.173067230171047e-17]], [[0.6631893515586853, 0.031886350363492966, 0.30492421984672546, 8.322061262333591e-08]], [[0.0010614615166559815, 0.9986711740493774, 0.0002673864655662328, 3.190537569384977e-13]], [[0.008450564928352833, 0.9858681559562683, 0.005681102629750967, 6.34801651244743e-08]], [[6.63948128476477e-07, 0.9999805688858032, 1.875466841738671e-05, 7.464156822191512e-15]], [[0.005441858433187008, 1.265590753973811e-06, 0.9945567846298218, 8.788108374346848e-08]], [[0.00016455331933684647, 0.00016558585048187524, 0.2737140953540802, 0.7259557843208313]], [[0.022948725149035454, 6.907575880177319e-05, 0.9769815802574158, 5.359806891647168e-07]], [[1.9132348825223744e-05, 5.951753792032832e-07, 0.086921326816082, 0.9130589962005615]], [[0.0612206794321537, 2.8488977477536537e-05, 0.9387454986572266, 5.3874796321906615e-06]], [[8.511868145433255e-06, 5.637268785108063e-08, 0.04660411179065704, 0.9533873200416565]], [[0.10183316469192505, 1.0644034773577005e-05, 0.8981287479400635, 2.7387432055547833e-05]], [[1.0459312761668116e-05, 2.741212767887191e-08, 0.038778673857450485, 0.9612108469009399]], [[0.21523457765579224, 1.3170075362722855e-05, 0.7846932411193848, 5.889850581297651e-05]], [[0.05317533388733864, 5.493080607266165e-06, 0.946799099445343, 2.005112219194416e-05]], [[2.213196967204567e-05, 1.5209919013159379e-07, 0.01230513583868742, 0.9876725077629089]], [[0.6879936456680298, 0.0007267010514624417, 0.3112531900405884, 2.6483894544071518e-05]], [[0.4839561879634857, 0.006608554627746344, 0.509392261505127, 4.3017324060201645e-05]], [[0.0009386134915985167, 0.007441848516464233, 0.025397147983312607, 0.9662224650382996]], [[0.0639045387506485, 0.9309367537498474, 0.005158437415957451, 3.7374346106844314e-07]], [[1.1601515325310174e-05, 0.9990918636322021, 0.0008965765009634197, 3.817399413068301e-13]], [[1.0648947181834956e-06, 0.9999955892562866, 3.2903703868214507e-06, 2.1074899637929523e-12]], [[1.4585635810249187e-08, 0.9999995231628418, 4.723054303212848e-07, 5.585743947591907e-16]], [[0.33339232206344604, 0.011157489381730556, 0.6554498076438904, 3.19601525688995e-07]], [[0.00013790333468932658, 0.002548470161855221, 0.008359245024621487, 0.9889544248580933]], [[0.0748879536986351, 0.010639342479407787, 0.9144721031188965, 6.022747243150661e-07]], [[2.232265796919819e-05, 1.4091082448430825e-05, 0.02524273283779621, 0.9747208952903748]], [[0.1028287410736084, 0.001353271072730422, 0.8958137035369873, 4.317541424825322e-06]], [[6.9834786700084805e-06, 3.792745530972752e-07, 0.026449760422110558, 0.9735428690910339]], [[0.10876981168985367, 0.00012703229731414467, 0.8910706639289856, 3.2478219509357587e-05]], [[4.549813183984952e-06, 5.460135099610852e-08, 0.021408941596746445, 0.9785863757133484]], [[0.16025228798389435, 3.850015127682127e-05, 0.8396161198616028, 9.310433233622462e-05]], [[9.352093002235051e-06, 6.03743330884754e-08, 0.02523270808160305, 0.9747578501701355]], [[0.3516329228878021, 7.083466334734112e-05, 0.6481912136077881, 0.00010509116691537201]], [[5.428821168607101e-05, 1.3816718364978442e-06, 0.0312601663172245, 0.9686841368675232]], [[0.7696053981781006, 0.0033728494308888912, 0.22697243094444275, 4.930582508677617e-05]], [[0.000681350298691541, 0.0038311833050101995, 0.03688918799161911, 0.958598256111145]], [[0.2835772931575775, 0.6891971230506897, 0.02722141146659851, 4.209103735774988e-06]], [[9.031539775605779e-06, 0.9991462230682373, 0.0008447023574262857, 5.372723208170449e-13]], [[2.4786584162939107e-06, 0.9999866485595703, 1.0893852959270589e-05, 6.8257196769727635e-12]], [[1.3220019745574518e-08, 0.9999994039535522, 6.474237466136401e-07, 1.1588474803578817e-15]], [[0.21648208796977997, 0.006497376132756472, 0.7770200371742249, 4.6849814339111617e-07]], [[0.0001149711970356293, 0.0019632286857813597, 0.010155932046473026, 0.987765908241272]], [[0.05108065903186798, 0.006880509201437235, 0.9420380592346191, 7.386042284451833e-07]], [[1.7144215235020965e-05, 9.987474186345935e-06, 0.028521966189146042, 0.971450924873352]], [[0.07242975383996964, 0.0010387898655608296, 0.926525890827179, 5.518418220162857e-06]], [[5.491840056492947e-06, 2.8993926548537274e-07, 0.029158545657992363, 0.9708357453346252]], [[0.08593054115772247, 0.00010746299085440114, 0.9139247536659241, 3.729182208189741e-05]], [[3.844400907837553e-06, 5.046058859647928e-08, 0.023539932444691658, 0.9764561653137207]], [[0.13272905349731445, 3.868263229378499e-05, 0.8671199679374695, 0.00011225827620364726]], [[8.048893505474553e-06, 5.832259475369028e-08, 0.026779739186167717, 0.9732121825218201]], [[0.3208943009376526, 9.004570165416226e-05, 0.6788870096206665, 0.00012869085185229778]], [[4.994090704713017e-05, 1.6372821391996695e-06, 0.03205396980047226, 0.9678944945335388]], [[0.7452656030654907, 0.00455398578196764, 0.25011351704597473, 6.688862049486488e-05]], [[0.4581882655620575, 0.11480853706598282, 0.4269503355026245, 5.291174602461979e-05]], [[0.0007702528964728117, 0.04474183917045593, 0.01856265403330326, 0.9359252452850342]], [[0.00528871500864625, 0.9942112565040588, 0.0004998930962756276, 6.137169350495242e-08]], [[1.992186980714905e-06, 0.9998593330383301, 0.00013867115194443613, 5.246673321496198e-13]], [[3.6493597121989296e-07, 0.9999977350234985, 1.8520009916755953e-06, 3.12684752222514e-12]], [[7.896115761241163e-09, 0.9999997615814209, 2.6880303494181135e-07, 1.524055794082822e-15]], [[0.22451715171337128, 0.025343356654047966, 0.7501387596130371, 7.214267156996357e-07]], [[9.93395151454024e-05, 0.0017700588796287775, 0.010625621303915977, 0.9875049591064453]], [[0.04367077350616455, 0.00959836132824421, 0.9467300772666931, 8.155898854056431e-07]], [[1.4883391486364417e-05, 9.823146683629602e-06, 0.03226756677031517, 0.9677076935768127]], [[0.05526866391301155, 0.0011944761499762535, 0.9435298442840576, 6.939793365745572e-06]], [[4.5958786358824e-06, 2.8622793024624116e-07, 0.02987840585410595, 0.9701167345046997]], [[0.0661669671535492, 0.00011707947123795748, 0.9336705803871155, 4.537874337984249e-05]], [[3.2971274777082726e-06, 5.863114083126675e-08, 0.026336366310715675, 0.9736602902412415]], [[0.11056799441576004, 4.4474785681813955e-05, 0.8892409205436707, 0.0001466588582843542]], [[7.074168479448417e-06, 6.684268782919389e-08, 0.02967238612473011, 0.9703205227851868]], [[0.30081257224082947, 0.0001396516163367778, 0.698871374130249, 0.00017645017942413688]], [[4.9574358854442835e-05, 2.9399677714536665e-06, 0.034648410975933075, 0.9652990698814392]], [[0.7250019907951355, 0.008845249190926552, 0.2660573422908783, 9.541164035908878e-05]], [[0.3700890839099884, 0.22498318552970886, 0.4048668146133423, 6.092347393860109e-05]], [[0.1191253662109375, 0.8420727252960205, 0.03879580646753311, 6.086594112275634e-06]], [[4.803286174137611e-06, 0.9996393918991089, 0.00035580151597969234, 6.485004048518983e-13]], [[3.3100565133281634e-07, 0.9999959468841553, 3.6507058212009724e-06, 4.351054672807608e-12]], [[3.0339624146336064e-08, 0.9999988079071045, 1.2105108453397406e-06, 7.588956115541119e-15]], [[0.13363578915596008, 0.007785601541399956, 0.8585776686668396, 9.416024226993613e-07]], [[6.932591350050643e-05, 0.0008012982434593141, 0.012343380600214005, 0.9867860674858093]], [[0.032001301646232605, 0.0048941923305392265, 0.9631035923957825, 9.022471090247564e-07]], [[1.0609279343043454e-05, 4.765360699821031e-06, 0.03288835287094116, 0.9670963287353516]], [[0.04166952893137932, 0.0006849444471299648, 0.9576380848884583, 7.4717713687277865e-06]], [[3.88519765692763e-06, 1.9429283781846607e-07, 0.03434433043003082, 0.9656516313552856]], [[0.049745112657547, 7.459201151505113e-05, 0.9501367211341858, 4.3618358176900074e-05]], [[2.8533663680718746e-06, 4.472024528467955e-08, 0.028588702902197838, 0.9714084267616272]], [[0.08840295672416687, 3.4205138945253566e-05, 0.9114206433296204, 0.00014220575394574553]], [[6.1737760006508324e-06, 5.4570268304132696e-08, 0.03201577067375183, 0.9679780602455139]], [[0.2505991458892822, 0.00011477489169919863, 0.7491000890731812, 0.0001860029879026115]], [[0.09385525435209274, 0.00017866301641333848, 0.9058831334114075, 8.295790757983923e-05]], [[5.147473711986095e-05, 1.0185949577135034e-05, 0.012784325517714024, 0.9871540665626526]], [[0.6641387343406677, 0.14762569963932037, 0.1881900578737259, 4.5540964492829517e-05]], [[0.10793523490428925, 0.8093680739402771, 0.08268089592456818, 1.5796313164173625e-05]], [[0.24965700507164001, 0.26431992650032043, 2.885336698454921e-07, 0.4860227108001709]], [[2.8883932827739045e-05, 8.995373832476616e-07, 0.9994847774505615, 0.0004854054714087397]], [[6.968892307668284e-07, 1.1639315067313305e-09, 0.9998819828033447, 0.00011725957301678136]], [[1.6206089981096738e-07, 1.5968315558723134e-10, 0.9999288320541382, 7.107956480467692e-05]], [[0.02087191306054592, 0.12072250992059708, 0.8407231569290161, 0.017682353034615517]], [[0.0017594520468264818, 0.04008432850241661, 0.9553130865097046, 0.002843225374817848]], [[0.0024584163911640644, 0.012190492823719978, 0.9833496809005737, 0.0020013973116874695]], [[0.0011158426059409976, 0.0017400755314156413, 0.99574214220047, 0.0014018764486536384]], [[0.004219976719468832, 0.8090051412582397, 0.1666765660047531, 0.020098360255360603]], [[0.001970607554540038, 0.9345049262046814, 0.02675875648856163, 0.03676561266183853]], [[0.012507465668022633, 0.0013382327742874622, 1.569075465113201e-07, 0.9861541390419006]]]; // action probs
        var action =  [[3], [3], [1], [1], [1], [1], [2], [2], [2], [1], [1], [1], [2], [2], [2], [2], [2], [2], [2], [1], [1], [0], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [3], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [1], [1], [1], [1], [1], [1], [1], [3], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [1], [1], [1], [1], [1], [1], [3], [1], [1], [1], [1], [3], [1], [1], [1], [1], [1], [3], [3], [3], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [1], [1], [1], [1], [1], [1], [3], [1], [1], [1], [1], [1], [1], [1], [1], [3], [3], [3], [3], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [3], [3], [3], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [3], [3], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [2], [1], [1], [1], [1], [1], [1], [3], [1], [1], [1], [1], [1], [1], [1], [1], [3], [3], [3], [3], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [1], [2], [1], [1], [1], [1], [1], [1], [1], [1], [0], [1], [1], [1], [1], [0], [1], [1], [1], [1], [0], [1], [1], [1], [1], [0], [1], [1], [1], [1], [0], [2], [3], [0], [2], [3], [0], [0], [0], [0], [0], [0], [0], [1], [1], [1], [1], [0], [2], [3], [1], [1], [1], [1], [2], [2], [2], [3], [3], [3], [2], [3], [2], [3], [0], [0], [0], [0], [1], [1], [1], [1], [1], [1], [1], [1], [2], [3], [2], [3], [2], [3], [2], [3], [0], [2], [3], [0], [2], [3], [1], [1], [1], [1], [2], [3], [2], [3], [2], [3], [2], [3], [2], [3], [2], [3], [2], [3], [1], [1], [1], [1], [2], [3], [2], [3], [2], [3], [2], [3], [2], [3], [2], [3], [0], [2], [3], [1], [1], [1], [1], [2], [3], [2], [3], [2], [3], [2], [3], [2], [3], [2], [3], [0], [0], [1], [1], [1], [1], [2], [3], [2], [3], [2], [3], [2], [3], [2], [3], [0], [2], [3], [0], [1], [3], [2], [2], [2], [2], [2], [2], [2], [1], [1], [3]];
        var action_names = [['no-op', 'move forward', 'rotate left', 'rotate right']];
        var x_values = [...Array(y_values.length).keys()];

        var y_entropy_plot = [];
        var y_values_plot = [];

        // Set marker for plots
        var entropy_marker = false;
        var value_marker = false;

        // Set the to be shown statistic
        var statistic_type = 'general'
        // Only used for the transformer plot to show the correct statistic with tab switching
        var statistic_plot_id = 0;
        // Hide statistic type button if there is no attention weights
        if(y_attention_weights.length == 0) stats_button.style.display = 'none';

        // Set the to be shown action_space(s) for the entropy plot
        var entr_selected_action_space = null;

        var is_multi_discrete = action[0].length != 1;
        var is_discrete = action[0].length == 1;

        // Reformat the data for the plots
        // Each function y - value should be stored in a separate array
        for(var j = 0; j < y_values[0].length; j++)
            for(var i = 0; i < y_values.length; i++)
                y_values_plot.push(y_values[i][j]);

        if(is_discrete) { // If action_space is discrete
          for(var j = 0; j < y_entropy[0].length; j++)
              for(var i = 0; i < y_values.length; i++)
                  y_entropy_plot.push(y_entropy[i][j]);
        }
        else { // If action_space is multi discrete
          for(var j = 0; j < y_entropy[0].length; j++) {
            var y_entropy_vals = [];
            for(var i = 0; i < y_entropy.length; i++) {
                y_entropy_vals.push(y_entropy[i][j]);
            }
            y_entropy_plot.push(y_entropy_vals);
          }
        }

        // Set action_names for distr. plot if it does not exist
        if(action_names == null){
          action_names = [];
          for(var i = 0; i < y_action[0].length; i++){
            for(var j = 0; j < y_action[0][0].length; j++)
              if(is_discrete){ // if action space is discrete
                action_names.push("action_" + String(j));
            }
            else { // if action space is multi_discrete
              var action_branch_names = []; // Names of the branches of the action space
              for(var j = 0; j < y_action[0][i].length; j++){
                action_branch_names.push("action_" + String(j));
              }
              action_names.push(action_branch_names);
            }     
          }
        }
        else{
          if(action[0].length == 1 && Array.isArray(action_names[0])){ // If action space is discrete and action_names is multi_discrete
            action_names = action_names[0]; // Set action_names to the first branch of the action space
          }
        }

        // Modify dropdown menu
        if(is_discrete){ // if action space is discrete
          document.getElementById("all").outerHTML=""; // remove dropdown option 'all'
        }
        else { // If action space is multi_discrete
          // Create dropdown menu for the entropy function
          var dropdown_content = document.getElementById("dropdown_content"); 
          for(var i = 0; i < action[0].length; i++){
            var entropy_dropdown_option = document.createElement("a");
            entropy_dropdown_option.innerHTML = "action_space_" + String(i);
            entropy_dropdown_option.setAttribute("href", "#");
            entropy_dropdown_option.setAttribute("onclick", "set_action_space(" + String(i) + ")");
            dropdown_content.appendChild(entropy_dropdown_option);
          }
        }

        window.addEventListener('load', () => {
          // Set video length to length - 0.9999 because the last frame is two seconds long
          video_length = video_player.duration - 0.9999;
          time_selector.setAttribute('max', video_length); // Set max value of time selector to video length

          video_player.addEventListener('timeupdate', timeListener); // Update time selector and plots when video is playing
          video_player.addEventListener('dblclick', function(e) {open_fullscreen(video_player);}); // Open video in fullscreen when video is double clicked
          video_player.playbackRate = 6; // Set video playback rate to frame rate
          reset(); // Reset video to start
        }, false);
      
      // Update video time if time selector is changed
      time_selector.addEventListener('input', () => {
          video_player.currentTime = time_selector.value
          pause();
          update();
      })

      // Add event manager for tab
      window.addEventListener('keydown', function(event) {
          if (event.key === 'Tab') {
              if (statistic_type == "transformer") {
                statistic_plot_id = (statistic_plot_id + 1) % 3;
                // Set action plot if statistic_plot_id is 0
                if(statistic_plot_id == 0){
                  // Update action plot
                  if(is_discrete) { // If action_space is discrete
                    set_bar_action_plot(y_action[step][0], action[step][0], action_names);
                  }
                  else { // If action_space is multi discrete
                      set_stacked_bar_action_plot(y_action[step], action[step], action_names);
                  }
                }
                // Set value plot if statistic_plot_id is 1
                if (statistic_plot_id == 1) {
                  set_scatter_line_plot('action_distr', "Value Function", y_values_plot, step, value_marker);
                }

              // Set entropy plot if statistic_plot_id is 2
              if (statistic_plot_id == 2) {
                  if(is_discrete) { // If action_space is discrete
                      set_scatter_line_plot('action_distr', "Entropy Function", y_entropy_plot, step, entropy_marker);
                  }
                  else { // If action_space is multi discrete
                      set_scatter_lines_plot('action_distr', "Entropy Function", y_entropy_plot, step, entropy_marker);
                  }
              }
          }
      }
    });

    // Show ground truth if checkbox is checked
    function show_ground_truth() {
        // Get the checkbox element by its ID
        var checkbox = document.getElementById("show_ground_truth");
        
        // Check if the checkbox is checked
        if (checkbox.checked) { // Show the ground truth
          if (video_id == render_id) video_id = render_gt_id;
          if (video_id == render_decoder_id) video_id = render_decoder_gt_id;
          if (video_id == render_agent_id) video_id = render_agent_gt_id;
          set_video(video_path[video_id]);
        } else {
          if (video_id == render_gt_id) video_id = render_id;
          if (video_id == render_decoder_gt_id) video_id = render_decoder_id;
          if (video_id == render_agent_gt_id) video_id = render_agent_id;
          set_video(video_path[video_id]);
        }
      }

    // Show decoder video if checkbox is checked
    function show_decoder_video() {
      var checkbox = document.getElementById("show_decoder_video");
      document.getElementById("show_agent_video").checked = false;

      if (checkbox.checked) { 
          if (video_id == render_id) video_id = render_decoder_id;
          if (video_id == render_gt_id) video_id = render_decoder_gt_id;
          if (video_id == render_agent_id) video_id = render_decoder_id;
          if (video_id == render_agent_gt_id) video_id = render_decoder_gt_id;
          set_video(video_path[video_id]);
        } else { // Hide decoder video
          if (video_id == render_decoder_id) video_id = render_id;
          if (video_id == render_decoder_gt_id) video_id = render_gt_id;
          set_video(video_path[video_id]);
        }
    }

    // Show agent video if checkbox is checked
    function show_agent_video() {
      var checkbox = document.getElementById("show_agent_video");
      document.getElementById("show_decoder_video").checked  = false;

      if (checkbox.checked) { 
          if (video_id == render_id) video_id = render_agent_id;
          if (video_id == render_gt_id) video_id = render_agent_gt_id;
          if (video_id == render_decoder_id) video_id = render_agent_id;
          if (video_id == render_decoder_gt_id) video_id = render_agent_gt_id;
          set_video(video_path[video_id]);
        } else { // Hide agent video
          if (video_id == render_agent_id) video_id = render_id;
          if (video_id == render_agent_gt_id) video_id = render_gt_id;
          set_video(video_path[video_id]);
        }
    }

    // Set the video to the given path
    function set_video(path) {
        // Get video data to make the switch seamless
        var current_time = video_player.currentTime;
        var play_back_rate = video_player.playbackRate;
        var is_paused = video_player.paused;
        video_player.querySelector("source").src = path;
        // Reload video
        video_player.load();
        video_player.currentTime = current_time;
        video_player.playbackRate = play_back_rate;
        if(is_paused) pause();
        else play();
    }


      /**
      * Update time selector and plots when video is playing
      */
      function timeListener() {
        if(!video_player.paused) {
          update();
        } 
      }

      /**
      * Toggles button and video between playing and paused
      */
      function play_pause() {
        if(video_player.paused)
          play();
        else 
          pause();
      }

      /**
       * Returns to the previous frame step
       */
       function return_to_step() {
        video_player.currentTime = past_steps.pop();
        pause();
        update();
        gotostep_text.value = step;
        return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
       * Updates the plots and time selector
       */
       function go_to_step(event) {
        if (event.keyCode === 13) {
          past_steps.push(step);
          video_player.currentTime = Number(gotostep_text.value);
          pause();
          update();
          gotostep_text.value = step;
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
        }
      }

      function set_video_speed(event) {
        if (event.keyCode === 13) {
          video_player.playbackRate = Number(video_speed.value);
        }
      }

      /**
       * Updates the plots and time selector
       */
       function top_scores() {
        if (event.keyCode === 13) update()
      }

      /**
      * Pauses video
      */
      function pause() {
          play_pause_button.innerHTML = "Play";
          video_player.pause();
      }

      /**
      * Plays the video
      */
      function play() {
          play_pause_button.innerHTML = "Pause";
          video_player.play();
      }

      /**
      * Resets the video and plots to the start
      */
      function reset() {
          video_player.currentTime = 0;
          past_steps.push(step);
          pause();
          update();
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
      * Goes to the previous frame
      */
      function back() {
          video_player.currentTime = video_player.currentTime - tS_step_size
          pause();
          update();
          past_steps.push(step + 1);
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
      * Goes to the next frame
      */
      function next() {
          video_player.currentTime = video_player.currentTime + tS_step_size;
          pause();
          update();
          past_steps.push(step - 1);
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
       * Switches between general and transformer statistics
       */
       function statistic() {
        if (stats_button.innerHTML == "General") {
          statistic_type = "general";
          stats_button.innerHTML = "Transformer";
        }
        else if (stats_button.innerHTML == "Attention Scores") {
          statistic_type = "transformer";
          stats_button.innerHTML = "General";
        }
        update();
      }
      /**
      * Opens the video in fullscreen
      */
      function open_fullscreen(vid_elem) {
          if (vid_elem.requestFullscreen) {
              vid_elem.requestFullscreen();
          } else if (vid_elem.webkitRequestFullscreen) { /* Safari */
              vid_elem.webkitRequestFullscreen();
          } else if (vid_elem.msRequestFullscreen) { /* IE11 */
              vid_elem.msRequestFullscreen();
          }
          vid_elem.pause();
      }

      // Selects the action space for the entropy plot
      function set_action_space(spaces){
        if (spaces == 'all')
          entr_selected_action_space = null;
        else
          entr_selected_action_space = Number(spaces);
        update();
      }

      function marker(marker_id){
        if(marker_id == "entropy")
          entropy_marker = !entropy_marker;
        else if(marker_id == "value")
          value_marker = !value_marker;
        update();
      }

      /**
      * Updates the plots and time selector
      */
      function update()  {
        if(video_player.currentTime == Math.round(video_player.currentTime)) // If time t of video is a natural number then step is t - 1
              video_player.currentTime += 0.0001 // Add a small number to make sure that the step and the current time are the same
        if(video_player.currentTime > video_length) {
           video_player.currentTime = video_length;
           pause();
        } // Video can't go past the end
        time_selector.value = video_player.currentTime; // Update time selector
        step = Math.floor(video_player.currentTime); // Get step of video for plots

        // Update plots
        if (statistic_type == "general")
          render_general_statistics();
        else if (statistic_type == "transformer")
          render_transformer_statistics();

        if(statistic_type == "general") {
          // Reset plot id
          statistic_plot_id = 0;
          // Update action plot
          if(is_discrete) { // If action_space is discrete
            set_bar_action_plot(y_action[step][0], action[step][0], action_names);
          }
          else { // If action_space is multi discrete
              set_stacked_bar_action_plot(y_action[step], action[step], action_names);
          }
        }
      }

      /**
      * Renders the general statistics
      */
      function render_general_statistics() {
        // Disables the transformer statistics and enables the general statistics
          document.getElementById('transformer').style.display = 'none';
          document.getElementById('top_n_scores').style.display = 'none';
          document.querySelector('label[for="top_n_scores"]').style.display = 'none';
          document.getElementById('value_func').style.display = 'block';
          document.getElementById('entropy_func').style.display = 'block';
          document.getElementById('options').style.display = 'block';
        // Updates the plots
          set_scatter_line_plot('value_func', "Value Function", y_values_plot, step, value_marker);
          if(is_discrete) { // If action_space is discrete
              set_scatter_line_plot('entropy_func', "Entropy Function", y_entropy_plot, step, entropy_marker);
          }
          else { // If action_space is multi discrete
              set_scatter_lines_plot('entropy_func', "Entropy Function", y_entropy_plot, step, entropy_marker);
          }
        }
      
      /*
      * Renders the transformer statistics
      */
      function render_transformer_statistics() {
        // Disables the general statistics and enables the transformer statistics
        document.getElementById('transformer').style.display = 'block';
        document.getElementById('top_n_scores').style.display = 'block';
        document.querySelector('label[for="top_n_scores"]').style.display = 'block';
        document.getElementById('value_func').style.display = 'none';
        document.getElementById('entropy_func').style.display = 'none';
        document.getElementById('options').style.display = 'none';
        // Updates the plots
        var top_n = Number(top_n_scores.value);
        if (top_n == -1) top_n = step;
        visualizeAttentionScores(y_attention_weights[step], top_n);
        }


      /**
       * Renders attention scores
      */
      async function visualizeAttentionScores(attentionScores, n_values) {
        const numHeads = attentionScores.length;
        
        let data = [];
        let layout = {
          grid: {
              rows: numHeads, 
              columns: 1, 
              pattern: 'independent',
              subplots: [...Array(numHeads).keys()].map(i => `xy${i + 1}`),
              ygap: 0.4 // adjust this value according to your preference
          },
          plot_bgcolor: '#000',
          paper_bgcolor: '#000',
          font: {
              family: 'Montserrat',
              size: 12,
              color: '#fff'
          },
          margin: {
              t: 0,  // reduce top margin
          },
      }

        // Flatten the array to find the max value across all arrays
        let flatScores = attentionScores.flat();
        let maxScore = Math.max(...flatScores);

        // Iterate through each attention head
        for (let headIdx = 0; headIdx < numHeads; headIdx++) {
            // Get attention scores for the current head
            let headScores = attentionScores[headIdx];
            
            // This array will keep up to the 10 highest scores
            let topScores = [];

            for (let i = 0; i < headScores.length; i++) {
                // Insert current score into the top scores array
                topScores.push({score: headScores[i], index: i});
                
                // Sort the top scores array
                topScores.sort((a, b) => b.score - a.score);

                // If there are more than 10 scores, remove the smallest
                if (topScores.length > n_values) {
                    topScores.pop();
                }
            }

            // Sort the topScores array by index
            topScores.sort((a, b) => a.index - b.index);

            // Now topScores contains the top 10 scores sorted by their indices.
            // You can extract the scores and their indices into separate arrays:
            let filteredHeadScores = topScores.map(x => x.score);
            let filteredTicks = topScores.map(x => x.index);


            const sequenceLength = filteredHeadScores.length;

            layout.height = 400;
            layout.width = window.innerWidth;

            const headScoresPlot = {
                z: [filteredHeadScores],
                type: 'heatmap',
                showscale: true,  
                colorscale: 'Hot',
                zmin: 0,
                zmax: maxScore,
                xaxis: `x${headIdx + 1}`,
                yaxis: `y${headIdx + 1}`,
            };

            data.push(headScoresPlot);

            layout[`xaxis${headIdx + 1}`] = {
                tickmode: 'array',
                tickvals: Array.from({length: sequenceLength}, (_, i) => i),
                ticktext: filteredTicks
            };

            layout[`yaxis${headIdx + 1}`] = {
                title: `Block ${headIdx + 1}`,
                ticks: 'outside',
                tick0: 0,
                dtick: 1,
                ticklen: 8,
                tickwidth: 4,
                tickcolor: '#000'
            };
        }

        const config = {responsive: true};

        Plotly.newPlot('transformer', data, layout, config).then(function() {
          var myPlot = document.getElementById('transformer');
          myPlot.on('plotly_click', function(data){
            // Jump to the step that was clicked
              past_steps.push(step);
              video_player.currentTime = Number(data.points[0].xaxis.ticktext[data.points[0].x]);
              pause();
              update();
              return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
          });
      });
    }

      /** 
      * Sets a stacked bar plot for the multi discrete action distribution
      * @param {array} y_values - The action distribution
      * @param {array} action - The action
      * @param {array} action_names - The names of the actions
      */
      function set_stacked_bar_action_plot(y_values, action, action_names) {
        var bar_plot_data_action = [];
        // Set data for each action
        for(var j = 0; j < action_names[0].length; j++) {
            var color = ""
            for(var i = 0; i < action_names.length; i++) {
                if(action[i] == j) // If action sampled in the current frame
                    color = '#FF0000'; // Color it red
                else
                    color = '#FAEBD7'; // Color it white
                var trace = {
                    x: [["action_space_", String(i)].join("")],
                    y: [y_values[i][j]],
                    text: [y_values[i][j], action_names[i][j]].map(String).join("<br>"), // Add action name and prob to the bar
                    marker: {
                        color: color,
                        line: {
                            color: '#000000',
                            width: 1
                          }
                    },
                    type: 'bar'
                };
                bar_plot_data_action.push(trace);
            }
        }

        // Set layout for the plot
        var bar_plot_layout_action = {
            autosize: true,
            width: 600,
            height: 360,
            margin: {
                l: 28,
                r: 0,
                b: 30,
                t: 22,
                pad: 4
              },
            plot_bgcolor: '#000',
            paper_bgcolor: '#000',
            font: {
                family: 'Montserrat',
                size: 12,
                color: '#fff'
            },
            title: {
                text: 'Action Distribution',
                font: {
                    family: 'Montserrat',
                    size: 15,
                    color: '#fff'
                }
            },
            barmode: 'stack',
            showlegend: false
      };

      // Plot the data
      Plotly.newPlot('action_distr', bar_plot_data_action, bar_plot_layout_action);
      }

      /**
      * Sets a bar plot for the discrete action distribution
      */
      function set_bar_action_plot(y_values, action, action_names) {

          var color_value = new Array(y_values.length).fill('#FAEBD7'); // Set color for all actions to white
          color_value[action] = '#FF0000'; // Except the selected action should be red
          // Set data for the plot
          var bar_plot_data_action = [
              {
                  x: action_names,
                  y: y_values,
                  type: 'bar',
                  marker: {
                      color: color_value
                  },
                  textposition: 'auto',
                  text: y_values.map(String), // Add prob to the bar plot
                  textfont: {
                      family: 'Montserrat',
                      size: 12,
                  },
                  textangle: 0,
                  textposition: 'bottom center',
              }
          ];

          // Set layout for the plot
          var bar_plot_layout_action = {
            autosize: true,
            width: 600,
            height: 360,
            margin: {
                l: 28,
                r: 0,
                b: 30,
                t: 22,
                pad: 4
              },
            yaxis: {
              automargin: true,
            },
            plot_bgcolor: '#000',
            paper_bgcolor: '#000',
            font: {
                family: 'Montserrat',
                size: 12,
                color: '#fff'
            },
            title: {
                text: 'Action Distribution',
                font: {
                    family: 'Montserrat',
                    size: 15,
                    color: '#fff'
                }
            }
      };
          
          // Plot the action distribution
          Plotly.newPlot('action_distr', bar_plot_data_action, bar_plot_layout_action);
      }


      /**
      * Sets a scatter plot for the emtropy function if multi discrete actions are used
      * @param {string} id - The id of the plot
      * @param {string} title - The title of the plot
      * @param {array} y_values - The entropy function y values
      * @param {int} step - The step of the video
      * @param {boolean} marker - If the marker should be shown
      */
      function set_scatter_lines_plot(id, title, y_values, step, marker) {
        line_scatter_plot_data_value = [];

        // Set colors and data for the plot
        var colors = ['#FAEBD780', '#7CFC0080', '#FFBF0080', '#FF7F5080', '#DE316380', '#9FE2BF80', '#40E0D080', '#6495ED80', '#CCCCFF80']
        for(var i = 0; i < y_values.length; i++) {
          var x_values_marker = x_values.slice(0, step + 1);
          var y_values_marker = y_values[i].slice(0, step + 1);
            var trace = [
            {
                x: x_values_marker,
                y: y_values_marker,
                mode: 'line',
                line: {
                    color: colors[i]
                },
                name: 'action_space_' + String(i),
                showlegend: true,
            },
            {
                x: x_values,
                y: y_values[i],
                mode: 'markers',
                name: 'action_space_' + String(i) + "_marker",
                marker: {
                    color: colors[i]
                },
                showlegend: true,
            }
        ];
            // Add data to the plot
            line_scatter_plot_data_value.push(trace[0]);
            if(marker)
              line_scatter_plot_data_value.push(trace[1]); 
        }

        // Select the selected action_space for the entropy plot
        if(entr_selected_action_space != null && marker)
          line_scatter_plot_data_value = [line_scatter_plot_data_value[entr_selected_action_space * 2], line_scatter_plot_data_value[entr_selected_action_space * 2 + 1]];
        else if(entr_selected_action_space != null && !marker)
          line_scatter_plot_data_value = [line_scatter_plot_data_value[entr_selected_action_space]];

        // Set layout for the plot
        var line__scatter_plot_layout_value = {
            autosize: true,
            width: 600,
            height: 360,
            margin: {
                l: 50,
                r: 0,
                b: 30,
                t: 25,
                pad: 4
                },
            yaxis: {
                automargin: true
            },
            plot_bgcolor: '#000',
            paper_bgcolor: '#000',
            font: {
                family: 'Montserrat',
                size: 12,
                color: '#fff'
            },
            title: {
                text: title,
                font: {
                    family: 'Montserrat',
                    size: 15,
                    color: '#fff'
                }
            },
            showlegend: true,
        };

        // Plot the data
        Plotly.newPlot(id, line_scatter_plot_data_value, line__scatter_plot_layout_value);
        // Add event handler for clicking on a marker
        document.getElementById(id).on('plotly_click', function(data){
            past_steps.push(step);
            video_player.currentTime = Number(data.points[0].x);
            pause();
            update();
            return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
          });
      }


      /**
      * Sets a scatter plot for the value function
      * @param {string} id - The id of the plot
      * @param {string} title - The title of the plot
      * @param {array} y_values - The value function y values
      * @param {int} step - The step of the video
      * @param {boolean} marker - If the marker should be shown
      */
      function set_scatter_line_plot(id, title, y_values, step, marker) {
          // Set data for layout for the plot
          var line__scatter_plot_layout_value = {
              autosize: true,
              width: 600,
              height: 360,
              margin: {
                  l: 50,
                  r: 0,
                  b: 30,
                  t: 25,
                  pad: 4
                  },
              yaxis: {
                  automargin: true
              },
              plot_bgcolor: '#000',
              paper_bgcolor: '#000',
              font: {
                  family: 'Montserrat',
                  size: 12,
                  color: '#fff'
              },
              title: {
                  text: title,
                  font: {
                      family: 'Montserrat',
                      size: 15,
                      color: '#fff'
                  }
              },
              showlegend: false,
          };

          // Set data for the plot
          var x_values_marker = x_values.slice(0, step + 1);
          var y_values_marker = y_values.slice(0, step + 1);

          var line_scatter_plot_data_value = [
              {
                  x: x_values_marker,
                  y: y_values_marker,
                  mode: 'line',
                  line: {
                      color: '#FAEBD7'
                  },
                  name: 'function',
              },
              {
                  x: x_values,
                  y: y_values,
                  mode: 'markers',
                  marker: {
                      color: '#7CFC0080'
                  },
                  name: 'marker',
              }
          ];

          if(!marker)
            line_scatter_plot_data_value = [line_scatter_plot_data_value[0]];

          // Plot the value function
          Plotly.newPlot(id, line_scatter_plot_data_value, line__scatter_plot_layout_value);

          // Add event handler for clicking on a marker
          document.getElementById(id).on('plotly_click', function(data){
            past_steps.push(step);
            video_player.currentTime = Number(data.points[0].x);
            pause();
            update();
            return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
          });
      }
    
    /**
    * Opens the specific tab based on the probided id
    * @param {string} id - The id of the tab
    */
    function openTab(evt, id) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        mediatabcontent = document.getElementsByClassName("mediatabcontent");
        // Hide all elements with class="tabcontent" and "mediacontent" by default
        for (i = 0; i < mediatabcontent.length; i++) {
            mediatabcontent[i].style.display = "none";
        }
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        // Show the specific tab content
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(id).style.display = "block";
        evt.currentTarget.className += " active";
      }
    </script>
  </body>
</html>