<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;500&display=swap" rel="stylesheet"/>
    <script src="template/cdn.plot.ly_plotly-2.6.3.min.js"></script>
    <style>
     /* Style the body */
      html, body {
        height: 100%;
        margin: 0;
        background-color: #000;
        color: white;
        font-family: "Montserrat", sans-serif;
        min-width: 1737px;
      }

      /* Set the width and hight of the video*/
      video {
        width: 600px;
        height: 400px;
      }

      /* Style the timeline text*/
      #selector_header {
        font-weight: 200;
      }

      /* Buttons should be displayed in a row */
      buttonrow {
        display: inline;
      }

      /* Style the figures */
      #figures {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        flex-flow: row nowrap;
      }

      /* Style the tab */
      .tab {
        overflow: hidden;
        background-color: #54595f;
      }

      /* Style the buttons inside the tab */
      .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
        color: white;
      }

      /* Change background color of buttons on hover */
      .tab button:hover {
        background-color: #909090;
      }

      /* Create an active/current tablink class */
      .tab button.active {
        background-color: #838383;
      }

      /* Style the tab content */
      .tabcontent {
        display: none;
        padding: 6px 12px;
        border-top: none;
        background-color: #000;
      }

      .mediatabcontent {
        display: none;
        padding: 0 px 0 px;
        border-top: none;
        background-color: #000;
        width: 100%;
        height: 100%;
      }

      /* Style the close button */
      .topright {
        float: right;
        cursor: pointer;
        font-size: 28px;
      }

      .topright:hover {
        color: red;
      }

      /* Style of the dropdown button */
      .dropbtn {
        background-color: #17202A;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
      }
      
      .dropdown {
        position: relative;
        display: inline-block;
      }
      
      /* Style of the dropdown content */
      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        background-color: #A6ACAF;
        z-index: 1;
      }
      
      .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }

      .gotostepcontainer {
          margin-bottom: 10px;
      }
      
      #score-container label, #score-container input {
        display: inline-block;
      }

      /* Style of the dropdown at hover */
      .dropdown-content a:hover {background-color: #ddd;}
      
      .dropdown:hover .dropdown-content {display: block;}
      
      .dropdown:hover .dropbtn {background-color: #161515;}
    </style>
  </head>
  <body>
    <!--- Define tabs -->
    <div class="tab">
      <button class="tablinks" onclick="location.href='../index.html'">Back</button>
      <button class="tablinks" onclick="openTab(event, 'Environment')">Environment</button>
      <button class="tablinks" onclick="openTab(event, 'Sampler')">Sampler</button>
      <button class="tablinks" onclick="openTab(event, 'Hyperparameters')">Hyperparameters</button>
      <button class="tablinks" onclick="openTab(event, 'Model')">Model</button>
      <button class="tablinks" onclick="openTab(event, 'Media')" id="defaultOpen">Media</button>
    </div>

    <!--- Define tab content -->
    <div id="Environment" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>type</b>: MemoryGym<br><b>name</b>: Endless-SearingSpotlights-v0<br><b>frame_skip</b>: 1<br><b>last_action_to_obs</b>: False<br><b>last_reward_to_obs</b>: False<br><b>obs_stacks</b>: 1<br><b>grayscale</b>: False<br><b>resize_vis_obs</b>: [84, 84]<br><b>positional_encoding</b>: False<br><b>reset_params</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>start-seed</b>: 200002<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>num-seeds</b>: 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_steps</b>: 8192<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>steps_per_coin</b>: 160<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial_spawns</b>: 3<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>spawn_interval</b>: 50<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>spot_min_radius</b>: 7.5<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>spot_max_radius</b>: 13.75<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>spot_min_speed</b>: 0.0025<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>spot_max_speed</b>: 0.0075<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>spot_damage</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>visual_feedback</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>black_background</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>hide_chessboard</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>light_dim_off_duration</b>: 6<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>light_threshold</b>: 255<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>coin_scale</b>: 0.375<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>coin_show_duration</b>: 6<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>coins_visible</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>agent_speed</b>: 3.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>agent_health</b>: 10<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>agent_scale</b>: 0.25<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>agent_visible</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>sample_agent_position</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>show_last_action</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>show_last_positive_reward</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_inside_spotlight</b>: 0.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_outside_spotlight</b>: 0.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_death</b>: 0.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_max_steps</b>: 0.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reward_coin</b>: 0.25<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>seed</b>: 200002<br><b>reward_normalization</b>: 0<br>
    </div>

    <div id="Model" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>load_model</b>: False<br><b>model_path</b>: <br><b>checkpoint_interval</b>: 500<br><b>activation</b>: relu<br><b>vis_encoder</b>: cnn<br><b>vec_encoder</b>: linear<br><b>num_vec_encoder_units</b>: 128<br><b>hidden_layer</b>: default<br><b>num_hidden_layers</b>: 1<br><b>num_hidden_units</b>: 512<br><b>recurrence</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>layer_type</b>: gru<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>sequence_length</b>: -1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>hidden_state_size</b>: 512<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>hidden_state_init</b>: zero<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>reset_hidden_state</b>: True<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>residual</b>: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>num_layers</b>: 1<br><b>obs_decoder</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>attach_to</b>: memory<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>detach_gradient</b>: False<br>
    </div>

    <div id="Sampler" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>n_workers</b>: 32<br><b>worker_steps</b>: 512<br>
    </div>

    <div id="Hyperparameters" class="tabcontent">
      <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
      <b>algorithm</b>: PPO<br><b>resume_at</b>: 0<br><b>gamma</b>: 0.995<br><b>lamda</b>: 0.95<br><b>updates</b>: 50000<br><b>epochs</b>: 3<br><b>refresh_buffer_epoch</b>: -1<br><b>n_mini_batches</b>: 8<br><b>advantage_normalization</b>: no<br><b>value_coefficient</b>: 0.5<br><b>max_grad_norm</b>: 0.25<br><b>share_parameters</b>: True<br><b>learning_rate_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.000275<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 1e-05<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 10000<br><b>beta_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.0001<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 1e-06<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 10000<br><b>clip_range_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 10000<br><b>obs_reconstruction_schedule</b>: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>initial</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>final</b>: 0.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>power</b>: 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>max_decay_steps</b>: 1000<br><b>ground_truth_estimator_schedule</b>: {'initial': 0.0}<br>
    </div>

    <div id="Media" class="mediatabcontent">
      <br>
      <center>
        <div id="figures" style="display: flex; flex-direction: column;">
          <div style="display: flex; flex-direction: row;">
            <div style="display: flex; flex-direction: column;">
              <div style="display: flex; flex-direction: row;">
                <label for="video_speed">Frame Rate: </label>
                <input type="text" id="video_speed" size="3" value="6" onkeydown="set_video_speed(event)">
              </div>

              <div style="display: flex; flex-direction: row;">
                <label for="show_ground_truth">Show Ground Truth Estimation</label>
                <input type="checkbox" id="show_ground_truth" onclick="show_ground_truth()">
              </div>

              <div style="display: flex; flex-direction: row;">
                <label for="show_decoder_video">Show Decoder Video</label>
                <input type="checkbox" id="show_decoder_video" onclick="show_decoder_video()">
              </div>

            <div style="display: flex; flex-direction: row;">
              <label for="show_agent_video">Show Agent Video</label>
              <input type="checkbox" id="show_agent_video" onclick="show_agent_video()">
            </div>
          </div>
          
            <div>
              <video id="video_player">
                <source src="" type="video/webm" />
              </video>
            </div>
            <div id="action_distr"></div>
          </div>
        </div>

        <br>
        <!-- Set buttons to control the figures -->
        <div class="gotostepcontainer">
          <label for="gotostep_text">Step:</label>
          <input type="text" id="gotostep_text" size="3" value="0" onkeydown="go_to_step(event)">
          <button id="return_button" type="return_button" onclick="return_to_step()">Return to step 0</button>
        </div>
        <buttonrow>
          <button id="play_pause_button" onclick="play_pause()" style="width:53px">Play</button>
          <button id="reset_button" onclick="reset()">Reset</button>
          <button id="back_button" onclick="back()">Back</button>
          <button id="next_button" onclick="next()">Next</button>
          <button id="stats_button" onclick="statistic()">Transformer</button>
        </buttonrow>
        <br>
        <!-- Set slider to control the figures -->
        <input id="time_selector" type="range" min="0" max="100" step="1" value="0" style="width: 300px;"/>

        <!-- Set transformer plot -->
        <div id="score-container">
          <label for="top_n_scores">Top Scores:</label>
          <input type="text" id="top_n_scores" size="3" value="-1" onkeydown="top_scores()">
        </div>
        <div id="transformer"></div>

        <!-- Set value plot and entropy plot -->
        <div id="figures">
          <div id="value_func"></div>
          <div id="entropy_func"></div>
          <!-- Dropdown button with some options-->
          <div class="dropdown" id="options">
            <button class="dropbtn">Options</button>
            <div class="dropdown-content" id="dropdown_content">
              <a href ="#" onclick="marker('value')">value_marker_toggle</a>
              <a href ="#" onclick="marker('entropy')">entropy_marker_toggle</a>
              <a href="#" id="all" onclick="set_action_space('all')">All</a>
            </div>
          </div>
        </div>
      </center>
    </div>

    <script>
        // Set active tab
        document.getElementById("defaultOpen").click();

        // Set video player
        const video_player = document.getElementById("video_player");
        const video_speed = document.getElementById("video_speed");
        const video_path = ['videos/video_seed_200002_46.webm', '', 'videos/video_seed_200002_47.webm', '', 'videos/video_seed_200002_48.webm', ''];
        var render_id = 0; var render_gt_id = 1; var render_decoder_id = 2; var render_decoder_gt_id = 3; var  render_agent_id = 4; var render_agent_gt_id = 5;
        var video_id = 0;
        // Hide video player if there is no ground truth video
        if (video_path[render_gt_id].length == 0 && video_path[render_decoder_gt_id].length == 0 && video_path[render_agent_gt_id].length == 0){
          document.querySelector('label[for="show_ground_truth"]').style.display = 'none';
          document.getElementById("show_ground_truth").style.display = 'none';
        } 
        if (video_path[render_decoder_id].length == 0){
          document.querySelector('label[for="show_decoder_video"]').style.display = 'none';
          document.getElementById("show_decoder_video").style.display = 'none';
        }
        if (video_path[render_agent_id].length == 0){
          document.querySelector('label[for="show_agent_video"]').style.display = 'none';
          document.getElementById("show_agent_video").style.display = 'none';
        }

        video_player.querySelector("source").src = video_path[0];
        video_player.load();
        var video_length = 0;

        // Play and pause button
        const play_pause_button = document.getElementById("play_pause_button");

        // Set step input
        const gotostep_text = document.getElementById('gotostep_text');
        var past_steps = [0];
        var step = 0;

        // Set number of scores input
        const top_n_scores = document.getElementById('top_n_scores');

        // Const stats button
        const stats_button = document.getElementById("stats_button");

        // Set time selector
        const time_selector = document.getElementById('time_selector');
        var tS_step_size = 1.0;

        // Set values for the plots
        var y_values = [[1.9510843753814697], [2.0399115085601807], [2.0692286491394043], [2.087833881378174], [2.066059112548828], [2.0318894386291504], [1.9076019525527954], [1.8821579217910767], [1.903210163116455], [1.9194257259368896], [1.923616886138916], [1.9570351839065552], [1.987831711769104], [1.9904016256332397], [1.7863960266113281], [1.8329527378082275], [1.8796066045761108], [1.86919105052948], [1.8622219562530518], [1.8743438720703125], [1.8837260007858276], [1.8939968347549438], [1.9065182209014893], [1.9248555898666382], [1.9428800344467163], [1.949560523033142], [1.7948546409606934], [1.822102427482605], [1.8502534627914429], [1.8731833696365356], [1.8808001279830933], [1.8903999328613281], [1.9307122230529785], [1.6745765209197998], [1.7181493043899536], [1.6760667562484741], [1.7189064025878906], [1.7485219240188599], [1.763413906097412], [1.7664276361465454], [1.7862597703933716], [1.8134162425994873], [1.820081353187561], [1.6900018453598022], [1.7193771600723267], [1.6048799753189087], [1.6592072248458862], [1.6090062856674194], [1.7554329633712769], [1.8224461078643799], [1.875221610069275], [1.7377108335494995], [1.7547203302383423], [1.6841589212417603], [1.5206705331802368], [1.5178735256195068], [1.4430009126663208], [1.3880293369293213], [1.2892261743545532], [1.3062282800674438], [1.3554871082305908], [1.3392868041992188], [1.3403865098953247], [1.3931235074996948], [1.407611608505249], [1.4478398561477661], [1.4405791759490967], [1.3813718557357788], [1.4637794494628906], [1.556872010231018], [1.513000726699829], [1.5680757761001587], [1.6496368646621704], [1.6206727027893066], [1.662360668182373], [1.6787770986557007], [1.691282033920288], [1.6419113874435425], [1.6972055435180664], [1.6974517107009888], [1.096392035484314], [1.174208641052246], [1.2207310199737549], [1.177453637123108], [1.2091970443725586], [1.2212390899658203], [1.304019808769226], [1.4013248682022095], [1.421122431755066], [1.3595831394195557], [1.3709779977798462], [1.3441212177276611], [1.3253896236419678], [1.35289466381073], [1.2927112579345703], [1.2983392477035522], [1.341598629951477], [1.329509973526001], [1.351000428199768], [1.3347729444503784], [1.3153750896453857], [1.3142987489700317], [1.3660119771957397], [1.3644553422927856], [1.2997862100601196], [1.2769649028778076], [1.275166392326355], [1.2276866436004639], [1.2597291469573975], [1.2325377464294434], [1.2302323579788208], [1.2896983623504639], [1.3160014152526855], [0.967616081237793], [1.167545199394226], [0.7705563306808472], [0.5330575704574585], [0.8548390865325928], [0.4371402859687805], [0.6880068778991699], [0.19081006944179535], [0.13503432273864746]];
        var y_entropy = [[0.1282944530248642, 0.001890418934635818], [0.012796545401215553, 0.04290330037474632], [0.4210166037082672, 0.03454631194472313], [0.6003360748291016, 0.08963634073734283], [0.6019314527511597, 0.014447963796555996], [0.662451982498169, 0.011589838191866875], [0.0013244604924693704, 0.6381101608276367], [0.00014456346980296075, 0.018309127539396286], [0.000978747266344726, 0.11923310905694962], [0.0004445865924935788, 0.39221104979515076], [0.0006747124716639519, 0.6201230883598328], [0.00031797040719538927, 0.6884090900421143], [0.0016446816734969616, 0.6929483413696289], [0.003537386655807495, 0.411390483379364], [0.00215161289088428, 0.5950374603271484], [3.1912570648273686e-06, 0.40235182642936707], [3.942389867006568e-06, 0.25706806778907776], [1.110260927816853e-05, 0.4278900623321533], [3.2196679967455566e-05, 0.567111611366272], [0.00022883759811520576, 0.17831218242645264], [0.0004386119544506073, 0.25676196813583374], [0.000965429877396673, 0.3636496067047119], [0.004375110846012831, 0.6460100412368774], [0.01383290346711874, 0.4684382677078247], [0.020647328346967697, 0.5200955867767334], [0.014483286999166012, 0.6809570789337158], [0.01958923600614071, 0.23263713717460632], [0.06042224541306496, 0.03722545504570007], [0.0025590606965124607, 0.027091134339571], [0.0037621790543198586, 0.06320677697658539], [0.024589885026216507, 0.10434927046298981], [0.033982355147600174, 0.022431163117289543], [0.03571639582514763, 0.21943147480487823], [0.6290431022644043, 0.011812745593488216], [0.30171945691108704, 0.0002141317236237228], [0.4068261682987213, 0.0031083233188837767], [0.2899826765060425, 0.001938913483172655], [0.39384210109710693, 0.001430409261956811], [0.281508207321167, 0.0019109821878373623], [0.6436958312988281, 0.0009791142074391246], [0.42779481410980225, 0.006124010309576988], [0.33350154757499695, 0.003282807767391205], [0.20973296463489532, 0.004085545893758535], [0.016369296237826347, 0.553462028503418], [0.005014893598854542, 0.4747677147388458], [0.01740683801472187, 0.3791503608226776], [0.11067948490381241, 0.02887078933417797], [0.5474385619163513, 0.010614176280796528], [0.6939873695373535, 0.0019994177855551243], [0.8658389449119568, 0.04948403313755989], [1.0767518281936646, 0.07486513257026672], [0.002030950738117099, 0.6836521029472351], [0.21764102578163147, 0.05265957862138748], [0.8561873435974121, 0.5955595374107361], [0.5768149495124817, 0.057739391922950745], [0.022361278533935547, 0.2545788288116455], [0.24497397243976593, 0.7007288336753845], [0.00019772515224758536, 0.23329642415046692], [1.7017768186633475e-05, 0.18537092208862305], [0.15273921191692352, 0.029588239267468452], [0.36377930641174316, 0.289093941450119], [0.33467209339141846, 0.00693388981744647], [0.7036130428314209, 0.016158517450094223], [0.06640657037496567, 0.4807916283607483], [0.173560231924057, 0.28273531794548035], [0.05385516211390495, 1.0114915370941162], [0.0783374235033989, 0.8785022497177124], [0.7330725193023682, 0.9133656024932861], [0.7941867709159851, 0.24251973628997803], [0.8289848566055298, 0.2932440936565399], [0.6581489443778992, 0.3774261176586151], [0.7730798125267029, 0.1877591460943222], [0.7091237306594849, 0.21400608122348785], [0.006497683934867382, 0.40807539224624634], [0.14027152955532074, 0.23934805393218994], [1.0771428346633911, 0.5957103967666626], [0.3692325949668884, 0.8404673337936401], [0.06316239386796951, 0.40726083517074585], [0.0026030386798083782, 0.5722508430480957], [0.0042890701442956924, 0.2038501799106598], [0.1255485564470291, 0.24182339012622833], [0.03591245785355568, 0.7291024923324585], [0.194284588098526, 0.7148816585540771], [0.3342979848384857, 0.9040367603302002], [0.13324809074401855, 0.6278318762779236], [0.694777250289917, 0.24136939644813538], [0.025824926793575287, 0.26900383830070496], [0.4119064509868622, 0.054616134613752365], [0.4119168519973755, 0.024549759924411774], [0.02223505638539791, 0.37951338291168213], [0.1081765666604042, 0.1691683530807495], [0.025554455816745758, 0.7517001628875732], [0.025166667997837067, 0.7518595457077026], [0.022709276527166367, 0.1920795738697052], [0.10256867110729218, 1.058098554611206], [0.2296883761882782, 1.087234616279602], [0.547343909740448, 0.6555954813957214], [0.6009473204612732, 0.15474852919578552], [0.7151869535446167, 0.8602121472358704], [0.6932911276817322, 0.5376092791557312], [0.6456366777420044, 0.207453191280365], [0.8883194327354431, 0.6652872562408447], [0.466630220413208, 0.9895675778388977], [0.2794153392314911, 0.31823474168777466], [0.19359062612056732, 0.213638573884964], [0.5262242555618286, 0.5267112255096436], [0.325359582901001, 0.4479235112667084], [0.23541970551013947, 0.48647767305374146], [0.5713353753089905, 0.07274649292230606], [0.3795435428619385, 0.35065576434135437], [0.32432305812835693, 0.2714225649833679], [0.22382159531116486, 0.16317418217658997], [0.2770056426525116, 0.0898667648434639], [0.07469084858894348, 0.6995832920074463], [0.19152680039405823, 0.7536294460296631], [0.1293998658657074, 0.5750675797462463], [0.05446051061153412, 0.6956697106361389], [0.019541896879673004, 0.9485400915145874], [0.14017502963542938, 0.1676630973815918], [0.3263869285583496, 0.8680776357650757], [0.010469229891896248, 0.19942530989646912], [0.017200984060764313, 0.654529333114624]];
        var y_attention_weights = [];
        var y_action = [[[0.0281264316290617, 1.015957968775183e-05, 0.9718634486198425], [0.00019324496679473668, 0.9998034834861755, 3.283231762907235e-06]], [[0.0017403621459379792, 0.9982596039772034, 8.476573887250538e-10], [0.007241272367537022, 0.9927585124969482, 2.1420595430754474e-07]], [[0.14897532761096954, 0.8510176539421082, 7.008746251813136e-06], [0.005583764053881168, 0.9944155216217041, 6.791335636080476e-07]], [[0.28748470544815063, 0.7124732136726379, 4.2094809032278135e-05], [0.017862387001514435, 0.9821349382400513, 2.702392066566972e-06]], [[0.7145197987556458, 0.2849480211734772, 0.0005321798380464315], [0.0020030697342008352, 0.9979967474937439, 1.031632876902222e-07]], [[0.6298407316207886, 0.3697180151939392, 0.0004412444541230798], [0.001551905064843595, 0.9984478950500488, 6.306785849119478e-08]], [[0.00013349407527130097, 0.9998664855957031, 1.196764076727419e-10], [0.6683430671691895, 0.00035229348577558994, 0.3313046097755432]], [[1.1724648175004404e-05, 0.999988317489624, 7.565020658517607e-14], [0.002639870857819915, 7.766346454829431e-10, 0.9973601698875427]], [[9.542783664073795e-05, 0.9999045133590698, 6.164735822516976e-12], [0.025636976584792137, 4.9326740025890103e-08, 0.9743630290031433]], [[3.9941773138707504e-05, 0.9999600648880005, 3.209785735813764e-12], [0.1330820769071579, 4.6165575895429356e-07, 0.8669174313545227]], [[6.32784140179865e-05, 0.9999366998672485, 1.3480641082586065e-11], [0.3112397789955139, 2.5218489554390544e-06, 0.6887577176094055]], [[2.7660837076837197e-05, 0.9999723434448242, 1.9500507111858134e-11], [0.5491340756416321, 8.212102329707704e-06, 0.4508577883243561]], [[0.00016992083692457527, 0.9998300075531006, 6.386067785690841e-10], [0.5141710638999939, 1.8122678739018738e-05, 0.4858108460903168]], [[0.00040099394391290843, 0.999599039554596, 6.788489770315209e-09], [0.857503354549408, 0.000263377238297835, 0.1422332227230072]], [[0.0002293728175573051, 6.672391972273317e-09, 0.9997705817222595], [0.7225287556648254, 0.0006339219980873168, 0.2768373191356659]], [[2.0737621753141866e-07, 3.827882072594954e-15, 0.9999997615814209], [0.8616754412651062, 4.939264908898622e-05, 0.1382751166820526]], [[2.6000833486250485e-07, 2.1418805670189245e-15, 0.9999997615814209], [0.9287875890731812, 3.5339944588486105e-05, 0.07117708772420883]], [[7.173561584750132e-07, 1.8052892825927945e-14, 0.9999992847442627], [0.8470789194107056, 1.4327032658911776e-05, 0.15290679037570953]], [[2.3358541056950344e-06, 2.0003111309268434e-13, 0.999997615814209], [0.7457309365272522, 1.2322978363954462e-05, 0.2542567253112793]], [[1.932586746988818e-05, 9.023310744427082e-12, 0.9999806880950928], [0.9570679664611816, 0.00017896656936500221, 0.04275299608707428]], [[3.939191810786724e-05, 8.60356577647714e-11, 0.9999606609344482], [0.929218053817749, 0.00015516851271968335, 0.07062679529190063]], [[9.39864112297073e-05, 1.2666558912854953e-09, 0.999906063079834], [0.8819797039031982, 8.33252415759489e-05, 0.1179368644952774]], [[0.0005098604597151279, 1.030637086785191e-08, 0.9994901418685913], [0.6529244184494019, 3.887209459207952e-05, 0.3470367193222046]], [[0.001904662000015378, 2.174135360633045e-08, 0.9980953335762024], [0.17795708775520325, 1.3010121620027348e-05, 0.8220298886299133]], [[0.003037814050912857, 3.232221956750436e-07, 0.9969618916511536], [0.2146286815404892, 5.464843980007572e-06, 0.7853658199310303]], [[0.0020071230828762054, 7.904417316240142e-07, 0.9979921579360962], [0.5793169736862183, 4.380351310828701e-05, 0.420639306306839]], [[0.0028569945134222507, 0.9971429705619812, 8.264554374193267e-09], [0.06207187473773956, 0.9379277229309082, 4.1151440655085025e-07]], [[0.01097206212580204, 0.9890279769897461, 1.9429744924082115e-08], [0.006107351742684841, 0.9938926696777344, 3.1557636503976028e-09]], [[0.00027861635317094624, 0.999721348285675, 1.0907762887368833e-10], [0.004184387158602476, 0.9958155751228333, 8.190442768452044e-10]], [[0.0004298531566746533, 0.9995701909065247, 2.837736712280048e-10], [0.011594541370868683, 0.9884054660797119, 4.422259891612157e-09]], [[0.0037319366820156574, 0.996268093585968, 1.928060022748923e-08], [0.021638160571455956, 0.9783616662025452, 7.829441273088378e-08]], [[0.005477042868733406, 0.9945229291915894, 1.2247125980024975e-08], [0.003349159611389041, 0.9966508746147156, 4.970296174633404e-08]], [[0.0058071305975317955, 0.9941909909248352, 1.9180422441422706e-06], [0.05727877467870712, 0.9427199959754944, 1.2479924862418557e-06]], [[0.7367482781410217, 0.013282688334584236, 0.2499689757823944], [0.0015861120773479342, 1.9758211067255615e-07, 0.9984136819839478]], [[0.9116309285163879, 0.00047789071686565876, 0.08789127320051193], [1.793476076272782e-05, 3.369857171087176e-10, 0.9999821186065674]], [[0.8629955053329468, 0.0012976604048162699, 0.1357068568468094], [0.00034661852987483144, 9.406305956360939e-09, 0.9996533393859863]], [[0.9199995398521423, 0.0025254366919398308, 0.07747505605220795], [0.00020417589985299855, 4.276038190198506e-09, 0.9997958540916443]], [[0.8693371415138245, 0.0010679723927751184, 0.12959493696689606], [0.0001454075099900365, 9.685081181487476e-09, 0.999854564666748]], [[0.9206328988075256, 0.0007595670176669955, 0.07860758155584335], [0.0002008865267271176, 9.376363685476008e-09, 0.9997990727424622]], [[0.6565210819244385, 3.750924952328205e-05, 0.3434414565563202], [9.545431385049596e-05, 7.957559944316017e-09, 0.9999045133590698]], [[0.1527881920337677, 2.4405020667472854e-05, 0.8471873998641968], [0.0007468793774023652, 6.7525705027549066e-09, 0.9992530941963196]], [[0.10383465886116028, 5.680178674083436e-06, 0.8961596488952637], [0.00036861616536043584, 8.596444445174711e-09, 0.999631404876709]], [[0.05385127663612366, 2.1590649339486845e-06, 0.946146547794342], [0.00047176351654343307, 2.559804279655964e-08, 0.999528169631958]], [[0.00229248427785933, 0.9976957440376282, 1.1778760381275788e-05], [0.7629884481430054, 0.23612280189990997, 0.0008887109579518437]], [[0.0005948383477516472, 0.999405026435852, 1.3657398767463746e-07], [0.18124327063560486, 0.8186005353927612, 0.00015623433864675462]], [[0.0024701072834432125, 0.9975212216377258, 8.73804856382776e-06], [0.1261831521987915, 0.8738102316856384, 6.590278189833043e-06]], [[0.02329094707965851, 0.9767016172409058, 7.439176897605648e-06], [0.004506884142756462, 0.9954912066459656, 1.9237641026847996e-06]], [[0.2360175997018814, 0.763882577419281, 9.984668577089906e-05], [0.0013892871793359518, 0.9986041188240051, 6.661452971457038e-06]], [[0.5340762734413147, 0.46553221344947815, 0.00039156738785095513], [0.00021089328220114112, 0.9997889399528503, 2.0723327054383844e-07]], [[0.5008113384246826, 0.44441333413124084, 0.05477529019117355], [0.00860217772424221, 0.9913972616195679, 6.173909241624642e-07]], [[0.4127815067768097, 0.24485917389392853, 0.3423592746257782], [0.014282009564340115, 0.9857176542282104, 3.0774808124078845e-07]], [[0.00021281723456922919, 0.999785840511322, 1.291369358114025e-06], [0.5751157402992249, 0.42467111349105835, 0.0002131569926859811]], [[0.05437584966421127, 0.9448272585868835, 0.0007968787103891373], [0.009251533076167107, 0.9907383322715759, 1.0119117177964654e-05]], [[0.050310779362916946, 0.5016711950302124, 0.448017954826355], [0.2821550965309143, 0.7177892923355103, 5.564409730141051e-05]], [[0.26103222370147705, 0.0003049258957616985, 0.7386628985404968], [0.0033881855197250843, 0.9909178614616394, 0.0056939939968287945]], [[0.00252327136695385, 0.000559346575755626, 0.9969173669815063], [0.9395419359207153, 0.050921984016895294, 0.009536060504615307]], [[0.06624720245599747, 0.00011524068395374343, 0.9336374998092651], [0.09525150060653687, 0.13789235055446625, 0.7668561339378357]], [[1.6467382010887377e-05, 0.999983549118042, 7.431074866559584e-09], [0.9494960904121399, 0.018724476918578148, 0.03177947551012039]], [[1.1765785075112944e-06, 0.9999988079071045, 1.5545910045378086e-11], [0.9603626132011414, 0.007066515274345875, 0.03257083147764206]], [[0.035210639238357544, 0.9647607207298279, 2.8600305086001754e-05], [0.002960666548460722, 0.0012190076522529125, 0.9958202838897705]], [[0.05399968847632408, 0.9097923040390015, 0.03620804846286774], [0.08337578177452087, 0.00023233437968883663, 0.9163918495178223]], [[0.9029143452644348, 0.0038004268426448107, 0.0932852104306221], [0.0002490912738721818, 0.0005420170491561294, 0.9992088675498962]], [[0.4977784752845764, 0.0015444535529240966, 0.5006769895553589], [0.001057951943948865, 0.0009922508616000414, 0.9979497790336609]], [[0.010254454798996449, 0.001197264646179974, 0.9885482788085938], [0.17547081410884857, 0.0023871681187301874, 0.8221420645713806]], [[0.04005615413188934, 0.0006560839246958494, 0.9592877626419067], [0.05105176568031311, 0.015986772254109383, 0.9329614639282227]], [[0.00896022655069828, 0.00029473434551618993, 0.9907450675964355], [0.4874385595321655, 0.1605759561061859, 0.35198545455932617]], [[0.01271728053689003, 0.0013410550309345126, 0.9859417080879211], [0.5677316188812256, 0.36035075783729553, 0.07191753387451172]], [[0.18963901698589325, 0.07389004528522491, 0.7364709377288818], [0.2501736283302307, 0.6165789365768433, 0.1332474946975708]], [[0.026683665812015533, 0.4455127418041229, 0.5278035402297974], [0.9453188180923462, 0.041284140199422836, 0.013397003524005413]], [[0.038451459258794785, 0.4652557671070099, 0.49629274010658264], [0.9265615940093994, 0.06256190687417984, 0.010876508429646492]], [[0.024569852277636528, 0.7366926074028015, 0.23873761296272278], [0.8783307671546936, 0.12037032842636108, 0.0012988582020625472]], [[0.46413150429725647, 0.019120972603559494, 0.5167475342750549], [0.03832785785198212, 0.957809567451477, 0.003862595884129405]], [[0.4603709280490875, 0.003106849966570735, 0.5365222692489624], [0.03781365975737572, 0.9527405500411987, 0.00944589450955391]], [[0.0007837139419279993, 0.9992076754570007, 8.674698619870469e-06], [0.1415405571460724, 2.8760898203472607e-05, 0.8584306836128235]], [[0.030885878950357437, 0.9688461422920227, 0.00026796042220667005], [0.05931800603866577, 0.0019929264672100544, 0.9386890530586243]], [[0.41645339131355286, 0.3351154029369354, 0.24843117594718933], [0.765427827835083, 0.013257892802357674, 0.22131428122520447]], [[0.11593682318925858, 0.0014086918672546744, 0.8826544880867004], [0.5420163869857788, 0.41128307580947876, 0.04670049622654915]], [[0.01157431211322546, 3.3665903629298555e-06, 0.9884223341941833], [0.12496346980333328, 0.8700845837593079, 0.004951973911374807]], [[0.0002836163039319217, 1.8408479718345916e-07, 0.9997162222862244], [0.2588098645210266, 0.7411492466926575, 4.094458927283995e-05]], [[0.0004981954116374254, 1.5891225757513894e-07, 0.9995015859603882], [0.051795974373817444, 0.9481977820396423, 6.2146700656739995e-06]], [[0.023071814328432083, 0.9746993780136108, 0.0022288088221102953], [0.05862513184547424, 0.002726275008171797, 0.9386486411094666]], [[0.005694838706403971, 0.9942286014556885, 7.657704554731026e-05], [0.3182232975959778, 0.023905646055936813, 0.6578711271286011]], [[0.03639661520719528, 0.9573040008544922, 0.006299449130892754], [0.6215358972549438, 0.01152095478028059, 0.3669431507587433]], [[0.08114032447338104, 0.9093883037567139, 0.009471303783357143], [0.353638619184494, 0.08647946268320084, 0.5598819255828857]], [[0.014090856537222862, 0.9751742482185364, 0.010734857991337776], [0.790285587310791, 0.049204543232917786, 0.16050994396209717]], [[0.40737396478652954, 0.5896187424659729, 0.003007276216521859], [0.0028528054244816303, 0.05819651857018471, 0.9389507174491882]], [[0.00043709372403100133, 0.9962877035140991, 0.0032751813996583223], [0.9259077906608582, 0.0009095707791857421, 0.07318256050348282]], [[0.10803518444299698, 0.8785732984542847, 0.013391506858170033], [0.006370109040290117, 0.0022676161024719477, 0.9913622736930847]], [[0.12520168721675873, 0.8690221905708313, 0.005776067264378071], [0.0017740526236593723, 0.0015447140904143453, 0.9966811537742615]], [[0.0002090440975734964, 0.9968197345733643, 0.002971179783344269], [0.8747764229774475, 0.0003332081250846386, 0.12489040195941925]], [[0.01864558458328247, 0.9791809320449829, 0.0021734489127993584], [0.02716873586177826, 0.007592609152197838, 0.965238630771637]], [[0.001351789222098887, 0.9965108036994934, 0.002137397648766637], [0.4180698096752167, 0.01565353199839592, 0.5662767291069031]], [[0.0010224258294329047, 0.9965388774871826, 0.0024386337026953697], [0.6106391549110413, 0.021580815315246582, 0.367779940366745]], [[0.00017869612202048302, 0.9967235922813416, 0.0030977779533714056], [0.9573460817337036, 0.005189056042581797, 0.03746490553021431]], [[0.007576191332191229, 0.9819629192352295, 0.010460843332111835], [0.42844733595848083, 0.2088879495859146, 0.3626646399497986]], [[0.021008802577853203, 0.9508117437362671, 0.028179466724395752], [0.2637261152267456, 0.3648223578929901, 0.37145155668258667]], [[0.009166109375655651, 0.7931033372879028, 0.19773055613040924], [0.790470540523529, 0.08716189861297607, 0.1223675087094307]], [[0.0022979946807026863, 0.7255158424377441, 0.27218616008758545], [0.9698044657707214, 0.01997223310172558, 0.01022323314100504]], [[0.02737632393836975, 0.2866077125072479, 0.6860159635543823], [0.3961488902568817, 0.5468350052833557, 0.057016029953956604]], [[0.11569688469171524, 0.11149069666862488, 0.7728123664855957], [0.05697871744632721, 0.8429530262947083, 0.10006825625896454]], [[0.002402156125754118, 0.3237859606742859, 0.6738119125366211], [0.954881489276886, 0.0353517048060894, 0.009766815230250359]], [[0.2715390622615814, 0.1067572757601738, 0.6217036247253418], [0.041395626962184906, 0.7571074366569519, 0.20149697363376617]], [[0.06753245741128922, 0.058803822845220566, 0.8736637234687805], [0.16302090883255005, 0.5390480160713196, 0.297931045293808]], [[0.007414626888930798, 0.06337397545576096, 0.9292113780975342], [0.9190909266471863, 0.06692279875278473, 0.013986342586576939]], [[0.005451104138046503, 0.03751131519675255, 0.957037627696991], [0.948801577091217, 0.04813027009367943, 0.003068075980991125]], [[0.09306041151285172, 0.0584026575088501, 0.8485369086265564], [0.18960650265216827, 0.8032183647155762, 0.007175120059400797]], [[0.06341666728258133, 0.018033882603049278, 0.9185494780540466], [0.14137712121009827, 0.8516581654548645, 0.006964773405343294]], [[0.005303352605551481, 0.05140259116888046, 0.9432939887046814], [0.81251060962677, 0.18691202998161316, 0.000577404338400811]], [[0.23567625880241394, 0.004055440425872803, 0.7602682709693909], [0.010733029805123806, 0.9874274730682373, 0.0018394209910184145]], [[0.09430056065320969, 0.012785738334059715, 0.8929136991500854], [0.10945367068052292, 0.8899046778678894, 0.0006416592514142394]], [[0.08256537467241287, 0.006638258695602417, 0.9107964038848877], [0.07459823042154312, 0.9246572256088257, 0.0007444379152730107]], [[0.056601010262966156, 0.0007792633841745555, 0.9426197409629822], [0.036798298358917236, 0.962531566619873, 0.0006701435195282102]], [[0.07697030156850815, 0.0006958572776056826, 0.922333836555481], [0.01771712303161621, 0.9822010397911072, 8.181246084859595e-05]], [[0.013168981298804283, 0.9862918853759766, 0.0005390606820583344], [0.5037097930908203, 0.0008815192268230021, 0.49540865421295166]], [[0.023446470499038696, 0.015685904771089554, 0.9608676433563232], [0.43402108550071716, 0.5509909391403198, 0.014988080598413944]], [[0.018485141918063164, 0.97536700963974, 0.00614780280739069], [0.2587045729160309, 0.0003947264631278813, 0.7409006953239441]], [[0.0038861779030412436, 0.991572380065918, 0.004541448317468166], [0.4874054789543152, 0.0003416082472540438, 0.5122528672218323]], [[0.002605760470032692, 0.00014600322174374014, 0.9972482323646545], [0.6010494828224182, 0.18876655399799347, 0.2101839780807495]], [[0.025794219225645065, 0.9712011218070984, 0.003004666417837143], [0.03961385041475296, 9.252287418348715e-05, 0.960293710231781]], [[0.023067591711878777, 0.05677597224712372, 0.9201564192771912], [0.6418358087539673, 0.2542363703250885, 0.10392778366804123]], [[0.0012990764807909727, 0.9986518025398254, 4.919974526274018e-05], [0.05030346289277077, 1.200593601424771e-06, 0.9496954083442688]], [[0.001705516711808741, 0.9977512955665588, 0.0005432507023215294], [0.35752904415130615, 0.0002928810426965356, 0.6421781182289124]]]; // action probs
        var action =  [[2, 1], [1, 1], [0, 1], [0, 1], [1, 1], [0, 1], [1, 2], [1, 2], [1, 2], [1, 2], [1, 2], [1, 2], [1, 0], [1, 0], [2, 0], [2, 0], [2, 0], [2, 2], [2, 0], [2, 0], [2, 0], [2, 0], [2, 0], [2, 2], [2, 2], [2, 2], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [1, 1], [0, 2], [0, 2], [0, 2], [0, 2], [0, 2], [0, 2], [0, 2], [2, 2], [2, 2], [2, 2], [1, 0], [1, 1], [1, 1], [1, 1], [0, 1], [0, 1], [0, 1], [0, 1], [1, 0], [0, 1], [1, 0], [0, 1], [2, 0], [2, 2], [1, 0], [1, 0], [1, 2], [1, 2], [0, 2], [0, 2], [2, 2], [2, 2], [2, 1], [2, 1], [2, 1], [2, 0], [1, 0], [1, 1], [0, 1], [0, 1], [1, 2], [1, 2], [1, 2], [2, 1], [2, 1], [2, 1], [2, 1], [1, 2], [1, 2], [1, 0], [1, 1], [1, 0], [1, 2], [1, 0], [1, 2], [1, 2], [1, 0], [1, 2], [1, 0], [1, 0], [1, 0], [1, 2], [1, 2], [1, 0], [1, 0], [1, 0], [1, 1], [1, 0], [0, 2], [2, 2], [2, 0], [2, 2], [2, 1], [0, 1], [2, 0], [2, 1], [2, 1], [2, 1], [2, 1], [2, 1], [1, 2], [2, 0], [1, 0], [1, 0], [2, 0], [1, 2], [2, 1], [1, 2], [1, 2]];
        var action_names = [['no-op', 'left', 'right'], ['no-op', 'up', 'down']];
        var x_values = [...Array(y_values.length).keys()];

        var y_entropy_plot = [];
        var y_values_plot = [];

        // Set marker for plots
        var entropy_marker = false;
        var value_marker = false;

        // Set the to be shown statistic
        var statistic_type = 'general'
        // Only used for the transformer plot to show the correct statistic with tab switching
        var statistic_plot_id = 0;
        // Hide statistic type button if there is no attention weights
        if(y_attention_weights.length == 0) stats_button.style.display = 'none';

        // Set the to be shown action_space(s) for the entropy plot
        var entr_selected_action_space = null;

        var is_multi_discrete = action[0].length != 1;
        var is_discrete = action[0].length == 1;

        // Reformat the data for the plots
        // Each function y - value should be stored in a separate array
        for(var j = 0; j < y_values[0].length; j++)
            for(var i = 0; i < y_values.length; i++)
                y_values_plot.push(y_values[i][j]);

        if(is_discrete) { // If action_space is discrete
          for(var j = 0; j < y_entropy[0].length; j++)
              for(var i = 0; i < y_values.length; i++)
                  y_entropy_plot.push(y_entropy[i][j]);
        }
        else { // If action_space is multi discrete
          for(var j = 0; j < y_entropy[0].length; j++) {
            var y_entropy_vals = [];
            for(var i = 0; i < y_entropy.length; i++) {
                y_entropy_vals.push(y_entropy[i][j]);
            }
            y_entropy_plot.push(y_entropy_vals);
          }
        }

        // Set action_names for distr. plot if it does not exist
        if(action_names == null){
          action_names = [];
          for(var i = 0; i < y_action[0].length; i++){
            for(var j = 0; j < y_action[0][0].length; j++)
              if(is_discrete){ // if action space is discrete
                action_names.push("action_" + String(j));
            }
            else { // if action space is multi_discrete
              var action_branch_names = []; // Names of the branches of the action space
              for(var j = 0; j < y_action[0][i].length; j++){
                action_branch_names.push("action_" + String(j));
              }
              action_names.push(action_branch_names);
            }     
          }
        }
        else{
          if(action[0].length == 1 && Array.isArray(action_names[0])){ // If action space is discrete and action_names is multi_discrete
            action_names = action_names[0]; // Set action_names to the first branch of the action space
          }
        }

        // Modify dropdown menu
        if(is_discrete){ // if action space is discrete
          document.getElementById("all").outerHTML=""; // remove dropdown option 'all'
        }
        else { // If action space is multi_discrete
          // Create dropdown menu for the entropy function
          var dropdown_content = document.getElementById("dropdown_content"); 
          for(var i = 0; i < action[0].length; i++){
            var entropy_dropdown_option = document.createElement("a");
            entropy_dropdown_option.innerHTML = "action_space_" + String(i);
            entropy_dropdown_option.setAttribute("href", "#");
            entropy_dropdown_option.setAttribute("onclick", "set_action_space(" + String(i) + ")");
            dropdown_content.appendChild(entropy_dropdown_option);
          }
        }

        window.addEventListener('load', () => {
          // Set video length to length - 0.9999 because the last frame is two seconds long
          video_length = video_player.duration - 0.9999;
          time_selector.setAttribute('max', video_length); // Set max value of time selector to video length

          video_player.addEventListener('timeupdate', timeListener); // Update time selector and plots when video is playing
          video_player.addEventListener('dblclick', function(e) {open_fullscreen(video_player);}); // Open video in fullscreen when video is double clicked
          video_player.playbackRate = 6; // Set video playback rate to frame rate
          reset(); // Reset video to start
        }, false);
      
      // Update video time if time selector is changed
      time_selector.addEventListener('input', () => {
          video_player.currentTime = time_selector.value
          pause();
          update();
      })

      // Add event manager for tab
      window.addEventListener('keydown', function(event) {
          if (event.key === 'Tab') {
              if (statistic_type == "transformer") {
                statistic_plot_id = (statistic_plot_id + 1) % 3;
                // Set action plot if statistic_plot_id is 0
                if(statistic_plot_id == 0){
                  // Update action plot
                  if(is_discrete) { // If action_space is discrete
                    set_bar_action_plot(y_action[step][0], action[step][0], action_names);
                  }
                  else { // If action_space is multi discrete
                      set_stacked_bar_action_plot(y_action[step], action[step], action_names);
                  }
                }
                // Set value plot if statistic_plot_id is 1
                if (statistic_plot_id == 1) {
                  set_scatter_line_plot('action_distr', "Value Function", y_values_plot, step, value_marker);
                }

              // Set entropy plot if statistic_plot_id is 2
              if (statistic_plot_id == 2) {
                  if(is_discrete) { // If action_space is discrete
                      set_scatter_line_plot('action_distr', "Entropy Function", y_entropy_plot, step, entropy_marker);
                  }
                  else { // If action_space is multi discrete
                      set_scatter_lines_plot('action_distr', "Entropy Function", y_entropy_plot, step, entropy_marker);
                  }
              }
          }
      }
    });

    // Show ground truth if checkbox is checked
    function show_ground_truth() {
        // Get the checkbox element by its ID
        var checkbox = document.getElementById("show_ground_truth");
        
        // Check if the checkbox is checked
        if (checkbox.checked) { // Show the ground truth
          if (video_id == render_id) video_id = render_gt_id;
          if (video_id == render_decoder_id) video_id = render_decoder_gt_id;
          if (video_id == render_agent_id) video_id = render_agent_gt_id;
          set_video(video_path[video_id]);
        } else {
          if (video_id == render_gt_id) video_id = render_id;
          if (video_id == render_decoder_gt_id) video_id = render_decoder_id;
          if (video_id == render_agent_gt_id) video_id = render_agent_id;
          set_video(video_path[video_id]);
        }
      }

    // Show decoder video if checkbox is checked
    function show_decoder_video() {
      var checkbox = document.getElementById("show_decoder_video");
      document.getElementById("show_agent_video").checked = false;

      if (checkbox.checked) { 
          if (video_id == render_id) video_id = render_decoder_id;
          if (video_id == render_gt_id) video_id = render_decoder_gt_id;
          if (video_id == render_agent_id) video_id = render_decoder_id;
          if (video_id == render_agent_gt_id) video_id = render_decoder_gt_id;
          set_video(video_path[video_id]);
        } else { // Hide decoder video
          if (video_id == render_decoder_id) video_id = render_id;
          if (video_id == render_decoder_gt_id) video_id = render_gt_id;
          set_video(video_path[video_id]);
        }
    }

    // Show agent video if checkbox is checked
    function show_agent_video() {
      var checkbox = document.getElementById("show_agent_video");
      document.getElementById("show_decoder_video").checked  = false;

      if (checkbox.checked) { 
          if (video_id == render_id) video_id = render_agent_id;
          if (video_id == render_gt_id) video_id = render_agent_gt_id;
          if (video_id == render_decoder_id) video_id = render_agent_id;
          if (video_id == render_decoder_gt_id) video_id = render_agent_gt_id;
          set_video(video_path[video_id]);
        } else { // Hide agent video
          if (video_id == render_agent_id) video_id = render_id;
          if (video_id == render_agent_gt_id) video_id = render_gt_id;
          set_video(video_path[video_id]);
        }
    }

    // Set the video to the given path
    function set_video(path) {
        // Get video data to make the switch seamless
        var current_time = video_player.currentTime;
        var play_back_rate = video_player.playbackRate;
        var is_paused = video_player.paused;
        video_player.querySelector("source").src = path;
        // Reload video
        video_player.load();
        video_player.currentTime = current_time;
        video_player.playbackRate = play_back_rate;
        if(is_paused) pause();
        else play();
    }


      /**
      * Update time selector and plots when video is playing
      */
      function timeListener() {
        if(!video_player.paused) {
          update();
        } 
      }

      /**
      * Toggles button and video between playing and paused
      */
      function play_pause() {
        if(video_player.paused)
          play();
        else 
          pause();
      }

      /**
       * Returns to the previous frame step
       */
       function return_to_step() {
        video_player.currentTime = past_steps.pop();
        pause();
        update();
        gotostep_text.value = step;
        return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
       * Updates the plots and time selector
       */
       function go_to_step(event) {
        if (event.keyCode === 13) {
          past_steps.push(step);
          video_player.currentTime = Number(gotostep_text.value);
          pause();
          update();
          gotostep_text.value = step;
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
        }
      }

      function set_video_speed(event) {
        if (event.keyCode === 13) {
          video_player.playbackRate = Number(video_speed.value);
        }
      }

      /**
       * Updates the plots and time selector
       */
       function top_scores() {
        if (event.keyCode === 13) update()
      }

      /**
      * Pauses video
      */
      function pause() {
          play_pause_button.innerHTML = "Play";
          video_player.pause();
      }

      /**
      * Plays the video
      */
      function play() {
          play_pause_button.innerHTML = "Pause";
          video_player.play();
      }

      /**
      * Resets the video and plots to the start
      */
      function reset() {
          video_player.currentTime = 0;
          past_steps.push(step);
          pause();
          update();
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
      * Goes to the previous frame
      */
      function back() {
          video_player.currentTime = video_player.currentTime - tS_step_size
          pause();
          update();
          past_steps.push(step + 1);
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
      * Goes to the next frame
      */
      function next() {
          video_player.currentTime = video_player.currentTime + tS_step_size;
          pause();
          update();
          past_steps.push(step - 1);
          return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
      }

      /**
       * Switches between general and transformer statistics
       */
       function statistic() {
        if (stats_button.innerHTML == "General") {
          statistic_type = "general";
          stats_button.innerHTML = "Transformer";
        }
        else if (stats_button.innerHTML == "Transformer") {
          statistic_type = "transformer";
          stats_button.innerHTML = "General";
        }
        update();
      }
      /**
      * Opens the video in fullscreen
      */
      function open_fullscreen(vid_elem) {
          if (vid_elem.requestFullscreen) {
              vid_elem.requestFullscreen();
          } else if (vid_elem.webkitRequestFullscreen) { /* Safari */
              vid_elem.webkitRequestFullscreen();
          } else if (vid_elem.msRequestFullscreen) { /* IE11 */
              vid_elem.msRequestFullscreen();
          }
          vid_elem.pause();
      }

      // Selects the action space for the entropy plot
      function set_action_space(spaces){
        if (spaces == 'all')
          entr_selected_action_space = null;
        else
          entr_selected_action_space = Number(spaces);
        update();
      }

      function marker(marker_id){
        if(marker_id == "entropy")
          entropy_marker = !entropy_marker;
        else if(marker_id == "value")
          value_marker = !value_marker;
        update();
      }

      /**
      * Updates the plots and time selector
      */
      function update()  {
        if(video_player.currentTime == Math.round(video_player.currentTime)) // If time t of video is a natural number then step is t - 1
              video_player.currentTime += 0.0001 // Add a small number to make sure that the step and the current time are the same
        if(video_player.currentTime > video_length) {
           video_player.currentTime = video_length;
           pause();
        } // Video can't go past the end
        time_selector.value = video_player.currentTime; // Update time selector
        step = Math.floor(video_player.currentTime); // Get step of video for plots

        // Update plots
        if (statistic_type == "general")
          render_general_statistics();
        else if (statistic_type == "transformer")
          render_transformer_statistics();

        if(statistic_type == "general") {
          // Reset plot id
          statistic_plot_id = 0;
          // Update action plot
          if(is_discrete) { // If action_space is discrete
            set_bar_action_plot(y_action[step][0], action[step][0], action_names);
          }
          else { // If action_space is multi discrete
              set_stacked_bar_action_plot(y_action[step], action[step], action_names);
          }
        }
      }

      /**
      * Renders the general statistics
      */
      function render_general_statistics() {
        // Disables the transformer statistics and enables the general statistics
          document.getElementById('transformer').style.display = 'none';
          document.getElementById('top_n_scores').style.display = 'none';
          document.querySelector('label[for="top_n_scores"]').style.display = 'none';
          document.getElementById('value_func').style.display = 'block';
          document.getElementById('entropy_func').style.display = 'block';
          document.getElementById('options').style.display = 'block';
        // Updates the plots
          set_scatter_line_plot('value_func', "Value Function", y_values_plot, step, value_marker);
          if(is_discrete) { // If action_space is discrete
              set_scatter_line_plot('entropy_func', "Entropy Function", y_entropy_plot, step, entropy_marker);
          }
          else { // If action_space is multi discrete
              set_scatter_lines_plot('entropy_func', "Entropy Function", y_entropy_plot, step, entropy_marker);
          }
        }
      
      /*
      * Renders the transformer statistics
      */
      function render_transformer_statistics() {
        // Disables the general statistics and enables the transformer statistics
        document.getElementById('transformer').style.display = 'block';
        document.getElementById('top_n_scores').style.display = 'block';
        document.querySelector('label[for="top_n_scores"]').style.display = 'block';
        document.getElementById('value_func').style.display = 'none';
        document.getElementById('entropy_func').style.display = 'none';
        document.getElementById('options').style.display = 'none';
        // Updates the plots
        var top_n = Number(top_n_scores.value);
        if (top_n == -1) top_n = step;
        visualizeAttentionScores(y_attention_weights[step], top_n);
        }


      /**
       * Renders attention scores
      */
      async function visualizeAttentionScores(attentionScores, n_values) {
        const numHeads = attentionScores.length;
        
        let data = [];
        let layout = {
          grid: {
              rows: numHeads, 
              columns: 1, 
              pattern: 'independent',
              subplots: [...Array(numHeads).keys()].map(i => `xy${i + 1}`),
              ygap: 0.4 // adjust this value according to your preference
          },
          plot_bgcolor: '#000',
          paper_bgcolor: '#000',
          font: {
              family: 'Montserrat',
              size: 12,
              color: '#fff'
          },
          margin: {
              t: 0,  // reduce top margin
          },
      }

        // Flatten the array to find the max value across all arrays
        let flatScores = attentionScores.flat();
        let maxScore = Math.max(...flatScores);

        // Iterate through each attention head
        for (let headIdx = 0; headIdx < numHeads; headIdx++) {
            // Get attention scores for the current head
            let headScores = attentionScores[headIdx];
            
            // This array will keep up to the 10 highest scores
            let topScores = [];

            for (let i = 0; i < headScores.length; i++) {
                // Insert current score into the top scores array
                topScores.push({score: headScores[i], index: i});
                
                // Sort the top scores array
                topScores.sort((a, b) => b.score - a.score);

                // If there are more than 10 scores, remove the smallest
                if (topScores.length > n_values) {
                    topScores.pop();
                }
            }

            // Sort the topScores array by index
            topScores.sort((a, b) => a.index - b.index);

            // Now topScores contains the top 10 scores sorted by their indices.
            // You can extract the scores and their indices into separate arrays:
            let filteredHeadScores = topScores.map(x => x.score);
            let filteredTicks = topScores.map(x => x.index);


            const sequenceLength = filteredHeadScores.length;

            layout.height = 400;
            layout.width = window.innerWidth;

            const headScoresPlot = {
                z: [filteredHeadScores],
                type: 'heatmap',
                showscale: true,  
                colorscale: 'Hot',
                zmin: 0,
                zmax: maxScore,
                xaxis: `x${headIdx + 1}`,
                yaxis: `y${headIdx + 1}`,
            };

            data.push(headScoresPlot);

            layout[`xaxis${headIdx + 1}`] = {
                tickmode: 'array',
                tickvals: Array.from({length: sequenceLength}, (_, i) => i),
                ticktext: filteredTicks
            };

            layout[`yaxis${headIdx + 1}`] = {
                title: `Block ${headIdx + 1}`,
                ticks: 'outside',
                tick0: 0,
                dtick: 1,
                ticklen: 8,
                tickwidth: 4,
                tickcolor: '#000'
            };
        }

        const config = {responsive: true};

        Plotly.newPlot('transformer', data, layout, config).then(function() {
          var myPlot = document.getElementById('transformer');
          myPlot.on('plotly_click', function(data){
            // Jump to the step that was clicked
              past_steps.push(step);
              video_player.currentTime = Number(data.points[0].xaxis.ticktext[data.points[0].x]);
              pause();
              update();
              return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
          });
      });
    }

      /** 
      * Sets a stacked bar plot for the multi discrete action distribution
      * @param {array} y_values - The action distribution
      * @param {array} action - The action
      * @param {array} action_names - The names of the actions
      */
      function set_stacked_bar_action_plot(y_values, action, action_names) {
        var bar_plot_data_action = [];
        // Set data for each action
        for(var j = 0; j < action_names[0].length; j++) {
            var color = ""
            for(var i = 0; i < action_names.length; i++) {
                if(action[i] == j) // If action sampled in the current frame
                    color = '#FF0000'; // Color it red
                else
                    color = '#FAEBD7'; // Color it white
                var trace = {
                    x: [["action_space_", String(i)].join("")],
                    y: [y_values[i][j]],
                    text: [y_values[i][j], action_names[i][j]].map(String).join("<br>"), // Add action name and prob to the bar
                    marker: {
                        color: color,
                        line: {
                            color: '#000000',
                            width: 1
                          }
                    },
                    type: 'bar'
                };
                bar_plot_data_action.push(trace);
            }
        }

        // Set layout for the plot
        var bar_plot_layout_action = {
            autosize: true,
            width: 600,
            height: 360,
            margin: {
                l: 28,
                r: 0,
                b: 30,
                t: 22,
                pad: 4
              },
            plot_bgcolor: '#000',
            paper_bgcolor: '#000',
            font: {
                family: 'Montserrat',
                size: 12,
                color: '#fff'
            },
            title: {
                text: 'Action Distribution',
                font: {
                    family: 'Montserrat',
                    size: 15,
                    color: '#fff'
                }
            },
            barmode: 'stack',
            showlegend: false
      };

      // Plot the data
      Plotly.newPlot('action_distr', bar_plot_data_action, bar_plot_layout_action);
      }

      /**
      * Sets a bar plot for the discrete action distribution
      */
      function set_bar_action_plot(y_values, action, action_names) {

          var color_value = new Array(y_values.length).fill('#FAEBD7'); // Set color for all actions to white
          color_value[action] = '#FF0000'; // Except the selected action should be red
          // Set data for the plot
          var bar_plot_data_action = [
              {
                  x: action_names,
                  y: y_values,
                  type: 'bar',
                  marker: {
                      color: color_value
                  },
                  textposition: 'auto',
                  text: y_values.map(String), // Add prob to the bar plot
                  textfont: {
                      family: 'Montserrat',
                      size: 12,
                  },
                  textangle: 0,
                  textposition: 'bottom center',
              }
          ];

          // Set layout for the plot
          var bar_plot_layout_action = {
            autosize: true,
            width: 600,
            height: 360,
            margin: {
                l: 28,
                r: 0,
                b: 30,
                t: 22,
                pad: 4
              },
            yaxis: {
              automargin: true,
            },
            plot_bgcolor: '#000',
            paper_bgcolor: '#000',
            font: {
                family: 'Montserrat',
                size: 12,
                color: '#fff'
            },
            title: {
                text: 'Action Distribution',
                font: {
                    family: 'Montserrat',
                    size: 15,
                    color: '#fff'
                }
            }
      };
          
          // Plot the action distribution
          Plotly.newPlot('action_distr', bar_plot_data_action, bar_plot_layout_action);
      }


      /**
      * Sets a scatter plot for the emtropy function if multi discrete actions are used
      * @param {string} id - The id of the plot
      * @param {string} title - The title of the plot
      * @param {array} y_values - The entropy function y values
      * @param {int} step - The step of the video
      * @param {boolean} marker - If the marker should be shown
      */
      function set_scatter_lines_plot(id, title, y_values, step, marker) {
        line_scatter_plot_data_value = [];

        // Set colors and data for the plot
        var colors = ['#FAEBD780', '#7CFC0080', '#FFBF0080', '#FF7F5080', '#DE316380', '#9FE2BF80', '#40E0D080', '#6495ED80', '#CCCCFF80']
        for(var i = 0; i < y_values.length; i++) {
          var x_values_marker = x_values.slice(0, step + 1);
          var y_values_marker = y_values[i].slice(0, step + 1);
            var trace = [
            {
                x: x_values_marker,
                y: y_values_marker,
                mode: 'line',
                line: {
                    color: colors[i]
                },
                name: 'action_space_' + String(i),
                showlegend: true,
            },
            {
                x: x_values,
                y: y_values[i],
                mode: 'markers',
                name: 'action_space_' + String(i) + "_marker",
                marker: {
                    color: colors[i]
                },
                showlegend: true,
            }
        ];
            // Add data to the plot
            line_scatter_plot_data_value.push(trace[0]);
            if(marker)
              line_scatter_plot_data_value.push(trace[1]); 
        }

        // Select the selected action_space for the entropy plot
        if(entr_selected_action_space != null && marker)
          line_scatter_plot_data_value = [line_scatter_plot_data_value[entr_selected_action_space * 2], line_scatter_plot_data_value[entr_selected_action_space * 2 + 1]];
        else if(entr_selected_action_space != null && !marker)
          line_scatter_plot_data_value = [line_scatter_plot_data_value[entr_selected_action_space]];

        // Set layout for the plot
        var line__scatter_plot_layout_value = {
            autosize: true,
            width: 600,
            height: 360,
            margin: {
                l: 50,
                r: 0,
                b: 30,
                t: 25,
                pad: 4
                },
            yaxis: {
                automargin: true
            },
            plot_bgcolor: '#000',
            paper_bgcolor: '#000',
            font: {
                family: 'Montserrat',
                size: 12,
                color: '#fff'
            },
            title: {
                text: title,
                font: {
                    family: 'Montserrat',
                    size: 15,
                    color: '#fff'
                }
            },
            showlegend: true,
        };

        // Plot the data
        Plotly.newPlot(id, line_scatter_plot_data_value, line__scatter_plot_layout_value);
        // Add event handler for clicking on a marker
        document.getElementById(id).on('plotly_click', function(data){
            past_steps.push(step);
            video_player.currentTime = Number(data.points[0].x);
            pause();
            update();
            return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
          });
      }


      /**
      * Sets a scatter plot for the value function
      * @param {string} id - The id of the plot
      * @param {string} title - The title of the plot
      * @param {array} y_values - The value function y values
      * @param {int} step - The step of the video
      * @param {boolean} marker - If the marker should be shown
      */
      function set_scatter_line_plot(id, title, y_values, step, marker) {
          // Set data for layout for the plot
          var line__scatter_plot_layout_value = {
              autosize: true,
              width: 600,
              height: 360,
              margin: {
                  l: 50,
                  r: 0,
                  b: 30,
                  t: 25,
                  pad: 4
                  },
              yaxis: {
                  automargin: true
              },
              plot_bgcolor: '#000',
              paper_bgcolor: '#000',
              font: {
                  family: 'Montserrat',
                  size: 12,
                  color: '#fff'
              },
              title: {
                  text: title,
                  font: {
                      family: 'Montserrat',
                      size: 15,
                      color: '#fff'
                  }
              },
              showlegend: false,
          };

          // Set data for the plot
          var x_values_marker = x_values.slice(0, step + 1);
          var y_values_marker = y_values.slice(0, step + 1);

          var line_scatter_plot_data_value = [
              {
                  x: x_values_marker,
                  y: y_values_marker,
                  mode: 'line',
                  line: {
                      color: '#FAEBD7'
                  },
                  name: 'function',
              },
              {
                  x: x_values,
                  y: y_values,
                  mode: 'markers',
                  marker: {
                      color: '#7CFC0080'
                  },
                  name: 'marker',
              }
          ];

          if(!marker)
            line_scatter_plot_data_value = [line_scatter_plot_data_value[0]];

          // Plot the value function
          Plotly.newPlot(id, line_scatter_plot_data_value, line__scatter_plot_layout_value);

          // Add event handler for clicking on a marker
          document.getElementById(id).on('plotly_click', function(data){
            past_steps.push(step);
            video_player.currentTime = Number(data.points[0].x);
            pause();
            update();
            return_button.innerHTML = "Return to step " + past_steps[past_steps.length - 1]; 
          });
      }
    
    /**
    * Opens the specific tab based on the probided id
    * @param {string} id - The id of the tab
    */
    function openTab(evt, id) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        mediatabcontent = document.getElementsByClassName("mediatabcontent");
        // Hide all elements with class="tabcontent" and "mediacontent" by default
        for (i = 0; i < mediatabcontent.length; i++) {
            mediatabcontent[i].style.display = "none";
        }
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        // Show the specific tab content
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(id).style.display = "block";
        evt.currentTarget.className += " active";
      }
    </script>
  </body>
</html>